(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('{"e":{"Efectivo $":{"currency":"$","detailsLabel":"Comentarios","detailsType":"text"},"Zelle":{"currency":"$","detailsLabel":"Email","detailsType":"email"},"Panama":{"currency":"$","detailsLabel":"Numero Transferencia","detailsType":"text"},"Pago Mobil":{"currency":"Bs.","detailsLabel":"Detalles","detailsType":"text"},"Transferencia":{"currency":"Bs","detailsLabel":"Numero Transferencia","detailsType":"text"}},"a":{"payment_type":"Efectivo $"},"b":{"tax_id":{"label":"Cedula Rif.","type":"search","validation":{"required":true}},"firstname":{"label":"Nombre","type":"text","validation":{"required":true}},"lastname":{"label":"Apellidos","type":"text","validation":{"required":true}},"address":{"label":"Direcci\xf3n","type":"text","validation":{"required":true}},"city":{"label":"Ciudad","type":"text","defaultValue":"Barcelona","validation":{"required":true}},"phone":{"label":"Telefono","type":"text"},"email":{"label":"Email","type":"email","validation":{"email":true}}},"g":[{"id":"description","numeric":false,"disablePadding":false,"label":"Descripcion"},{"id":"departament","numeric":false,"disablePadding":true,"label":"Grupo"},{"id":"stock","numeric":true,"disablePadding":true,"label":"Exist."},{"id":"tax","numeric":true,"disablePadding":false,"label":"iva"},{"id":"price","numeric":true,"disablePadding":false,"label":"Precio Kg"},{"id":"price_2","numeric":true,"disablePadding":false,"label":"Precio 0.5kg"},{"id":"price_3","numeric":true,"disablePadding":false,"label":"Precio 0.25kg"},{"id":"","numeric":true,"disablePadding":true,"label":""}],"f":{"departament":{"label":"Grupo","type":"text","validation":{"required":true}},"description":{"label":"Descripcion","type":"text","validation":{"required":true}},"minimum":{"label":"Minimo","type":"number","validation":{"required":true,"numeric":true}},"cost":{"label":"Costo","type":"number","validation":{"required":true,"numeric":true}},"price":{"label":"Precio Kg","type":"number","defaultValue":0,"validation":{"required":true,"numeric":true}},"price_2":{"label":"Precio 0.5kg","type":"number","defaultValue":0,"validation":{"required":true,"numeric":true}},"price_3":{"label":"Precio 0.25 kg","type":"number","defaultValue":0,"validation":{"required":true,"numeric":true}},"stock":{"label":"Exis.","type":"number","defaultValue":0,"validation":{"required":true,"numeric":true}},"tax":{"label":"iva","type":"number","validation":{"required":true,"numeric":true}}},"c":[{"id":"number","numeric":false,"disablePadding":false,"label":"Numero"},{"id":"date","numeric":false,"disablePadding":true,"label":"Fecha"},{"id":"tax_id","numeric":false,"disablePadding":true,"label":"Cedula/Rif"},{"id":"fullname","numeric":false,"disablePadding":true,"label":"Nombre"},{"id":"total","numeric":true,"disablePadding":false,"label":"Total"},{"id":"total_bs","numeric":true,"disablePadding":false,"label":"Total Bs."}],"m":{"invoices":[{"id":"number","numeric":false,"disablePadding":false,"label":"Numero"},{"id":"tax_id","numeric":false,"disablePadding":true,"label":"Cedula/Rif"},{"id":"fullname","numeric":false,"disablePadding":true,"label":"Nombre"},{"id":"exchange","numeric":true,"disablePadding":false,"label":"Tasa"},{"id":"total","numeric":true,"disablePadding":false,"label":"Total"}],"payments":[{"id":"payment","numeric":false,"disablePadding":false,"label":"Forma Pago","colSpan":"3"},{"id":"total","numeric":true,"disablePadding":false,"label":"Total"},{"id":"total_bs","numeric":true,"disablePadding":false,"label":"Total Bs."}],"products":[{"id":"description","numeric":false,"disablePadding":false,"label":"Producto","colSpan":"4"},{"id":"quantity","numeric":true,"disablePadding":false,"label":"Cantidad"}]},"k":[{"id":"number","numeric":false,"disablePadding":false,"label":"Numero"},{"id":"date","numeric":false,"disablePadding":true,"label":"Fecha"},{"id":"tax_id","numeric":false,"disablePadding":true,"label":"Cedula/Rif"},{"id":"fullname","numeric":false,"disablePadding":true,"label":"Nombre"},{"id":"total","numeric":true,"disablePadding":false,"label":"Total"},{"id":"total_bs","numeric":true,"disablePadding":false,"label":"Total Bs."}],"j":[{"id":"description","numeric":false,"disablePadding":false,"label":"Descripcion"},{"id":"quantity","numeric":false,"disablePadding":false,"label":"Cantidad"},{"id":"cost","numeric":false,"disablePadding":true,"label":"Costo"},{"id":"price","numeric":false,"disablePadding":true,"label":"Precio"},{"id":"total","numeric":true,"disablePadding":false,"label":"Total"},{"id":"total_bs","numeric":true,"disablePadding":false,"label":"Total Bs."}],"d":{"username":{"label":"Usuario","type":"text","validation":{"required":true}},"password":{"label":"contrase\xf1a","type":"password"}},"l":{"tax_id":{"label":"Rif","type":"text","validation":{"required":true}},"name":{"label":"Empresa","type":"text","validation":{"required":true}},"address":{"label":"Direccion","type":"text","validation":{"required":true}},"exchange":{"label":"Tasa de Cambio","type":"numeric","validation":{"required":true,"numeric":true}}},"h":{"tax_id":{"label":"Cedula Rif.","type":"search","validation":{"required":true}},"firstname":{"label":"Nombre","type":"text","validation":{"required":true}},"lastname":{"label":"Apellidos","type":"text","validation":{"required":true}},"address":{"label":"Direcci\xf3n","type":"text","validation":{"required":true}},"city":{"label":"Ciudad","type":"text","defaultValue":"Barcelona","validation":{"required":true}},"phone":{"label":"Telefono","type":"text"},"email":{"label":"Email","type":"email","validation":{"email":true}}},"i":{"cost":{"label":"Costo Kg","type":"number","validation":{"required":true,"numeric":true}},"quantity":{"label":"Cantidad Kg.","type":"number","defaultValue":0,"validation":{"required":true,"numeric":true}},"price":{"label":"Precio Kg","type":"number","defaultValue":0,"validation":{"required":true,"numeric":true}},"price_2":{"label":"Precio 0.5kg","type":"number","defaultValue":0,"validation":{"required":true,"numeric":true}},"price_3":{"label":"Precio 0.25 kg","type":"number","defaultValue":0,"validation":{"required":true,"numeric":true}}}}')},175:function(e,t,a){},203:function(e,t){},204:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),i=a(20),s=a.n(i),o=(a(175),a(7)),l=a(41),d=a(26),u=a(300),j=a(301),b=a(33),O=a.n(b),p=a(63),h=a(254),m=a(251),f=a(137),x=a.n(f),g=a(253),v=a(154),y=a(138),C=a.n(y),w={unequal:{message:"Este campo es requerido",test:function(e){return e&&e!=="".trim()}},sameas:{message:"Estos valores no coinciden",test:function(e,t,a){return t[a]&&t[a]===e}},length:{message:"Este valor es invalido",test:function(e,t,a){return e.toString().length===parseInt(a)}},required:{message:"Este campo es requerido",test:function(e){return e&&e!=="".trim()}},email:{message:"Este email es invalido",test:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||e==="".trim()}},url:{message:"Esta URL no es valida",test:function(e){return/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\\.\\-]+\.[a-zA-Z]{2,5}[\\.]{0,1}/.test(e)}},string:{message:"Por favor escriba aqui",test:function(e){return"string"===typeof e}},boolean:{message:"Por favor elija si o no",test:function(e){return"1"===e||"0"===e||1===e||0===e}},integer:{message:"Por favor ingrese un entero",test:function(e){return Number.isInteger(1*e)}},date:{message:"Esto no es una fecha valida",test:function(e){return console.log("date validator:"+e),!0}},numeric:{message:"Por favor ingrese un numero",test:function(e){return!isNaN(e)}}},P=function(e,t){return e?e.reduce((function(e,a){return e+parseFloat(a[t])}),0):0},k=function(e){return new Intl.NumberFormat("es-Es",{minimumFractionDigits:2}).format(e)},N=function(e,t){return new Intl.DateTimeFormat("en-Es",t).format(e)},S=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=e.toString();a.length<t;)a="0"+a;return a},I=function(e){var t=new Date;return"".concat(t.getFullYear(),"-").concat(S(t.getMonth()+1),"-").concat(S(t.getDate()))},F=function(e){return e?e.length:0},T=function(e){return P(e,"price")},E=function(e,t){var a={};return Object.keys(w).forEach((function(n){Object.keys(e).forEach((function(r){var c=t[r],i=e[r].validation;i&&Object.keys(i).forEach((function(e){n===e&&(w[n].test(c)||(a[r]=w[n].message))}))}))})),a},z=function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0},q=function(e,t){return"desc"===e?function(e,a){return z(e,a,t)}:function(e,a){return-z(e,a,t)}},D=function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))},R=function(e){return e&&"[object Function]"==={}.toString.call(e)},A=a(3),_=a(249),B=Object(_.a)((function(e){return{root:{display:"flex"},toolbar:{paddingleft:0,paddingRight:4},toolbarIcon:Object(A.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:5},menuButtonHidden:{display:"none"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),L=function(){var e=Object(d.g)(),t=B(),a=Object(o.b)(),r=Object(o.c)((function(e){return e.cart.products})),c=Object(o.c)((function(e){return e.state})),i=c.parameters,s=c.openDrawer;return Object(n.jsx)(m.a,{position:"absolute",className:O()(t.appBar,s&&t.appBarShift),children:Object(n.jsxs)(g.a,{className:t.toolbar,children:[Object(n.jsx)(v.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){return a({type:"state/toogleOpenDrawer"})},className:O()(t.menuButton,s&&t.menuButtonHidden),children:Object(n.jsx)(x.a,{})}),Object(n.jsx)(p.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:i.name}),Object(n.jsx)(v.a,{color:"inherit",onClick:function(){e.push("/"),a({type:"state/toogleShowCart"})},children:Object(n.jsx)(h.a,{badgeContent:F(r),color:"secondary",children:Object(n.jsx)(C.a,{})})})]})})},W=a(309),H=a(277),M=a(278),V=a(105),G=a.n(V),$=a(258),K=a(257),U=a(80),Z=a.n(U),J=a(206),X=a(256),Y=a(255),Q=Object(_.a)((function(e){return{root:{width:"100%",padding:0,"& .column":{width:120,display:"flex",justifyContent:"flex-end","& div":{textAlign:"center",padding:5}},"& .icon-column":{width:60,"& div":{display:"block",textAlign:"center"}}}}})),ee=function(e){var t=e.offer,a=Q(),r=Object(o.b)();return Object(n.jsxs)(J.a,{button:!0,className:a.root,children:[Object(n.jsx)(Y.a,{primary:Object(n.jsx)("span",{children:t.description})}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"column",children:Object(n.jsxs)("div",{children:[t.quantity," Kg"]})}),Object(n.jsx)("div",{className:"column",children:Object(n.jsxs)("div",{children:[k(t.price)," $"]})}),Object(n.jsx)("div",{className:"icon-column",onClick:function(e){return function(e){r({type:"cart/addProduct",payload:e})}(t)},children:Object(n.jsx)(X.a,{children:Object(n.jsx)(Z.a,{})})})]})]})},te=function(e){e.product;var t=Q();return Object(n.jsxs)(J.a,{button:!0,className:t.root,children:[Object(n.jsx)(Y.a,{primary:Object(n.jsx)("div",{children:Object(n.jsx)("span",{className:"descripcion",children:"Producto"})})}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("div",{children:"Peso"})}),Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("div",{children:"Precio"})}),Object(n.jsx)("div",{className:"icon-column",children:Object(n.jsx)("div",{})})]})]})},ae=function(){var e=Q(),t=Object(o.c)((function(e){return e.state.offers}));return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(K.a,{light:!0}),Object(n.jsx)(te,{}),Object(n.jsx)($.a,{component:"nav","aria-label":"products-list",children:t.map((function(e,t){return Object(n.jsx)(ee,{offer:e},t)}))})]})},ne=a(11),re=a(259),ce=a(150),ie=Object(_.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,"& nav":{padding:0,"& div":{padding:0}}}}})),se=function(){var e=ie(),t=Object(o.b)(),a=Object(r.useState)(null),c=Object(ne.a)(a,2),i=c[0],s=c[1],l=Object(o.c)((function(e){return e.product.departaments})),d=Object(o.c)((function(e){return e.state.selectedGroup}));return!d&&l[0]&&(d=l[0]),Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)($.a,{component:"nav","aria-label":"product-group",children:Object(n.jsx)(J.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"Filtrar por ",onClick:function(e){s(e.currentTarget)},children:Object(n.jsx)(Y.a,{primary:"Grupo",secondary:d})})}),Object(n.jsx)(ce.a,{id:"lock-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){s(null)},children:l.map((function(e,a){return Object(n.jsx)(re.a,{selected:e===d.departament,onClick:function(a){return function(e,a){s(null),t({type:"state/selectGroup",payload:a})}(0,e)},children:e},a)}))})]})},oe=Object(_.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},list:{padding:0,"& .column":{display:"flex",justifyContent:"flex-end",width:120,"& div":{textAlign:"right",paddingRight:5},"& .MuiListItemIcon-root":{padding:0,minWidth:0}}}}})),le=function(e){var t=e.product,a=oe(),r=Object(o.b)(),c=function(e,t,a){var n=Object(A.a)(Object(A.a)({},e),{},{price:t,quantity:a});r({type:"cart/addProduct",payload:n})};return Object(n.jsxs)(J.a,{button:!0,className:a.list,children:[Object(n.jsx)(Y.a,{primary:Object(n.jsx)("div",{children:Object(n.jsx)("span",{className:"descripcion",children:t.description})})}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"column",onClick:function(e){return c(t,t.price,1)},children:[Object(n.jsxs)("div",{children:[k(t.price),Object(n.jsx)("span",{children:" $ "})]}),Object(n.jsx)(X.a,{children:Object(n.jsx)(Z.a,{})})]}),Object(n.jsxs)("div",{className:"column",onClick:function(e){return c(t,t.price_2,.5)},children:[Object(n.jsxs)("div",{children:[k(t.price_2),Object(n.jsx)("span",{children:" $ "})]}),Object(n.jsx)(X.a,{children:Object(n.jsx)(Z.a,{})})]}),Object(n.jsxs)("div",{className:"column",onClick:function(e){return c(t,t.price_3,.25)},children:[Object(n.jsxs)("div",{children:[k(t.price_3),Object(n.jsx)("span",{children:" $ "})]}),Object(n.jsx)(X.a,{children:Object(n.jsx)(Z.a,{})})]})]})]})},de=function(e){e.product;var t=oe();return Object(n.jsxs)(J.a,{button:!0,className:t.list,children:[Object(n.jsx)(Y.a,{primary:Object(n.jsx)("div",{children:Object(n.jsx)("span",{className:"descripcion",children:"Producto"})})}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("div",{children:"1 Kg"})}),Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("div",{children:"0,5 Kg"})}),Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("div",{children:"0,25 Kg"})})]})]})},ue=function(e){var t=e.products,a=oe();return Object(n.jsx)("div",{className:a.root,children:Object(n.jsxs)($.a,{component:"nav","aria-label":"products-list",children:[Object(n.jsx)(de,{}),Object(n.jsx)(K.a,{light:!0}),t.map((function(e,t){return Object(n.jsx)(le,{product:e},t)}))]})})},je=function(){var e=Object(o.c)((function(e){return e.product.products})),t=Object(o.c)((function(e){return e.state.selectedGroup}));!t&&e[0]&&(t=e[0].departament);var a=e.filter((function(e){return e.departament===t}));return Object(n.jsxs)("div",{className:"w-full",children:[Object(n.jsx)(se,{}),Object(n.jsx)(ue,{products:a})]})},be=a(275),Oe=a(308),pe=a(304),he=a(144),me=a.n(he),fe=a(145),xe=a.n(fe),ge=a(100),ve=a.n(ge),ye=Object(_.a)((function(e){return{root:{width:"100%",padding:0,"& .column":{display:"flex",justifyContent:"flex-end",width:120,"& div":{textAlign:"center",padding:5}},"& .icon-column":{width:60,cursor:"pointer","& div":{display:"block",textAlign:"center"}}},button:{margin:"10px 10px 10px 0"}}})),Ce=function(e){var t=e.product,a=ye(),r=Object(o.b)();return Object(n.jsxs)(J.a,{button:!0,className:a.root,children:[Object(n.jsx)(Y.a,{primary:Object(n.jsx)("span",{children:t.description})}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("div",{children:k(t.quantity)})}),Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("div",{children:k(t.price)})}),Object(n.jsx)("div",{className:"icon-column",onClick:function(){return r({type:"cart/removeProductItem",payload:t})},children:Object(n.jsx)(X.a,{children:Object(n.jsx)(ve.a,{})})})]})]})},we=function(){var e=ye();return Object(n.jsxs)(J.a,{button:!0,className:e.root,children:[Object(n.jsx)(Y.a,{primary:Object(n.jsx)("span",{children:"Productos"})}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("div",{children:"Kg"})}),Object(n.jsx)("div",{className:"column",children:Object(n.jsxs)("div",{children:["Precio",Object(n.jsx)("span",{children:" $"})]})}),Object(n.jsx)("div",{className:"icon-column"})]})]})},Pe=Object(_.a)((function(e){return{root:{padding:0,justifyContent:"flex-end","& .total-row":{display:"flex",textAlign:"right","& .amount":{width:100,"& div":{padding:5},"& .MuiListItemIcon-root":{minWidth:0}}}}}})),ke=function(){var e=Pe(),t=Object(o.c)((function(e){return e.cart.products})),a=Object(o.c)((function(e){return e.payment.payments})),r=T(t),c=P(a,"amount"),i=r-c;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(J.a,{className:e.root,children:[Object(n.jsx)(Y.a,{className:e.root,primary:Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("span",{children:"Total Pagos: "})})}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"column"}),Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("div",{className:"total",children:k(c)})}),Object(n.jsx)("div",{className:"icon-column"})]})]}),Object(n.jsxs)(J.a,{className:e.root,children:[Object(n.jsx)(Y.a,{className:e.root,primary:Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("span",{children:"Saldo: "})})}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"column"}),Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("div",{className:"total",children:k(i)})}),Object(n.jsx)("div",{className:"icon-column"})]})]})]})},Ne=Object(_.a)((function(e){return{root:{padding:0,justifyContent:"flex-end","& .total-row":{display:"flex",textAlign:"right","& .amount":{width:100,"& div":{padding:5},"& .MuiListItemIcon-root":{minWidth:0}}}}}})),Se=function(){var e=Ne(),t=Object(o.c)((function(e){return e.cart.products})),a=function(e){return P(e,"quantity")}(t),r=F(t),c=T(t);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(J.a,{className:e.root,children:[Object(n.jsx)(Y.a,{className:e.root,primary:Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{children:"Total Pedido: "}),Object(n.jsxs)("span",{children:["(",r,")"]})]})}),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("div",{className:"total",children:k(a)})}),Object(n.jsx)("div",{className:"column",children:Object(n.jsx)("div",{className:"total",children:k(c)})}),Object(n.jsx)("div",{className:"icon-column"})]})]}),Object(n.jsx)(ke,{})]})},Ie=a(106),Fe=a(261),Te=a(265),Ee=a(264),ze=a(260),qe=a(262),De=a(263),Re=Object(_.a)((function(e){return{root:{},table:{minWidth:650,"& tfoot":{"& td":{fontSize:"1.2em"}}},button:{margin:e.spacing(1)}}})),Ae=function(){var e=Re(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.payment.payments}));return Object(n.jsx)(ze.a,{component:Ie.a,children:Object(n.jsxs)(Fe.a,{className:e.table,size:"small","aria-label":"a dense table",children:[Object(n.jsx)(qe.a,{children:Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{align:"left",children:"Tipo"}),Object(n.jsx)(Ee.a,{align:"right",children:"Monto $"}),Object(n.jsx)(Ee.a,{align:"right",children:"Monto Bs."}),Object(n.jsx)(Ee.a,{align:"left",children:"Detalles"}),Object(n.jsx)(Ee.a,{})]})}),Object(n.jsx)(Te.a,{children:a.map((function(e,a){return Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{align:"left",children:e.payment_type}),Object(n.jsx)(Ee.a,{align:"right",children:k(e.amount)}),Object(n.jsx)(Ee.a,{align:"right",children:k(e.amountBs)}),Object(n.jsx)(Ee.a,{align:"left",children:e.details}),Object(n.jsx)(Ee.a,{align:"left",style:{cursor:"pointer"},onClick:function(){return function(e){return t({type:"payment/removePayment",payload:e})}(a)},children:Object(n.jsx)(ve.a,{})})]},a)}))})]})})},_e=a(12),Be=a(266),Le=a(274),We=a(268),He=a(269),Me=a(267),Ve=a(270),Ge=a(305),$e=a(271),Ke=a(312),Ue=a(273),Ze=a(313),Je=Object(_.a)((function(e){return{formControl:{margin:e.spacing(1),marginLeft:0}}})),Xe=a(10),Ye=function(){var e=Je(),t=Object(o.b)(),a=Object(r.useState)(Xe.a),c=Object(ne.a)(a,2),i=c[0],s=c[1],l=Object(o.c)((function(e){return e.payment.open})),d=Object(o.c)((function(e){return e.state.parameters})).exchange,u=function(){return t({type:"payment/toogleOpen"})};Object(r.useEffect)((function(){s(Xe.a)}),[l]);var j=function(e){return function(t){s(Object(A.a)(Object(A.a)({},i),{},Object(_e.a)({},e,t.target.value)))}};return Object(n.jsxs)(Be.a,{open:l,onClose:u,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(Me.a,{id:"form-dialog-title",children:"A\xf1adir Pagos"}),Object(n.jsxs)(We.a,{children:[Object(n.jsx)(He.a,{children:"Por favor a\xf1ada los datos del pago"}),Object(n.jsx)(Ve.a,{className:e.formControl,children:Object(n.jsx)(Ge.a,{value:i.payment_type||"",onChange:j("payment_type"),className:e.selectEmpty,inputProps:{"aria-label":"Without label"},children:Object.keys(Xe.e).map((function(e){return Object(n.jsx)(re.a,{value:e,children:e},e)}))})}),Object(n.jsxs)(Ve.a,{fullWidth:!0,className:e.margin,children:[Object(n.jsx)(Ke.a,{htmlFor:"standard-adornment-amount",children:"Amount"}),Object(n.jsx)($e.a,{id:"standard-adornment-amount",value:i.amount||"",onChange:j("amount"),startAdornment:Object(n.jsx)(Ue.a,{position:"start",children:Xe.e[i.payment_type].currency})})]}),Object(n.jsx)(Ze.a,{id:"name",autoFocus:!0,margin:"dense",value:i.details||"",onChange:j("details"),label:Xe.e[i.payment_type].detailsLabel,type:Xe.e[i.payment_type].detailsType,fullWidth:!0})]}),Object(n.jsxs)(Le.a,{children:[Object(n.jsx)(be.a,{onClick:u,color:"secondary",children:"Cancelar"}),Object(n.jsx)(be.a,{onClick:function(e){var a=0,n=0;"$"===Xe.e[i.payment_type].currency?(a=i.amount,n=i.amount*d):(n=i.amount,a=i.amount/d),t({type:"payment/addPayment",payload:Object(A.a)(Object(A.a)({},i),{},{amount:a,exchange:d,amountBs:n})}),u()},color:"primary",children:"Agregar"})]})]})},Qe=a(62),et=a(139),tt=a(140),at=a(152),nt=a(149),rt=Object(_.a)((function(e){return{header:{margin:e.spacing(2),display:"flex",justifyContent:"space-between",backgroundColor:"#f1f1f1","& .bold":{fontSize:20,fontWeight:600,textAlign:"right"},"& .column-link":{textAlign:"left"},"& .column-right":{textAlign:"right","& h3":{textAlign:"end"}}},fonts:{bold:{fontSize:12,fontWeight:600}},table:{width:"calc(100% - 30px)",textAlign:"left",margin:e.spacing(2),borderCollapse:"collapse",fontFamily:"Arial, Helvetica, sans-serif",border:"1px solid #1C6EA4","& thead":{border:"1px solid #1C6EA4",backgroundColor:"#EEEEEE"},"& .footer":{border:"1px solid #1C6EA4",backgroundColor:"#EEEEEE"},"& td":{textAlign:"right",paddingRight:e.spacing(1)},"& th":{textAlign:"right",paddingRight:e.spacing(1)},"& td.left":{textAlign:"left"},"& th.left":{textAlign:"left"},"& tfoot":{"& td":{fontSize:"1.2em"}}}}})),ct=function(){var e,t=rt(),a=Object(o.c)((function(e){return e.state})).parameters,r=Object(o.c)((function(e){return e.document})).invoice,c=P(r.details,"price")*a.exchange;return 0===c?null:Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:t.header,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:a.name}),Object(n.jsx)("h3",{children:a.tax_id}),Object(n.jsx)("div",{children:a.address})]}),Object(n.jsxs)("div",{className:"column-right",children:[Object(n.jsxs)("h3",{children:["Nota de entrega: ",Object(n.jsx)("span",{className:"bold",children:(e=r.number,S(e,6))})]}),Object(n.jsxs)("h3",{children:["Fecha de emision: ",N(new Date(r.date))]})]})]}),Object(n.jsx)("div",{className:t.header,children:Object(n.jsxs)("div",{children:[Object(n.jsxs)("h3",{children:["RIF :",r.person.tax_id]}),Object(n.jsxs)("h3",{children:["Nombre / Razon social: ",r.person.firstname," ",r.person.lastname]}),Object(n.jsxs)("h3",{children:["Direccion: ",r.person.address," ",r.person.city]}),Object(n.jsxs)("h3",{children:[Object(n.jsxs)("span",{children:["Telefono: ",r.person.phone]})," ",Object(n.jsxs)("span",{children:["Email: ",r.person.email]})]})]})}),Object(n.jsx)("hr",{}),Object(n.jsxs)("table",{className:t.table,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{className:"left",children:"Descripcion"}),Object(n.jsx)("th",{children:"Cantidad"}),Object(n.jsx)("th",{children:"Unidad"}),Object(n.jsx)("th",{children:"Precio Unitario"}),Object(n.jsx)("th",{children:"Neto"})]})}),Object(n.jsx)("tfoot",{className:"footer",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"left",children:"Totales"}),Object(n.jsx)("td",{}),Object(n.jsx)("td",{}),Object(n.jsx)("td",{}),Object(n.jsx)("td",{children:k(c)})]})}),Object(n.jsx)("tbody",{children:r.details.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"left",children:e.description}),Object(n.jsx)("td",{children:e.quantity}),Object(n.jsx)("td",{children:"Kg."}),Object(n.jsx)("td",{children:k(e.price*a.exchange)}),Object(n.jsx)("td",{children:k(e.price*a.exchange)})]},t)}))})]})]})},it=function(e){Object(at.a)(a,e);var t=Object(nt.a)(a);function a(){return Object(et.a)(this,a),t.apply(this,arguments)}return Object(tt.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)(ct,{})})}}]),a}(c.a.PureComponent),st=a(18),ot=a.n(st),lt=a(27),dt=a(303),ut=a(276),jt=a(141),bt=a.n(jt).a.create({baseURL:"/api/v1/"});function Ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){setTimeout(t,e)}))}var pt,ht,mt=function(e){var t=e.label,a=e.field,r=e.url,i=e.onChange,s=e.fieldLabel,o=void 0===s?"firstname":s,l=c.a.useState(!1),d=Object(ne.a)(l,2),u=d[0],j=d[1],b=c.a.useState([]),O=Object(ne.a)(b,2),p=O[0],h=O[1],m=u&&0===p.length;c.a.useEffect((function(){var e=!0;if(m)return Object(lt.a)(ot.a.mark((function t(){var a,n;return ot.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ot(100);case 2:return t.next=4,bt(r);case 4:return a=t.sent,t.next=7,a.data.data;case 7:n=t.sent,e&&h(n);case 9:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[m,r]),c.a.useEffect((function(){u||h([])}),[u]);var f=function(){return j(!u)};return Object(n.jsx)(dt.a,{id:"search",open:u,loading:m,options:p,onOpen:f,onClose:f,style:{width:"100%"},getOptionLabel:function(e){return e[o]},onChange:function(e,t){return i(t)},getOptionSelected:function(e,t){return e[a]===t[a]},renderInput:function(e){return Object(n.jsx)(Ze.a,Object(A.a)(Object(A.a)({},e),{},{label:t,variant:"outlined",onChange:i,InputProps:Object(A.a)(Object(A.a)({},e.InputProps),{},{endAdornment:Object(n.jsxs)(c.a.Fragment,{children:[m&&Object(n.jsx)(ut.a,{color:"inherit",size:20}),e.InputProps.endAdornment]})})}))}})},ft=Object(_.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},table:{minWidth:650,"& tfoot":{"& td":{fontSize:"1.2em"}}},button:{margin:e.spacing(1)}}})),xt=function(){var e=ft(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.document.data})).person,r=Object(o.c)((function(e){return e.document})).errors,c=function(e){var n=e.target,r=Object(A.a)(Object(A.a)({},a),{},Object(_e.a)({},n.name,n.value)),c=E(Xe.b,Object(A.a)({},r));t({type:"document/setPerson",payload:r}),t({type:"document/setErrors",payload:c})};return Object(n.jsxs)("div",{children:[Object(n.jsx)(mt,{url:"/persons",field:"firstname",label:"Buscar Cliente",onChange:function(e){var n=Object(A.a)({},a);Object.keys(Xe.b).map((function(t){return null===e?n[t]="":e[t]&&(n[t]=e[t]),null})),t({type:"document/setPerson",payload:n})}}),Object(n.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object.keys(Xe.b).map((function(e){var t=r[e],i=t||Xe.b[e].helperText;return Object(n.jsx)(Ze.a,{name:e,size:"medium",margin:"normal",value:a[e]||"",style:{margin:8},onChange:c,InputLabelProps:{shrink:!0},label:Xe.b[e].label,helperText:i||"",fullWidth:Xe.b[e].fullWidth||!1,placeholder:Xe.b[e].placeholder||"",error:t},e)}))})]})},gt=a(22),vt=a(17),yt=a(143),Ct={setProduct:function(e,t){return Object(A.a)(Object(A.a)({},e),{},{product:t.payload})},setErrors:function(e,t){return Object(A.a)(Object(A.a)({},e),{},{errors:t.payload})}},wt=Object(vt.b)("product/getProducts",function(){var e=Object(lt.a)(ot.a.mark((function e(t){var a,n;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt.get("/products");case 2:return a=e.sent,n=Object(yt.uniq)(a.data.data.map((function(e){return e.departament}))).sort(),e.abrupt("return",{products:a.data.data,departaments:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Pt=Object(vt.b)("product/saveProduct",function(){var e=Object(lt.a)(ot.a.mark((function e(t,a){var n,r;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.dispatch,r=null,t.id){e.next=8;break}return e.next=5,bt.post("/products",t);case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,bt.put("/products/".concat(t.id),t);case 10:r=e.sent;case 11:return n(wt()),e.abrupt("return",Object(A.a)({},r.data.data));case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),kt=Object(vt.b)("product/deleteProducts",function(){var e=Object(lt.a)(ot.a.mark((function e(t,a){var n;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.dispatch,t.forEach(function(){var e=Object(lt.a)(ot.a.mark((function e(t){var a;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt.delete("products/".concat(t));case 2:200===!(a=e.sent).status&&console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n(wt());case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Nt=Object(vt.c)({name:"product",initialState:Object(A.a)({},{loading:"idle",errors:{},product:{},response:{},showErrors:!1}),reducers:Ct,extraReducers:(pt={},Object(_e.a)(pt,wt.fulfilled,(function(e,t){return Object(A.a)(Object(A.a)({},e),t.payload)})),Object(_e.a)(pt,wt.rejected,(function(e,t){return e})),Object(_e.a)(pt,kt.fulfilled,(function(e,t){return e})),Object(_e.a)(pt,kt.rejected,(function(e,t){return e})),Object(_e.a)(pt,Pt.fulfilled,(function(e,t){return console.log(t.payload),e})),Object(_e.a)(pt,Pt.rejected,(function(e,t){return console.log(t.payload),e})),pt),middleware:Object(gt.a)(Object(vt.d)())}),St={loading:"idle",response:{},errors:{},showErrors:!1,data:{person:{},header:{},products:[]},invoice:{readyToPrint:!1},invoices:[],purchase:{exchange:0,errors:{},provider:{},products:[],readyToPrint:!1},purchases:[]},It={setPerson:function(e,t){var a=Object(A.a)({},e.data);return a.person=t.payload,Object(A.a)(Object(A.a)({},e),{},{data:a})},setHeader:function(e,t){var a=Object(A.a)({},e.data);return a.header=t.payload,Object(A.a)(Object(A.a)({},e),{},{data:a})},setProducts:function(e,t){var a=Object(A.a)({},e.data);return a.products=t.payload,Object(A.a)(Object(A.a)({},e),{},{data:a})},setErrors:function(e,t){return Object(A.a)(Object(A.a)({},e),{},{errors:Object(A.a)({},t.payload)})},setShowErrors:function(e,t){return Object(A.a)(Object(A.a)({},e),{},{showErrors:Object(A.a)({},t.payload)})},setInvoice:function(e,t){var a=Object(A.a)({},e);return a.invoice=Object(A.a)({},t.payload),console.log({newData:a,action:t}),Object(A.a)({},a)},clearInvoice:function(e,t){var a=Object(A.a)({},e);return a.invoice={readyToPrint:!1},Object(A.a)({},a)},setPurchase:function(e,t){var a=Object(A.a)({},e);return a.purchase=Object(A.a)({},t.payload),Object(A.a)({},a)},clearPurchase:function(e,t){var a=Object(A.a)({},e);return a.purchase=Object(A.a)({},St.purchase),Object(A.a)({},a)},clear:function(e,t){return St}},Ft=Object(vt.b)("document/saveInvoice",function(){var e=Object(lt.a)(ot.a.mark((function e(t,a){var n,r;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,bt.post("/invoices",t);case 3:return r=e.sent,n({type:"cart/clear"}),n({type:"payment/clear"}),n({type:"document/clear"}),n(wt()),e.abrupt("return",r.data.data);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Tt=Object(vt.b)("document/getInvoice",function(){var e=Object(lt.a)(ot.a.mark((function e(t){var a;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt.get("/invoices/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Et=Object(vt.b)("document/getInvoicesDates",function(){var e=Object(lt.a)(ot.a.mark((function e(t,a){var n;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt.get("/invoices/dates?from=".concat(t.from,"&to=").concat(t.to));case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),zt=Object(vt.b)("document/getPurchase",function(){var e=Object(lt.a)(ot.a.mark((function e(t,a){var n,r;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,bt.get("/purchases/".concat(t));case 3:return r=e.sent,n({type:"document/setPurchases",payload:r.data.data}),e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),qt=Object(vt.b)("document/getPurchasesDates",function(){var e=Object(lt.a)(ot.a.mark((function e(t,a){var n;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt.get("/purchases/dates?from=".concat(t.from,"&to=").concat(t.to));case 2:return n=e.sent,e.abrupt("return",n.data.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Dt=Object(vt.b)("document/savePurchase",function(){var e=Object(lt.a)(ot.a.mark((function e(t,a){var n,r;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.dispatch,e.next=3,bt.post("/purchases",t);case 3:return r=e.sent,n(wt()),e.abrupt("return",Object(A.a)({},r.data));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Rt=Object(vt.c)({name:"document",initialState:St,reducers:It,extraReducers:(ht={},Object(_e.a)(ht,Ft.fulfilled,(function(e,t){var a=Object(A.a)({},e);return a.invoice=Object(A.a)(Object(A.a)({},t.payload),{},{readyToPrint:!0}),Object(A.a)({},a)})),Object(_e.a)(ht,Ft.rejected,(function(e,t){return Object(A.a)({},St)})),Object(_e.a)(ht,Tt.fulfilled,(function(e,t){var a=Object(A.a)({},e);return a.invoice=Object(A.a)(Object(A.a)({},t.payload),{},{readyToPrint:!0}),Object(A.a)({},a)})),Object(_e.a)(ht,Tt.rejected,(function(e,t){return Object(A.a)({},e).invoice=Object(A.a)(Object(A.a)({},t.payload),{},{readyToPrint:!1}),Object(A.a)({},e)})),Object(_e.a)(ht,Et.fulfilled,(function(e,t){var a=Object(A.a)({},e);return a.invoices=Object(gt.a)(t.payload),Object(A.a)({},a)})),Object(_e.a)(ht,Et.rejected,(function(e,t){var a=Object(A.a)({},e);return a.invoices=[],Object(A.a)({},a)})),Object(_e.a)(ht,Dt.fulfilled,(function(e,t){var a=Object(A.a)({},e);return a.purchase=St.purchase,a.purchases=St.purchases,Object(A.a)({},a)})),Object(_e.a)(ht,Dt.rejected,(function(e,t){return Object(A.a)({},St)})),Object(_e.a)(ht,qt.fulfilled,(function(e,t){var a=Object(A.a)({},e);return a.purchases=Object(gt.a)(t.payload),Object(A.a)({},a)})),Object(_e.a)(ht,qt.rejected,(function(e,t){var a=Object(A.a)({},e);return a.purchases=[],Object(A.a)({},a)})),ht),middleware:Object(gt.a)(Object(vt.d)())});function At(e){return Object(n.jsx)(pe.a,Object(A.a)({elevation:6,variant:"filled"},e))}var _t=function(){var e=Object(r.useRef)(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.cart})).products,c=Object(o.c)((function(e){return e.payment})).payments,i=Object(o.c)((function(e){return e.document.data})).person,s=Object(o.c)((function(e){return e.document.invoice})).readyToPrint,l=Object(r.useState)(!1),d=Object(ne.a)(l,2),u=d[0],j=d[1],b=Object(o.c)((function(e){return e.document.data})),O=Object(o.c)((function(e){return e.state})).showInvoiceForm,p=Object(Qe.useReactToPrint)({content:function(){return e.current}});Object(r.useEffect)((function(){s&&(p(),h(),t({type:"document/clearInvoice"}))}),[s]);var h=function(){return t({type:"state/toogleShowInvoiceForm"})};return Object(n.jsxs)(Be.a,{open:O,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(Me.a,{id:"form-dialog-title",children:"Datos del Cliente"}),Object(n.jsxs)(We.a,{children:[Object(n.jsx)(xt,{}),Object(n.jsx)("div",{style:{display:"none"},children:Object(n.jsx)(it,{ref:e})})]}),Object(n.jsxs)(Le.a,{children:[Object(n.jsx)(be.a,{onClick:h,color:"secondary",children:"Cancelar"}),Object(n.jsx)(be.a,{onClick:function(){var e=E(Xe.b,Object(A.a)({},b.person));Object.keys(e).length>0?(j(!0),t({type:"document/showErrors",payload:!0})):(j(!1),t(Ft({person:i,products:a,payments:c})))},color:"primary",children:"Imprimir"})]}),Object(n.jsx)(Oe.a,{open:u,autoHideDuration:6e3,children:Object(n.jsx)(At,{severity:"error",onClose:function(){return j(!1)},children:"El formulario presenta errores o no esta completo"})})]})};function Bt(e){return Object(n.jsx)(pe.a,Object(A.a)({elevation:6,variant:"filled"},e))}var Lt=function(){var e=ye(),t=Object(o.b)(),a=Object(r.useState)(!1),c=Object(ne.a)(a,2),i=c[0],s=c[1],l=Object(o.c)((function(e){return e.cart.products})),d=Object(o.c)((function(e){return e.payment.payments})),u=Object(o.c)((function(e){return e.cart.products})),j=T(l)-P(d,"amount");return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsxs)($.a,{component:"nav","aria-label":"products-list",children:[Object(n.jsx)(we,{}),Object(n.jsx)(K.a,{light:!0}),u.map((function(e,t){return Object(n.jsx)(Ce,{product:e},t)})),Object(n.jsx)(K.a,{light:!0}),Object(n.jsx)(Se,{})]}),Object(n.jsx)(be.a,{variant:"contained",color:"primary",className:e.button,endIcon:Object(n.jsx)(me.a,{}),onClick:function(){return t({type:"payment/toogleOpen"})},children:"Agregar pago"}),Object(n.jsx)(be.a,{variant:"contained",color:"secondary",className:e.button,endIcon:Object(n.jsx)(xe.a,{}),onClick:function(){j<=0?t({type:"state/toogleShowInvoiceForm"}):s(!0)},children:"Emitir Factura"}),Object(n.jsx)(Ye,{}),Object(n.jsx)(Ae,{}),Object(n.jsx)(_t,{}),Object(n.jsx)(Oe.a,{open:i,autoHideDuration:6e3,children:Object(n.jsx)(Bt,{severity:"error",onClose:function(){return s(!1)},children:"El monto de los pagos no es suficiente"})})]})},Wt=Object(_.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}}));function Ht(){var e=Wt(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.state})),r=a.showCart,c=a.showOffers,i=a.showProducts;return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsxs)(W.a,{expanded:c,onChange:function(){return t({type:"state/toogleShowOffers"})},children:[Object(n.jsx)(H.a,{expandIcon:Object(n.jsx)(G.a,{}),"aria-controls":"offers-content",id:"offers-header",children:Object(n.jsx)(p.a,{className:e.heading,children:"Ofertas"})}),Object(n.jsx)(M.a,{children:Object(n.jsx)(ae,{})})]}),Object(n.jsxs)(W.a,{expanded:i,onChange:function(){return t({type:"state/toogleShowProducts"})},children:[Object(n.jsx)(H.a,{expandIcon:Object(n.jsx)(G.a,{}),"aria-controls":"products-content",id:"products-header",children:Object(n.jsx)(p.a,{className:e.heading,children:"Productos"})}),Object(n.jsx)(M.a,{children:Object(n.jsx)(je,{})})]}),Object(n.jsxs)(W.a,{expanded:r,onChange:function(){return t({type:"state/toogleShowCart"})},children:[Object(n.jsx)(H.a,{expandIcon:Object(n.jsx)(G.a,{}),"aria-controls":"order-content",id:"order-header",children:Object(n.jsx)(p.a,{className:e.heading,children:"Pedido"})}),Object(n.jsx)(M.a,{children:Object(n.jsx)(Lt,{})})]})]})}var Mt,Vt,Gt=a(279),$t=a(280),Kt=a(281),Ut={loading:"idle",response:{},errors:{},showErrors:!1,user:{}},Zt={setErrors:function(e,t){return Object(A.a)(Object(A.a)({},e),{},{errors:Object(A.a)({},t.payload)})},setShowErrors:function(e,t){return Object(A.a)(Object(A.a)({},e),{},{showErrors:Object(A.a)({},t.payload)})},clear:function(e,t){return Ut}},Jt=Object(vt.b)("auth/login",function(){var e=Object(lt.a)(ot.a.mark((function e(t,a){var n;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt.post("/auth/login",Object(A.a)({},t));case 2:return n=e.sent,e.abrupt("return",Object(A.a)({},n.data));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),Xt=Object(vt.c)({name:"auth",initialState:Ut,reducers:Zt,extraReducers:(Mt={},Object(_e.a)(Mt,Jt.fulfilled,(function(e,t){var a=Object(A.a)({},e),n=Object(A.a)({},t.payload).data;return a.user=Object(A.a)({},n),a.errors={},Object(A.a)({},a)})),Object(_e.a)(Mt,Jt.rejected,(function(e,t){var a=Object(A.a)({},Ut);return a.errors={password:"invalid username or password"},Object(A.a)({},a)})),Mt),middleware:Object(gt.a)(Object(vt.d)())}),Yt=Object(_.a)({root:{maxWidth:345,margin:"auto","& .MuiFormControl-root":{width:"100%"},"& .MuiCardActions-root":{justifyContent:"flex-end"}}}),Qt=function(){var e=Yt(),t=Object(d.g)(),a=Object(o.b)(),c=Object(r.useState)({}),i=Object(ne.a)(c,2),s=i[0],l=i[1],u=E(Xe.d,Object(A.a)({},s)),j=Object(o.c)((function(e){return e.auth})).user,b=Object(o.c)((function(e){return e.auth.errors}));Object(r.useEffect)((function(){j.username&&t.push("/")}),[j.username]);var O=function(e){var t=e.target,a=Object(A.a)(Object(A.a)({},s),{},Object(_e.a)({},t.name,t.value));l(a)};return Object(n.jsx)(Ie.a,{elevation:3,className:e.root,children:Object(n.jsxs)(Gt.a,{children:[Object(n.jsxs)($t.a,{children:[Object(n.jsx)(p.a,{component:"h2",children:"Login"}),Object(n.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object.keys(Xe.d).map((function(e){var t=u[e]?u[e]:b[e],a=t||Xe.d[e].helperText;return Object(n.jsx)(Ze.a,{name:e,size:"medium",margin:"normal",value:s[e]||"",onChange:O,InputLabelProps:{shrink:!0},label:Xe.d[e].label,helperText:a||"",type:Xe.d[e].type,fullWidth:Xe.d[e].fullWidth||!1,placeholder:Xe.d[e].placeholder||"",error:!!t},e)}))})]}),Object(n.jsxs)(Kt.a,{className:e.actions,children:[Object(n.jsx)(be.a,{onClick:function(){a(Jt(s))},children:"Login"}),Object(n.jsx)(be.a,{onClick:function(){return t.push("/")},children:"Cancelar"})]})]})})},ea=a(282),ta=a(283),aa=a(284),na=a(285),ra=a(286),ca=a(287),ia=a(288),sa=a(289),oa=function(){var e=Object(d.g)(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.auth.user})),r=function(a){e.push(a),t({type:"state/toogleOpenDrawer"})},c=function(){t({type:"cart/clear"}),r("/")};return a.active?Object(n.jsxs)("div",{children:[Object(n.jsxs)(J.a,{button:!0,children:[Object(n.jsx)(X.a,{children:Object(n.jsx)(ta.a,{})}),Object(n.jsx)(Y.a,{primary:"Limpiar pedido",onClick:c})]}),Object(n.jsxs)(J.a,{button:!0,children:[Object(n.jsx)(X.a,{children:Object(n.jsx)(na.a,{})}),Object(n.jsx)(Y.a,{primary:"Compras",onClick:function(){return r("/purchases/")}})]}),Object(n.jsxs)(J.a,{button:!0,children:[Object(n.jsx)(X.a,{children:Object(n.jsx)(ra.a,{})}),Object(n.jsx)(Y.a,{primary:"Actualizar productos",onClick:function(){return r("/products/")}})]}),Object(n.jsxs)(J.a,{button:!0,children:[Object(n.jsx)(X.a,{children:Object(n.jsx)(ca.a,{})}),Object(n.jsx)(Y.a,{primary:"Visualizar Facturas",onClick:function(){return r("/invoices/")}})]}),Object(n.jsxs)(J.a,{button:!0,children:[Object(n.jsx)(X.a,{children:Object(n.jsx)(ia.a,{})}),Object(n.jsx)(Y.a,{primary:"Resumen diario",onClick:function(){return r("/summary/")}})]}),Object(n.jsxs)(J.a,{button:!0,children:[Object(n.jsx)(X.a,{children:Object(n.jsx)(sa.a,{})}),Object(n.jsx)(Y.a,{primary:"Configuraciones",onClick:function(){return r("/parameters/")}})]}),Object(n.jsxs)(J.a,{button:!0,children:[Object(n.jsx)(X.a,{children:Object(n.jsx)(aa.a,{})}),Object(n.jsx)(Y.a,{primary:"Logout",onClick:function(){t({type:"auth/clear"}),r("/")}})]})]}):Object(n.jsxs)("div",{children:[Object(n.jsxs)(J.a,{button:!0,children:[Object(n.jsx)(X.a,{children:Object(n.jsx)(ea.a,{})}),Object(n.jsx)(Y.a,{primary:"Visualizar pedido",onClick:function(){t({type:"state/toogleShowCart"}),r("/")}})]}),Object(n.jsxs)(J.a,{button:!0,children:[Object(n.jsx)(X.a,{children:Object(n.jsx)(ta.a,{})}),Object(n.jsx)(Y.a,{primary:"Limpiar pedido",onClick:c})]}),Object(n.jsxs)(J.a,{button:!0,children:[Object(n.jsx)(X.a,{children:Object(n.jsx)(aa.a,{})}),Object(n.jsx)(Y.a,{primary:"Login",onClick:function(){return r("/login/")}})]})]})},la=a(290),da=a(146),ua=a.n(da),ja=Object(_.a)((function(e){return{toolbarIcon:Object(A.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(_e.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)})}})),ba=function(){var e=ja(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.state})).openDrawer;return Object(n.jsxs)(la.a,{variant:"temporary",anchor:"left",classes:{paper:O()(e.drawerPaper,!a&&e.drawerPaperClose)},open:a,children:[Object(n.jsx)("div",{className:e.toolbarIcon,children:Object(n.jsx)(v.a,{onClick:function(){return t({type:"state/toogleOpenDrawer"})},children:Object(n.jsx)(ua.a,{})})}),Object(n.jsx)(K.a,{}),Object(n.jsx)($.a,{children:Object(n.jsx)(oa,{})})]})},Oa=Object(_.a)({root:{maxWidth:345,margin:"auto","& .MuiFormControl-root":{width:"100%"},"& .MuiCardActions-root":{justifyContent:"flex-end"}}}),pa={loading:"idle",showOffers:!1,showProducts:!1,showCart:!1,openDrawer:!1,showSnackbar:!1,showInvoiceForm:!1,showProductForm:!1,messages:[]},ha={toogleShowCart:function(e){var t=Object(A.a)({},e);return t.showCart=!t.showCart,t.showCart&&(t.showOffers=!1,t.showProducts=!1),t},toogleShowInvoiceForm:function(e){var t=Object(A.a)({},e);return t.showInvoiceForm=!t.showInvoiceForm,t},toogleShowOffers:function(e){var t=Object(A.a)({},e);return t.showOffers=!t.showOffers,t.showOffers&&(t.showCart=!1,t.showProducts=!1),t},toogleShowProducts:function(e){var t=Object(A.a)({},e);return t.showProducts=!t.showProducts,t.showProducts&&(t.showCart=!1,t.showOffers=!1),t},toogleOpenDrawer:function(e){var t=Object(A.a)({},e);return t.openDrawer=!t.openDrawer,t},toogleShowSnackBar:function(e){var t=Object(A.a)({},e);return t.showSnackbar=!t.showSnackbar,t},toogleOpenInvoiceForm:function(e){var t=Object(A.a)({},e);return t.openInvoiceForm=!t.openInvoiceForm,t},toogleOpenProductForm:function(e){var t=Object(A.a)({},e);return t.showProductForm=!t.showProductForm,t},addMessage:function(e,t){var a=Object(gt.a)(e.messages);return a.push(t.payload),{state:e,messages:Object(gt.a)(a)}},removeMessage:function(e,t){var a=Object(gt.a)(e.messages).filter((function(e){return e.id!==t.payload.id}));return{state:e,messages:Object(gt.a)(a)}},showAlert:function(e,t){var a={message:t.payload.message,severity:t.payload.severity||"success"};return Object(A.a)(Object(A.a)({},e),{},{alert:Object(A.a)({},a),showSnackbar:!0})},selectGroup:function(e,t){var a=Object(A.a)({},e);return a.selectedGroup=t.payload,a}},ma=Object(vt.b)("state/getData",function(){var e=Object(lt.a)(ot.a.mark((function e(t){var a,n;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt.get("/offers");case 2:return a=e.sent,e.next=5,bt.get("/parameters");case 5:return n=e.sent,"",e.abrupt("return",{offers:a.data.data,parameters:n.data.data[0],selectedGroup:""});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fa=Object(vt.b)("state/updateParameters",function(){var e=Object(lt.a)(ot.a.mark((function e(t,a){var n,r,c;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,delete t.id,e.next=4,bt.put("/parameters/".concat(n),t);case 4:return r=e.sent,c=r.data.data,e.abrupt("return",Object(A.a)({},c));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),xa=Object(vt.c)({name:"state",initialState:{loading:"loading"},reducers:ha,extraReducers:(Vt={},Object(_e.a)(Vt,ma.fulfilled,(function(e,t){var a=Object(A.a)({},t.payload);return Object(A.a)(Object(A.a)({},a),pa)})),Object(_e.a)(Vt,ma.rejected,(function(e,t){return e})),Object(_e.a)(Vt,fa.fulfilled,(function(e,t){var a=Object(A.a)({},e);return a.parameters=Object(A.a)({},t.payload),Object(A.a)({},a)})),Object(_e.a)(Vt,fa.rejected,(function(e,t){return e})),Vt),middleware:Object(gt.a)(Object(vt.d)())}),ga=function(){var e=Oa(),t=Object(d.g)(),a=Object(o.b)(),c=Object(r.useState)(null),i=Object(ne.a)(c,2),s=i[0],l=i[1],u=Object(o.c)((function(e){return e.state.parameters})),j=E(Xe.l,Object(A.a)({},s));Object(r.useEffect)((function(){u&&l(u)}),[u]);var b=function(e){var t=e.target,a=Object(A.a)(Object(A.a)({},s),{},Object(_e.a)({},t.name,t.value));l(a)};return s?Object(n.jsx)(Ie.a,{elevation:3,className:e.root,children:Object(n.jsxs)(Gt.a,{children:[Object(n.jsxs)($t.a,{children:[Object(n.jsx)(p.a,{component:"h2",children:"Actualizar configuracion"}),Object(n.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object.keys(Xe.l).map((function(e){var t=j[e]?j[e]:"",a=t||Xe.l[e].helperText;return Object(n.jsx)(Ze.a,{name:e,size:"medium",margin:"normal",value:s[e]||"",onChange:b,InputLabelProps:{shrink:!0},label:Xe.l[e].label,helperText:a||"",type:Xe.l[e].type,fullWidth:Xe.l[e].fullWidth||!1,placeholder:Xe.l[e].placeholder||"",error:!!t},e)}))})]}),Object(n.jsxs)(Kt.a,{className:e.actions,children:[Object(n.jsx)(be.a,{onClick:function(){return t.push("/")},children:"Cancelar"}),Object(n.jsx)(be.a,{prima:!0,onClick:function(){0===Object.keys(j).length&&(a(fa(s)),t.push("/"))},children:"Guardar"})]})]})}):null},va=a(151),ya=function(e){var t=e.children,a=Object(va.a)(e,["children"]),r=Object(o.c)((function(e){return e.auth})).user;return Object(n.jsx)(d.b,Object(A.a)(Object(A.a)({},a),{},{render:function(e){var a=e.location;return r&&r.active?t:Object(n.jsx)(d.a,{to:{pathname:"/login/",state:{from:a}}})}}))},Ca=a(293),wa=Object(_.a)((function(e){return{container:{display:"flex",flexWrap:"wrap",margin:e.spacing(2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"}}}));function Pa(e){var t=e.open,a=e.toogleOpen,r=e.onConfirm,i=e.title,s=c.a.useState(e.date),o=Object(ne.a)(s,2),l=o[0],d=o[1],u=wa();return Object(n.jsxs)(Be.a,{open:t,keepMounted:!0,onClose:a,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(Me.a,{id:"alert-dialog-slide-title",children:i}),Object(n.jsx)("div",{className:u.container,children:Object(n.jsx)(Ze.a,{id:"date",label:"Fecha",type:"date",value:l,className:u.textField,onChange:function(e){return t=e.target.value,d(t);var t},InputLabelProps:{shrink:!0}})}),Object(n.jsxs)(Le.a,{children:[Object(n.jsx)(be.a,{onClick:a,color:"primary",children:"Cancelar"}),Object(n.jsx)(be.a,{onClick:function(){a(),r(l)},color:"primary",children:"Confimar"})]})]})}var ka,Na=Object(_.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},actions:{margin:0,border:"none",display:"flex"},container:{maxHeight:"100vh",padding:"40px 20px"}}})),Sa=Object(_.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},title:{textAlign:"left"}}})),Ia=function(e){var t=e.headCells,a=e.title,r=Sa();return Object(n.jsxs)(qe.a,{className:r.root,children:[Object(n.jsx)(De.a,{children:Object(n.jsx)(Ee.a,{component:"th",colSpan:5,children:Object(n.jsx)(p.a,{variant:"h6",children:a})})}),Object(n.jsx)(De.a,{children:t.map((function(e){return Object(n.jsx)(Ee.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",colSpan:e.colSpan,children:e.label},e.id)}))})]})},Fa=a(292),Ta=a(291),Ea=a(13),za=Object(_.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:{color:e.palette.primary.contrastText,backgroundColor:Object(Ea.e)(e.palette.primary.light,.1)},title:{flex:"1 1 100%"}}})),qa=function(e){var t=za(),a=c.a.useState(!1),r=Object(ne.a)(a,2),i=r[0],s=r[1],o=e.print,l=e.selectDate,d=e.date,u=function(){return s(!i)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(g.a,{className:O()(t.root),children:[Object(n.jsx)(p.a,{className:t.title,variant:"h5",id:"tableTitle",component:"div",children:Object(n.jsx)("span",{children:" Resumen diario"})}),Object(n.jsx)(Ta.a,{title:"Imprimir",children:Object(n.jsx)(v.a,{"aria-label":"imprimir",onClick:o,children:Object(n.jsx)(Fa.a,{})})}),Object(n.jsx)(Ta.a,{title:"Seleccionar Fecha",children:Object(n.jsx)(v.a,{"aria-label":"filter list",onClick:u,children:Object(n.jsx)(Ca.a,{})})})]}),Object(n.jsx)(Pa,{open:i,date:d,toogleOpen:u,title:"Por favor seleccione la fecha",onConfirm:l})]})},Da={loading:"idle",response:{},errors:{},showErrors:!1,summary:{readyToPrint:!1}},Ra={clear:function(e,t){return Da}},Aa=Object(vt.b)("report/summary",function(){var e=Object(lt.a)(ot.a.mark((function e(t,a){var n,r;return ot.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bt.get("/reports/summary?date=".concat(t.date));case 2:return n=e.sent,(r=n.data.data).readyToPrint=!0,e.abrupt("return",Object(A.a)({},r));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),_a=Object(vt.c)({name:"report",initialState:Da,reducers:Ra,extraReducers:(ka={},Object(_e.a)(ka,Aa.fulfilled,(function(e,t){var a=Object(A.a)({},e);return a.summary=Object(A.a)({},t.payload),Object(A.a)({},a)})),Object(_e.a)(ka,Aa.rejected,(function(e,t){return Object(A.a)({},Da)})),ka),middleware:Object(gt.a)(Object(vt.d)())});function Ba(){var e=Na(),t=Object(r.useRef)(),a=Object(o.b)(),i=c.a.useState(!1),s=Object(ne.a)(i,2),l=s[0],d=s[1],u=c.a.useState(I()),j=Object(ne.a)(u,2),b=j[0],O=j[1],h=Object(o.c)((function(e){return e.report.summary}));Object(r.useEffect)((function(){a(Aa({date:b}))}),[b]);var m=Object(Qe.useReactToPrint)({content:function(){return t.current}}),f=function(e){return O(e)},x=h.invoices,g=h.payments,v=h.products,y=N(new Date(b),{dateStyle:"full"});return Object(n.jsx)("div",{className:e.root,children:Object(n.jsxs)(Ie.a,{className:e.paper,children:[Object(n.jsx)(qa,{print:m,selectDate:f,date:b}),Object(n.jsx)(ze.a,{className:e.container,ref:t,children:x&&x.length>0?Object(n.jsxs)(Fe.a,{size:"small",stickyHeader:!0,className:e.table,"aria-label":"enhanced table","aria-labelledby":"tableTitle",children:[Object(n.jsx)(Ia,{headCells:Xe.m.invoices,title:"Facturas ".concat(y)}),Object(n.jsxs)(Te.a,{children:[(x||[]).map((function(e){return Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{size:"small",align:"right",padding:"checkbox",children:e.number}),Object(n.jsx)(Ee.a,{size:"small",children:e.tax_id}),Object(n.jsx)(Ee.a,{size:"medium",children:e.fullname}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(e.exchange)}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(e.total)})]},e.number)})),Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{colSpan:4,align:"right",children:"Totales"}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(P(x,"total"))})]})]}),Object(n.jsx)(Ia,{headCells:Xe.m.payments,title:"Totales por forma de pago"}),Object(n.jsxs)(Te.a,{children:[(g||[]).map((function(e){return Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{colSpan:3,children:e.payment_type}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(e.total)}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(e.total_bs)})]},e.payment_type)})),Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{align:"right",colSpan:3,children:"Totales"}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(P(g,"total"))}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(P(g,"total_bs"))})]})]}),Object(n.jsx)(Ia,{headCells:Xe.m.products,title:"Ventas por producto"}),Object(n.jsx)(Te.a,{children:(v||[]).map((function(e){return Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{size:"medium",colSpan:4,children:e.description}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(e.quantity)})]},e.description)}))}),Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{align:"right",colSpan:4,children:"Totales"}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(P(v,"quantity"))})]})]}):Object(n.jsx)(Fe.a,{children:Object(n.jsxs)(qe.a,{children:[Object(n.jsx)(De.a,{children:Object(n.jsx)(Ee.a,{component:"th",colSpan:5,children:Object(n.jsxs)(p.a,{variant:"h5",style:{textAlign:"center"},children:["No se consiguen datos, para el dia ",y]})})}),Object(n.jsx)(De.a,{children:Object(n.jsx)(Ee.a,{component:"th",colSpan:5,children:Object(n.jsxs)(p.a,{variant:"h5",style:{textAlign:"center"},children:["Favor elegir otra fecha aqui"," ",Object(n.jsx)(Ca.a,{onClick:function(){return d(!l)},style:{cursor:"pointer"}})]})})})]})})}),Object(n.jsx)(Pa,{open:l,date:b,toogleOpen:function(){return d(!l)},title:"Por favor seleccione la fecha",onConfirm:f})]})})}var La=a(306),Wa=a(294),Ha=a(295),Ma=a(307),Va=a(314),Ga=Object(_.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},actions:{margin:0,border:"none",display:"flex"},container:{maxHeight:"100vh",padding:"40px 20px"}}})),$a=function(e){var t=e.order,a=e.orderBy,r=e.headCells,c=e.onRequestSort,i=Ga();return Object(n.jsx)(qe.a,{children:Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{padding:"checkbox"}),r.filter((function(e){return e.id})).map((function(e){return Object(n.jsx)(Ee.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:a===e.id&&t,children:Object(n.jsxs)(Va.a,{active:a===e.id,direction:a===e.id?t:"asc",onClick:(r=e.id,function(e){c(e,r)}),children:[e.label,a===e.id?Object(n.jsx)("span",{className:i.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var r})),Object(n.jsx)(Ee.a,{})]})})},Ka=Object(_.a)((function(e){return{content:{display:"flex",flexWrap:"wrap",margin:e.spacing(2)},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}}));function Ua(e){var t=e.open,a=e.toogleOpen,r=e.onConfirm,i=e.title,s=c.a.useState({from:e.range.from,to:e.range.to}),o=Object(ne.a)(s,2),l=o[0],d=o[1],u=function(e,t){var a=Object(A.a)({},l);a[e]=t,d(a)},j=Ka();return Object(n.jsxs)(Be.a,{open:t,keepMounted:!0,onClose:a,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(Me.a,{id:"alert-dialog-slide-title",children:i}),Object(n.jsxs)("div",{className:j.content,children:[Object(n.jsx)(Ze.a,{id:"date_from",label:"Desde",type:"date",value:l.from,className:j.textField,onChange:function(e){return u("from",e.target.value)},InputLabelProps:{shrink:!0}}),Object(n.jsx)(Ze.a,{id:"date_to",label:"Hasta",type:"date",value:l.to,className:j.textField,onChange:function(e){return u("to",e.target.value)},InputLabelProps:{shrink:!0}})]}),Object(n.jsxs)(Le.a,{children:[Object(n.jsx)(be.a,{onClick:a,color:"primary",children:"Cancelar"}),Object(n.jsx)(be.a,{onClick:function(){a(),r(l)},color:"primary",children:"Confimar"})]})]})}var Za=function(e){var t=za(),a=c.a.useState(!1),r=Object(ne.a)(a,2),i=r[0],s=r[1],o={dateStyle:"full"},l=e.selected,d=e.printItem,u=e.selectRange,j=e.range,b=l.length,h=function(){return s(!i)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(g.a,{className:O()(t.root,Object(_e.a)({},t.highlight,b>0)),children:[b>0?Object(n.jsxs)(p.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:["Factura numero: ",l[0]," seleccionada"]}):Object(n.jsxs)(p.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:["Facturas",j.from===j.to?Object(n.jsxs)("span",{children:[" del dia: ",N(new Date(j.from),o)]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("span",{children:[" desde: ",N(new Date(j.from),o)]}),Object(n.jsxs)("span",{children:[" hasta: ",N(new Date(j.to),o)]})]})]}),1===b&&Object(n.jsx)(Ta.a,{title:"Imprimir",children:Object(n.jsx)(v.a,{"aria-label":"imprimir",onClick:d,children:Object(n.jsx)(Fa.a,{})})}),0===b&&Object(n.jsx)(Ta.a,{title:"Filtrar Items",children:Object(n.jsx)(v.a,{"aria-label":"filter list",onClick:h,children:Object(n.jsx)(Ca.a,{})})})]}),Object(n.jsx)(Ua,{open:i,range:j,toogleOpen:h,title:"Por favor seleccione el rango de fechas",onConfirm:u})]})};function Ja(){var e=Ga(),t=Object(r.useRef)(),a=c.a.useState("asc"),i=Object(ne.a)(a,2),s=i[0],l=i[1],d=c.a.useState("group"),u=Object(ne.a)(d,2),j=u[0],b=u[1],O=c.a.useState([]),p=Object(ne.a)(O,2),h=p[0],m=p[1],f=c.a.useState(0),x=Object(ne.a)(f,2),g=x[0],v=x[1],y=c.a.useState(!1),C=Object(ne.a)(y,2),w=C[0],P=C[1],S=c.a.useState(10),F=Object(ne.a)(S,2),T=F[0],E=F[1],z=Object(o.c)((function(e){return e.document.invoices})),R=Object(o.c)((function(e){return e.document.invoice})).readyToPrint,A=c.a.useState({from:I(),to:I()}),_=Object(ne.a)(A,2),B=_[0],L=_[1],W=Object(o.b)();Object(r.useEffect)((function(){W(Et({from:B.from,to:B.to}))}),[B]),Object(r.useEffect)((function(){R&&(M(),H(),W({type:"document/clearInvoice"}))}),[R]);var H=function(){return W({type:"state/toogleShowInvoiceForm"})},M=Object(Qe.useReactToPrint)({content:function(){return t.current}});if(!z)return null;var V=z.reduce((function(e,t){return e+t.total}),0),G=z.reduce((function(e,t){return e+t.total*t.exchange}),0),$=T-Math.min(T,z.length-g*T);return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsxs)(Ie.a,{className:e.paper,children:[Object(n.jsx)(Za,{selected:h,printItem:function(){if(h[0]){var e=h[0],t=z.find((function(t){return t.id===e}));t&&(W(Tt(t.id)),m([]))}},range:B,selectRange:function(e){return L(e)}}),Object(n.jsx)(ze.a,{className:e.container,children:Object(n.jsxs)(Fe.a,{className:e.table,"aria-labelledby":"tableTitle",size:w?"small":"medium","aria-label":"enhanced table",stickyHeader:!0,children:[Object(n.jsx)($a,{className:e,order:s,orderBy:j,headCells:Xe.c,numSelected:h.length,onRequestSort:function(e,t){l(j===t&&"asc"===s?"desc":"asc"),b(t)},rowCount:z.length,actions:!0}),Object(n.jsxs)(Te.a,{children:[D(z,q(s,j)).slice(g*T,g*T+T).map((function(e,t){var a,r=(a=e.id,-1!==h.indexOf(a)),c="enhanced-table-checkbox-".concat(t),i=e.exchange*e.total,s=e.person?"".concat(e.person.tax_id):"",o=e.person?"".concat(e.person.firstname," ").concat(e.person.lastname):"",l=Date.parse(e.date);return Object(n.jsxs)(De.a,{hover:!0,onClick:function(t){return function(e,t){var a=h.indexOf(t);m(-1===a?[t]:[])}(0,e.id)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(n.jsx)(Ee.a,{padding:"checkbox",children:Object(n.jsx)(La.a,{checked:r,inputProps:{"aria-labelledby":c}})}),Object(n.jsx)(Ee.a,{component:"th",id:c,scope:"row",padding:"checkbox",align:"center",children:e.number}),Object(n.jsx)(Ee.a,{padding:"none",children:N(l)}),Object(n.jsx)(Ee.a,{size:"medium",children:s}),Object(n.jsx)(Ee.a,{size:"medium",children:o}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(e.total)}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(i)})]},e.id)})),Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{colSpan:5,align:"right",children:"Totales"}),Object(n.jsx)(Ee.a,{align:"right",children:k(V)}),Object(n.jsx)(Ee.a,{align:"right",children:k(G)})]}),$>0&&Object(n.jsx)(De.a,{style:{height:(w?33:53)*$},children:Object(n.jsx)(Ee.a,{colSpan:6})})]})]})}),Object(n.jsx)(Ma.a,{page:g,component:"div",count:z.length,rowsPerPage:T,onChangePage:function(e,t){return v(t)},rowsPerPageOptions:[5,10,25],onChangeRowsPerPage:function(e){E(parseInt(e.target.value,10)),v(0)}})]}),Object(n.jsx)(Wa.a,{control:Object(n.jsx)(Ha.a,{checked:w,onChange:function(e){return P(e.target.checked)}}),label:"Tabla condensada"}),Object(n.jsx)("div",{style:{display:"none"},children:Object(n.jsx)(it,{ref:t})})]})}var Xa=a(310),Ya=Object(_.a)((function(e){return{root:{padding:e.spacing(1)},formControl:{margin:e.spacing(0),marginLeft:0}}})),Qa=function(){var e=Ya(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.document.purchase})),r=function(e){var n=e.target,r=Object(A.a)(Object(A.a)({},c),{},Object(_e.a)({},n.name,n.value)),i=E(Xe.h,Object(A.a)({},r)),s=Object(A.a)({},a);s.errors=Object(A.a)({},i),s.provider=Object(A.a)({},r),t({type:"document/setPurchase",payload:s})},c=a.provider,i=a.errors;return Object(n.jsxs)(Ie.a,{className:e.root,elevation:2,children:[Object(n.jsx)(p.a,{variant:"h5",children:"Datos Proveedor"}),Object(n.jsx)(mt,{url:"/persons",field:"firstname",label:"Buscar Proveedor",onChange:function(e){var n=Object(A.a)({},c);Object.keys(Xe.h).map((function(t){return null===e?n[t]="":e[t]&&(n[t]=e[t]),null}));var r=Object(A.a)({},a);r.provider=Object(A.a)({},n),t({type:"document/setPurchase",payload:r})}}),Object(n.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object.keys(Xe.h).map((function(e){var t=i[e],a=t||Xe.h[e].helperText;return Object(n.jsx)(Ze.a,{name:e,size:"medium",margin:"normal",value:c[e]||"",style:{margin:8},onChange:r,InputLabelProps:{shrink:!0},label:Xe.h[e].label,helperText:a||"",fullWidth:Xe.h[e].fullWidth||!1,placeholder:Xe.h[e].placeholder||"",error:t},e)}))})]})},en=function(e){var t=e.order,a=e.classes,r=e.orderBy,c=e.headCells,i=e.onRequestSort,s=e.useCheck,o=void 0===s||s;return Object(n.jsx)(qe.a,{children:Object(n.jsxs)(De.a,{children:[o&&Object(n.jsx)(Ee.a,{padding:"checkbox"}),c.filter((function(e){return e.id})).map((function(e){return Object(n.jsx)(Ee.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&t,children:Object(n.jsxs)(Va.a,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(c=e.id,function(e){i===R&&i(e,c)}),children:[e.label,r===e.id?Object(n.jsx)("span",{className:a.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var c})),Object(n.jsx)(Ee.a,{})]})})},tn=a(296),an=function(e){var t=e.title,a=e.open,r=e.toggleOpen,c=e.accept;return Object(n.jsxs)(Be.a,{open:a,onClose:r,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(Me.a,{id:"form-dialog-title",children:t}),Object(n.jsx)(We.a,{children:e.children}),Object(n.jsxs)(Le.a,{children:[Object(n.jsx)(be.a,{onClick:r,color:"secondary",children:"Cancelar"}),Object(n.jsx)(be.a,{onClick:c,color:"primary",children:"Aceptar"})]})]})},nn=Object(_.a)((function(e){return{root:{padding:e.spacing(1)},formControl:{margin:e.spacing(0),marginLeft:0}}})),rn=function(e){var t=nn(),a=e.data,r=e.setData,c=function(e){var t=e.target,n=Object(A.a)(Object(A.a)({},a.product),{},Object(_e.a)({},t.name,parseFloat(t.value))),c=E(Xe.i,Object(A.a)({},n)),i={product:Object(A.a)({},n),errors:Object(A.a)({},c)};r(i)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(mt,{url:"/products",field:"description",fieldLabel:"description",label:"Buscar Productos",onChange:function(e){var t=Object(A.a)({},a.product);if(Object.keys(Xe.i).map((function(a){return null===e?t[a]="":e[a]&&(t[a]=e[a]),null})),e){var n=Object(A.a)(Object(A.a)({},t),{},{id:e?e.id:"",quantity:0,description:e?e.description:"",tax:e?e.tax:0}),c=E(Xe.i,Object(A.a)({},n));r({product:Object(A.a)({},n),errors:Object(A.a)({},c)})}}}),Object(n.jsx)("form",{className:t.root,noValidate:!0,autoComplete:"off",children:Object.keys(Xe.i).map((function(e){var t=a.errors[e],r=t||Xe.i[e].helperText;return Object(n.jsx)(Ze.a,{name:e,size:"medium",margin:"normal",value:a.product[e]||"",style:{margin:8},onChange:c,InputLabelProps:{shrink:!0},label:Xe.i[e].label,helperText:r||"",fullWidth:Xe.i[e].fullWidth||!1,placeholder:Xe.i[e].placeholder||"",error:t},e)}))})]})},cn={product:{},errors:{}},sn=function(e){var t=Object(o.b)(),a=Object(o.c)((function(e){return e.document.purchase})),c=e.open,i=e.setOpen,s=Object(r.useState)(cn),l=Object(ne.a)(s,2),d=l[0],u=l[1],j=function(){return i(!c)};return Object(n.jsx)(an,{title:"Agregar producto",open:c,toggleOpen:j,accept:function(){if(!(Object.keys(d.errors).length>0||0===Object.keys(d.product).length)){var e=Object(A.a)({},a),n=!1,r=e.products.map((function(e){var t=parseFloat(e.quantity);if(e.id===d.product.id){n=!0;var a=t+parseFloat(d.product.quantity);return Object(A.a)(Object(A.a)({},e),{},{quantity:a})}return Object(A.a)(Object(A.a)({},e),{},{quantity:t})}));n||(r=[].concat(Object(gt.a)(r),[d.product])),e.products=r,t({type:"document/setPurchase",payload:e}),u(cn),j()}},children:Object(n.jsx)(rn,{data:d,setData:u})})},on=function(){var e=za(),t=c.a.useState(!1),a=Object(ne.a)(t,2),r=a[0],i=a[1];return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(g.a,{className:O()(e.root,Object(_e.a)({},e.highlight,!0)),children:[Object(n.jsx)(p.a,{className:e.title,color:"inherit",variant:"subtitle1",component:"div",children:"Productos"}),Object(n.jsx)(Ta.a,{title:"Agregar Producto",children:Object(n.jsx)(v.a,{"aria-label":"Add Productos",onClick:function(){return i(!0)},className:e.highlight,children:Object(n.jsx)(tn.a,{})})})]}),Object(n.jsx)(sn,{open:r,setOpen:i})]})},ln=function(){var e,t,a=nn(),r=Object(o.b)(),c=Object(o.c)((function(e){return e.document.purchase})),i=Object(o.c)((function(e){return e.state.parameters})).exchange,s=c.products,l=(t=["cost","quantity"],(e=s)?e.reduce((function(e,a){return e+parseFloat(a[t[0]])*parseFloat(a[t[1]])}),0):0);return Object(n.jsx)(Ie.a,{elevation:3,children:Object(n.jsxs)(ze.a,{className:a.container,children:[Object(n.jsx)(on,{}),Object(n.jsxs)(Fe.a,{className:a.table,"aria-labelledby":"tableTitle",size:"medium","aria-label":"enhanced table",stickyHeader:!0,children:[Object(n.jsx)(en,{className:a,headCells:Xe.j,numSelected:0,rowCount:s.length,actions:!0,useCheck:!1}),Object(n.jsxs)(Te.a,{children:[s.map((function(e){var t=e.cost*e.quantity,o=t*i;return Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{size:"medium",children:e.description}),Object(n.jsx)(Ee.a,{size:"medium",children:k(e.quantity)}),Object(n.jsx)(Ee.a,{size:"medium",children:k(e.cost)}),Object(n.jsx)(Ee.a,{size:"medium",children:k(e.price)}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(t)}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(o)}),Object(n.jsx)(Ee.a,{size:"small",children:Object(n.jsx)(Ta.a,{title:"Agregar Producto",children:Object(n.jsx)(v.a,{"aria-label":"Eliminar producto",onClick:function(t){return function(e){var t=s.filter((function(t){return t.id!==e})),a=Object(A.a)({},c);a.products=Object(gt.a)(t),r({type:"document/setPurchase",payload:a})}(e.id)},className:a.highlight,children:Object(n.jsx)(ta.a,{})})})})]},e.id)})),Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{colSpan:4,align:"right",children:"Totales"}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(l)}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(l*i)})]})]})]})]})})},dn=Object(_.a)((function(e){return{root:{gap:10,display:"flex",flexDirection:"row-reverse",paddingTop:e.spacing(1)},formControl:{margin:e.spacing(0),marginLeft:0}}})),un=function(){var e=dn(),t=Object(o.b)(),a=Object(d.g)(),r=Object(o.c)((function(e){return e.document.purchase})),c=Object(o.c)((function(e){return e.state.parameters})).exchange;return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(be.a,{color:"primary",variant:"contained",onClick:function(){if(r.products.length<1)console.log("No products");else{var e;if(e=E(Xe.h,r.provider),!(Object.keys(e).length>0)){var n=Object(A.a)(Object(A.a)({},r),{},{exchange:c});t(Dt(n)),a.push("/")}}},children:"Guardar"}),Object(n.jsx)(be.a,{color:"secondary",variant:"contained",onClick:function(){return t({type:"document/clearPurchase"})},children:"Limpiar"})]})},jn=function(){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(Xa.a,{"aria-label":"breadcrumb",children:[Object(n.jsx)(l.b,{color:"inherit",to:"/",children:"Inicio"}),Object(n.jsx)(l.b,{color:"inherit",to:"/purchases/",children:"Compras"}),Object(n.jsx)(p.a,{color:"textPrimary",children:"Compra nueva"})]}),Object(n.jsx)(Qa,{}),Object(n.jsx)(ln,{}),Object(n.jsx)(un,{})]})},bn=function(e){var t=Object(d.g)(),a=za(),r=c.a.useState(!1),i=Object(ne.a)(r,2),s=i[0],o=i[1],l={dateStyle:"full"},u=e.selected,j=e.printItem,b=e.selectRange,h=e.range,m=u.length,f=function(){return o(!s)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(g.a,{className:O()(a.root,Object(_e.a)({},a.highlight,m>0)),children:[m>0?Object(n.jsxs)(p.a,{className:a.title,color:"inherit",variant:"subtitle1",component:"div",children:["Compra numero: ",u[0]," seleccionada"]}):Object(n.jsxs)(p.a,{className:a.title,variant:"h6",id:"tableTitle",component:"div",children:["Compras",h.from===h.to?Object(n.jsxs)("span",{children:[" del dia: ",N(new Date(h.from),l)]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("span",{children:[" desde: ",N(new Date(h.from),l)]}),Object(n.jsxs)("span",{children:[" hasta: ",N(new Date(h.to),l)]})]})]}),1===m&&Object(n.jsx)(Ta.a,{title:"Imprimir",children:Object(n.jsx)(v.a,{"aria-label":"imprimir",onClick:j,children:Object(n.jsx)(Fa.a,{})})}),0===m&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ta.a,{title:"Filtrar Items",children:Object(n.jsx)(v.a,{"aria-label":"filter list",onClick:f,children:Object(n.jsx)(Ca.a,{})})}),Object(n.jsx)(Ta.a,{title:"Agregar Compra",children:Object(n.jsx)(v.a,{"aria-label":"Add purchase",onClick:function(){return t.push("/purchases/new")},children:Object(n.jsx)(tn.a,{})})})]})]}),Object(n.jsx)(Ua,{open:s,range:h,toogleOpen:f,title:"Por favor seleccione el rango de fechas",onConfirm:b})]})},On=Object(_.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},actions:{margin:0,border:"none",display:"flex"},container:{maxHeight:"100vh",padding:"40px 20px"}}}));function pn(){var e=On(),t=Object(r.useRef)(),a=c.a.useState("asc"),i=Object(ne.a)(a,2),s=i[0],l=i[1],d=c.a.useState("group"),u=Object(ne.a)(d,2),j=u[0],b=u[1],O=c.a.useState([]),p=Object(ne.a)(O,2),h=p[0],m=p[1],f=c.a.useState(0),x=Object(ne.a)(f,2),g=x[0],v=x[1],y=c.a.useState(!1),C=Object(ne.a)(y,2),w=C[0],P=C[1],S=c.a.useState(10),F=Object(ne.a)(S,2),T=F[0],E=F[1],z=Object(o.c)((function(e){return e.document.purchases})),R=Object(o.c)((function(e){return e.document.purchase})).readyToPrint,A=c.a.useState({from:I(),to:I()}),_=Object(ne.a)(A,2),B=_[0],L=_[1],W=Object(o.b)();Object(r.useEffect)((function(){W(qt({from:B.from,to:B.to}))}),[B]),Object(r.useEffect)((function(){R&&(H(),W({type:"document/clearPurchase"}))}),[R]);var H=Object(Qe.useReactToPrint)({content:function(){return t.current}});if(!z)return null;var M=z.reduce((function(e,t){return e+t.total}),0),V=z.reduce((function(e,t){return e+t.total*t.exchange}),0),G=T-Math.min(T,z.length-g*T);return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsxs)(Ie.a,{className:e.paper,children:[Object(n.jsx)(bn,{selected:h,printItem:function(){if(h[0]){var e=h[0],t=z.find((function(t){return t.id===e}));t&&(W(zt(t.id)),m([]))}},range:B,selectRange:function(e){return L(e)}}),Object(n.jsx)(ze.a,{className:e.container,children:Object(n.jsxs)(Fe.a,{className:e.table,"aria-labelledby":"tableTitle",size:w?"small":"medium","aria-label":"enhanced table",stickyHeader:!0,children:[Object(n.jsx)(en,{className:e,order:s,orderBy:j,headCells:Xe.k,numSelected:h.length,onRequestSort:function(e,t){l(j===t&&"asc"===s?"desc":"asc"),b(t)},rowCount:z.length,actions:!0}),Object(n.jsxs)(Te.a,{children:[D(z,q(s,j)).slice(g*T,g*T+T).map((function(e,t){var a,r=(a=e.id,-1!==h.indexOf(a)),c="enhanced-table-checkbox-".concat(t),i=e.exchange*e.total,s=e.person?"".concat(e.person.tax_id):"",o=e.person?"".concat(e.person.firstname," ").concat(e.person.lastname):"",l=Date.parse(e.date);return Object(n.jsxs)(De.a,{hover:!0,onClick:function(t){return function(e,t){var a=h.indexOf(t);m(-1===a?[t]:[])}(0,e.id)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(n.jsx)(Ee.a,{padding:"checkbox",children:Object(n.jsx)(La.a,{checked:r,inputProps:{"aria-labelledby":c}})}),Object(n.jsx)(Ee.a,{component:"th",id:c,scope:"row",padding:"checkbox",align:"center",children:e.number}),Object(n.jsx)(Ee.a,{padding:"none",children:N(l)}),Object(n.jsx)(Ee.a,{size:"medium",children:s}),Object(n.jsx)(Ee.a,{size:"medium",children:o}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(e.total)}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:k(i)})]},e.id)})),Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{colSpan:5,align:"right",children:"Totales"}),Object(n.jsx)(Ee.a,{align:"right",children:k(M)}),Object(n.jsx)(Ee.a,{align:"right",children:k(V)})]}),G>0&&Object(n.jsx)(De.a,{style:{height:(w?33:53)*G},children:Object(n.jsx)(Ee.a,{colSpan:6})})]})]})}),Object(n.jsx)(Ma.a,{page:g,component:"div",count:z.length,rowsPerPage:T,onChangePage:function(e,t){return v(t)},rowsPerPageOptions:[5,10,25],onChangeRowsPerPage:function(e){E(parseInt(e.target.value,10)),v(0)}})]}),Object(n.jsx)(Wa.a,{control:Object(n.jsx)(Ha.a,{checked:w,onChange:function(e){return P(e.target.checked)}}),label:"Tabla condensada"}),Object(n.jsx)("div",{style:{display:"none"},children:Object(n.jsx)(jn,{ref:t})})]})}var hn=a(298),mn=a(297),fn=function(e){var t=e.order,a=e.classes,r=e.orderBy,c=e.rowCount,i=e.headCells,s=e.numSelected,o=e.onRequestSort,l=e.onSelectAllClick;return Object(n.jsx)(qe.a,{children:Object(n.jsxs)(De.a,{children:[Object(n.jsx)(Ee.a,{padding:"checkbox",children:Object(n.jsx)(La.a,{indeterminate:s>0&&s<c,checked:c>0&&s===c,onChange:l,inputProps:{"aria-label":"select all"}})}),i.filter((function(e){return e.id})).map((function(e){return Object(n.jsx)(Ee.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&t,children:Object(n.jsxs)(Va.a,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(c=e.id,function(e){o(e,c)}),children:[e.label,r===e.id?Object(n.jsx)("span",{className:a.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var c})),Object(n.jsx)(Ee.a,{})]})})},xn=a(299),gn=a(210),vn=c.a.forwardRef((function(e,t){return Object(n.jsx)(gn.a,Object(A.a)({direction:"up",ref:t},e))}));function yn(e){var t=e.open,a=e.toogleOpen,r=e.onConfirm,c=e.title,i=e.content;return Object(n.jsx)("div",{children:Object(n.jsxs)(Be.a,{open:t,TransitionComponent:vn,keepMounted:!0,onClose:a,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(n.jsx)(Me.a,{id:"alert-dialog-slide-title",children:c}),Object(n.jsx)(We.a,{children:Object(n.jsx)(He.a,{id:"alert-dialog-slide-description",children:i})}),Object(n.jsxs)(Le.a,{children:[Object(n.jsx)(be.a,{onClick:a,color:"primary",children:"Cancelar"}),Object(n.jsx)(be.a,{onClick:function(){a(),r()},color:"primary",children:"Confimar"})]})]})})}var Cn=function(e){var t=za(),a=c.a.useState(!1),r=Object(ne.a)(a,2),i=r[0],s=r[1],o=e.selected,l=e.deleteItem,d=e.addItem,u=e.editItem,j=o.length,b=function(){return s(!i)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(g.a,{className:O()(t.root,Object(_e.a)({},t.highlight,j>0)),children:[j>0?Object(n.jsxs)(p.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[j," seleccionados"]}):Object(n.jsx)(p.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Productos"}),1===j&&Object(n.jsx)(Ta.a,{title:"Modificar",children:Object(n.jsx)(v.a,{"aria-label":"modificar",onClick:u,children:Object(n.jsx)(mn.a,{})})}),j>0?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(Ta.a,{title:"Eliminar",children:Object(n.jsx)(v.a,{"aria-label":"delete",onClick:b,children:Object(n.jsx)(hn.a,{})})})}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ta.a,{title:"Filtrar Items",children:Object(n.jsx)(v.a,{"aria-label":"filter list",children:Object(n.jsx)(Ca.a,{})})}),Object(n.jsx)(Ta.a,{title:"Agregar Item",children:Object(n.jsx)(v.a,{"aria-label":"add item",children:Object(n.jsx)(xn.a,{onClick:d})})})]})]}),Object(n.jsx)(yn,{open:i,toogleOpen:b,title:"Por favor verifique",content:"Esta eliminando ".concat(j," producto(s), desea continuar ?"),onConfirm:l})]})},wn=Object(_.a)((function(e){return{button:{margin:e.spacing(1)}}})),Pn=function(){var e=wn(),t=Object(o.b)(),a=Object(o.c)((function(e){return e.product})),r=a.product,c=a.errors,i=function(e){var a=e.target,n=Object(A.a)(Object(A.a)({},r),{},Object(_e.a)({},a.name,a.value)),c=E(Xe.f,Object(A.a)({},n));t({type:"product/setProduct",payload:n}),t({type:"product/setErrors",payload:c})};return r?Object(n.jsx)("div",{children:Object(n.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object.keys(Xe.f).map((function(e){var t=c[e],a=t||Xe.f[e].helperText;return Object(n.jsx)(Ze.a,{name:e,size:"medium",margin:"normal",value:r[e]||"",style:{margin:8},onChange:i,InputLabelProps:{shrink:!0},label:Xe.f[e].label,helperText:a||"",fullWidth:Xe.f[e].fullWidth||!1,placeholder:Xe.f[e].placeholder||"",error:t},e)}))})}):null};function kn(e){return Object(n.jsx)(pe.a,Object(A.a)({elevation:6,variant:"filled"},e))}var Nn=function(){var e=Object(o.b)(),t=Object(r.useState)(!1),a=Object(ne.a)(t,2),c=a[0],i=a[1],s=function(){return e({type:"state/toogleOpenProductForm"})},l=Object(o.c)((function(e){return e.state})).showProductForm,d=Object(o.c)((function(e){return e.product})),u=d.product,j=d.errors,b=Object.keys(j).length>0;return Object(n.jsxs)(Be.a,{open:l,onClose:s,"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(Me.a,{id:"form-dialog-title",children:"Datos del Producto"}),Object(n.jsx)(We.a,{children:Object(n.jsx)(Pn,{})}),Object(n.jsxs)(Le.a,{children:[Object(n.jsx)(be.a,{onClick:s,color:"secondary",children:"Cancelar"}),Object(n.jsx)(be.a,{onClick:function(){b?i(!0):(i(!1),e(Pt(u)),e({type:"state/toogleOpenProductForm"}))},color:"primary",children:"Aceptar"})]}),Object(n.jsx)(Oe.a,{open:c,autoHideDuration:6e3,onClose:function(){return i(!1)},children:Object(n.jsx)(kn,{severity:"error",children:"El formulario presenta errores o no esta completo"})})]})},Sn=Object(_.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},actions:{margin:0,border:"none",display:"flex"}}}));function In(){var e=Sn(),t=c.a.useState("asc"),a=Object(ne.a)(t,2),r=a[0],i=a[1],s=c.a.useState("group"),l=Object(ne.a)(s,2),d=l[0],u=l[1],j=c.a.useState([]),b=Object(ne.a)(j,2),O=b[0],p=b[1],h=c.a.useState(0),m=Object(ne.a)(h,2),f=m[0],x=m[1],g=c.a.useState(!1),y=Object(ne.a)(g,2),C=y[0],w=y[1],P=c.a.useState(10),k=Object(ne.a)(P,2),N=k[0],S=k[1],I=Object(o.c)((function(e){return e.product.products})),F=Object(o.b)(),T=function(){var e=O.map((function(e){return I.find((function(t){return t.sku===e})).id}));console.log(e),x(0),p([]),F(kt(e))},E=function(){if(O[0]){var e=O[0],t=I.find((function(t){return t.sku===e}));F({type:"product/setProduct",payload:t}),F({type:"state/toogleOpenProductForm"}),p([])}},z=N-Math.min(N,I.length-f*N);return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsxs)(Ie.a,{className:e.paper,children:[Object(n.jsx)(Cn,{selected:O,addItem:function(){F({type:"product/setProduct",payload:{}}),F({type:"state/toogleOpenProductForm"}),p([])},deleteItem:T,editItem:E}),Object(n.jsx)(ze.a,{children:Object(n.jsxs)(Fe.a,{className:e.table,"aria-labelledby":"tableTitle",size:C?"small":"medium","aria-label":"enhanced table",stickyHeader:!0,children:[Object(n.jsx)(fn,{classes:e,order:r,orderBy:d,headCells:Xe.g,numSelected:O.length,onSelectAllClick:function(e){if(e.target.checked){var t=I.map((function(e){return e.sku}));p(t)}else p([])},onRequestSort:function(e,t){i(d===t&&"asc"===r?"desc":"asc"),u(t)},rowCount:I.length,actions:!0}),Object(n.jsxs)(Te.a,{children:[D(I,q(r,d)).slice(f*N,f*N+N).map((function(t,a){var r,c=(r=t.sku,-1!==O.indexOf(r)),i="enhanced-table-checkbox-".concat(a);return Object(n.jsxs)(De.a,{hover:!0,onClick:function(e){return function(e,t){var a=O.indexOf(t),n=[];-1===a?n=n.concat(O,t):0===a?n=n.concat(O.slice(1)):a===O.length-1?n=n.concat(O.slice(0,-1)):a>0&&(n=n.concat(O.slice(0,a),O.slice(a+1))),p(n)}(0,t.sku)},role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[Object(n.jsx)(Ee.a,{padding:"checkbox",children:Object(n.jsx)(La.a,{checked:c,inputProps:{"aria-labelledby":i}})}),Object(n.jsx)(Ee.a,{component:"th",id:i,scope:"row",padding:"checkbox",children:t.description}),Object(n.jsx)(Ee.a,{padding:"none",children:t.departament}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:t.stock}),Object(n.jsxs)(Ee.a,{size:"small",align:"right",children:[100*t.tax,"%"]}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:t.price}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:t.price_2}),Object(n.jsx)(Ee.a,{size:"small",align:"right",children:t.price_3}),Object(n.jsx)(Ee.a,{className:e.actions,children:c?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Ta.a,{title:"Eliminar",children:Object(n.jsx)(v.a,{"aria-label":"delete",onClick:T,children:Object(n.jsx)(hn.a,{})})}),Object(n.jsx)(Ta.a,{title:"Editar",children:Object(n.jsx)(v.a,{"aria-label":"delete",onClick:E,children:Object(n.jsx)(mn.a,{})})})]}):Object(n.jsx)("div",{})})]},t.sku)})),z>0&&Object(n.jsx)(De.a,{style:{height:(C?33:53)*z},children:Object(n.jsx)(Ee.a,{colSpan:6})})]})]})}),Object(n.jsx)(Ma.a,{rowsPerPageOptions:[5,10,25],component:"div",count:I.length,rowsPerPage:N,page:f,onChangePage:function(e,t){x(t)},onChangeRowsPerPage:function(e){S(parseInt(e.target.value,10)),x(0)}})]}),Object(n.jsx)(Wa.a,{control:Object(n.jsx)(Ha.a,{checked:C,onChange:function(e){w(e.target.checked)}}),label:"Tabla condensada"}),Object(n.jsx)(Nn,{})]})}var Fn=Object(_.a)((function(e){return{root:{display:"flex"},toolbar:{paddingleft:0,paddingRight:4},toolbarIcon:Object(A.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:5},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(_e.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Tn=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.state.messages})),a=t.length>0;return a?Object(n.jsx)(Oe.a,{open:a,autoHideDuration:6e3,children:Object(n.jsx)(pe.a,{elevation:6,onClose:function(t){return e({type:"state/removeMessage",payload:{id:t.messageId}})},variant:"filled",messageId:t[0].id,severity:t[0].severity,children:t[0].message},t[0].id)}):null};function En(){var e=Fn(),t=Object(o.c)((function(e){return e.state})).loading,a=Object(o.c)((function(e){return e.auth})).user;return"idle"!==t?null:Object(n.jsx)(l.a,{children:Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(u.a,{}),Object(n.jsx)(Tn,{}),Object(n.jsx)(L,{}),Object(n.jsx)(ba,{}),Object(n.jsxs)("main",{className:e.content,children:[Object(n.jsx)("div",{className:e.appBarSpacer}),Object(n.jsx)(j.a,{maxWidth:"lg",className:e.container,children:Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{exact:!0,path:"/",render:function(){return Object(n.jsx)(Ht,{})}}),Object(n.jsx)(d.b,{exact:!0,path:"/login/",render:function(){return a&&a.active?Object(n.jsx)(Ht,{}):Object(n.jsx)(Qt,{})}}),Object(n.jsx)(ya,{exact:!0,path:"/products/",children:Object(n.jsx)(In,{})}),Object(n.jsx)(ya,{exact:!0,path:"/invoices/",children:Object(n.jsx)(Ja,{})}),Object(n.jsx)(ya,{exact:!0,path:"/summary/",children:Object(n.jsx)(Ba,{})}),Object(n.jsx)(ya,{exact:!0,path:"/parameters/",children:Object(n.jsx)(ga,{})}),Object(n.jsx)(ya,{exact:!0,path:"/purchases/",children:Object(n.jsx)(pn,{})}),Object(n.jsx)(ya,{exact:!0,path:"/purchases/new/",children:Object(n.jsx)(jn,{})}),Object(n.jsx)(ya,{exact:!0,path:"/purchases/edit/:id",children:Object(n.jsx)(jn,{})})]})})]})]})})}var zn=a(118),qn=a.n(zn),Dn={products:[],show:!1},Rn={addProduct:function(e,t){var a=[].concat(Object(gt.a)(e.products),[Object(A.a)(Object(A.a)({},t.payload),{},{cart_id:qn()()})]);return Object(A.a)(Object(A.a)({},e),{},{products:a})},addProductOffer:function(e,t){var a=[].concat(Object(gt.a)(e.products),[Object(A.a)(Object(A.a)({},t.payload),{},{isOffer:!0,id:t.payload.product_id,cart_id:qn()()})]);return Object(A.a)(Object(A.a)({},e),{},{products:a})},removeProduct:function(e,t){var a=e.products.map((function(e){var a=1;return e.isOffer&&(a=t.payload.quantity),e.cart_id===t.payload.cart_id?Object(A.a)(Object(A.a)({},e),{},{quantity:e.quantity-a}):e}));return Object(A.a)(Object(A.a)({},e),{},{products:a.filter((function(e){return e.quantity>0}))})},removeProductItem:function(e,t){var a=e.products.filter((function(e){return e.cart_id!==t.payload.cart_id}));return Object(A.a)(Object(A.a)({},e),{},{products:a})},clear:function(e,t){return Dn}},An=Object(vt.c)({name:"cart",initialState:Dn,reducers:Rn,middleware:Object(gt.a)(Object(vt.d)())}),_n={payments:[],open:!1},Bn={addPayment:function(e,t){var a=[].concat(Object(gt.a)(e.payments),[t.payload]);return Object(A.a)(Object(A.a)({},e),{},{payments:a})},removePayment:function(e,t){var a=t.payload,n=e.payments,r=n.slice(0,a).concat(n.slice(a+1,n.length));return Object(A.a)(Object(A.a)({},e),{},{payments:r})},toogleOpen:function(e){var t=Object(A.a)(Object(A.a)({},e),{},{open:!e.open});return Object(A.a)({},t)},clear:function(e,t){return _n}},Ln=Object(vt.c)({name:"payment",initialState:_n,reducers:Bn,middleware:Object(gt.a)(Object(vt.d)())}),Wn=Object(vt.a)({reducer:{auth:Xt.reducer,state:xa.reducer,cart:An.reducer,document:Rt.reducer,payment:Ln.reducer,product:Nt.reducer,report:_a.reducer}}),Hn=a(148),Mn=a(302),Vn=a(147),Gn=Object(Hn.a)({palette:{primary:{main:"#1976d2"}}},Vn.esES);document.getElementById("root")&&(Wn.dispatch(ma()),Wn.dispatch(wt()),s.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(o.a,{store:Wn,children:Object(n.jsx)(Mn.a,{theme:Gn,children:Object(n.jsx)(En,{})})})}),document.getElementById("root")))}},[[204,1,2]]]);
//# sourceMappingURL=main.8f21858f.chunk.js.map