(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{156:function(e,t,n){},16:function(e){e.exports=JSON.parse('{"b":485375,"d":{"Efectivo $":{"currency":"$","detailsLabel":"Comentarios","detailsType":"text"},"Zelle":{"currency":"$","detailsLabel":"Email","detailsType":"email"},"Panama":{"currency":"$","detailsLabel":"Numero Transferencia","detailsType":"text"},"Pago Mobil":{"currency":"Bs.","detailsLabel":"Detalles","detailsType":"text"},"Transferencia":{"currency":"Bs","detailsLabel":"Numero Transferencia","detailsType":"text"}},"a":{"paymentType":"Efectivo $"},"c":{"tax_id":{"label":"Cedula Rif.","type":"search","validation":{"required":true}},"firstname":{"label":"Nombre","type":"text","validation":{"required":true}},"lastname":{"label":"Apellidos","type":"text","validation":{"required":true}},"address":{"label":"Direcci\xf3n","type":"text","validation":{"required":true}},"city":{"label":"Ciudad","type":"text","defaultValue":"Barcelona","validation":{"required":true}},"phone":{"label":"Telefono","type":"text"},"email":{"label":"Email","type":"email","validation":{"email":true}}}}')},181:function(e,t){},182:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),s=n(14),i=n.n(s),o=(n(156),n(85)),l=n.n(o),d=n(9),j=n(261),u=n(262),b=n(263),O=n(186),p=n(123),h=n.n(p),m=n(48),x=n(264),f=n(84),g=n.n(f),v=n(265),y=n(238),w=n(122),N=n.n(w),C=n(266),P=n(272),k=n(237),S=n(233),E=function(){return Object(a.jsxs)(m.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(S.a,{color:"inherit",href:"https://hksoluciones.com/",children:"HK soluciones"})," ",(new Date).getFullYear(),"."]})},I=n(271),F=n(259),A=n(260),T=n(86),D=n.n(T),B=n(61),q=n.n(B),z=n(184),R=n(236),W=n(235),L=function(e){return isNaN(e)&&(e=0),e.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},_=n(234),$=Object(_.a)((function(e){return{root:{width:"100%",padding:0,"& .column":{width:120,display:"flex",justifyContent:"flex-end","& div":{textAlign:"center",padding:5}},"& .icon-column":{width:60,"& div":{display:"block",textAlign:"center"}}}}})),M=function(e){var t=e.offer,n=$(),r=Object(d.b)();return Object(a.jsxs)(z.a,{button:!0,className:n.root,children:[Object(a.jsx)(W.a,{primary:Object(a.jsx)("span",{children:t.description})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsxs)("div",{children:[t.quantity," Kg"]})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsxs)("div",{children:[L(t.price)," $"]})}),Object(a.jsx)("div",{className:"icon-column",onClick:function(e){return function(e){r({type:"cart/addProduct",payload:e})}(t)},children:Object(a.jsx)(R.a,{children:Object(a.jsx)(q.a,{})})})]})]})},H=function(e){e.product;var t=$();return Object(a.jsxs)(z.a,{button:!0,className:t.root,children:[Object(a.jsx)(W.a,{primary:Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"descripcion",children:"Producto"})})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:"Peso"})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:"Precio"})}),Object(a.jsx)("div",{className:"icon-column",children:Object(a.jsx)("div",{})})]})]})},G=function(){var e=$(),t=Object(d.c)((function(e){return e.state.offers}));return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(k.a,{light:!0}),Object(a.jsx)(H,{}),Object(a.jsx)(y.a,{component:"nav","aria-label":"products-list",children:t.map((function(e,t){return Object(a.jsx)(M,{offer:e},t)}))})]})},K=n(30),Z=n(241),U=n(126),J=Object(_.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,"& nav":{padding:0,"& div":{padding:0}}}}})),V=function(){var e=J(),t=Object(d.b)(),n=Object(r.useState)(null),c=Object(K.a)(n,2),s=c[0],i=c[1],o=Object(d.c)((function(e){return e.state.departaments})),l=Object(d.c)((function(e){return e.state.selectedGroup}));return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(y.a,{component:"nav","aria-label":"product-group",children:Object(a.jsx)(z.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"Filtrar por ",onClick:function(e){i(e.currentTarget)},children:Object(a.jsx)(W.a,{primary:"Grupo",secondary:l||o[0]})})}),Object(a.jsx)(U.a,{id:"lock-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:function(){i(null)},children:o.map((function(e,n){return Object(a.jsx)(Z.a,{selected:e===l.departament,onClick:function(n){return function(e,n){i(null),t({type:"state/selectGroup",payload:n})}(0,e)},children:e},n)}))})]})},X=n(6),Y=Object(_.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},list:{padding:0,"& .column":{display:"flex",justifyContent:"flex-end",width:120,"& div":{textAlign:"right",paddingRight:5},"& .MuiListItemIcon-root":{padding:0,minWidth:0}}}}})),Q=function(e){var t=e.product,n=Y(),r=Object(d.b)(),c=function(e,t,n){var a=Object(X.a)(Object(X.a)({},e),{},{currentPrice:t,quantity:n});r({type:"cart/addProduct",payload:a})};return Object(a.jsxs)(z.a,{button:!0,className:n.list,children:[Object(a.jsx)(W.a,{primary:Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"descripcion",children:t.description})})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"column",onClick:function(e){return c(t,t.price,1)},children:[Object(a.jsxs)("div",{children:[L(t.price),Object(a.jsx)("span",{children:" $ "})]}),Object(a.jsx)(R.a,{children:Object(a.jsx)(q.a,{})})]}),Object(a.jsxs)("div",{className:"column",onClick:function(e){return c(t,t.price_2,.5)},children:[Object(a.jsxs)("div",{children:[L(t.price_2),Object(a.jsx)("span",{children:" $ "})]}),Object(a.jsx)(R.a,{children:Object(a.jsx)(q.a,{})})]}),Object(a.jsxs)("div",{className:"column",onClick:function(e){return c(t,t.price_3,.25)},children:[Object(a.jsxs)("div",{children:[L(t.price_3),Object(a.jsx)("span",{children:" $ "})]}),Object(a.jsx)(R.a,{children:Object(a.jsx)(q.a,{})})]})]})]})},ee=function(e){e.product;var t=Y();return Object(a.jsxs)(z.a,{button:!0,className:t.list,children:[Object(a.jsx)(W.a,{primary:Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"descripcion",children:"Producto"})})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:"1 Kg"})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:"0,5 Kg"})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:"0,25 Kg"})})]})]})},te=function(e){var t=e.products,n=Y();return Object(a.jsx)("div",{className:n.root,children:Object(a.jsxs)(y.a,{component:"nav","aria-label":"products-list",children:[Object(a.jsx)(ee,{}),Object(a.jsx)(k.a,{light:!0}),t.map((function(e,t){return Object(a.jsx)(Q,{product:e},t)}))]})})},ne=function(){var e=Object(d.c)((function(e){return e.state.products})),t=Object(d.c)((function(e){return e.state.selectedGroup})),n=e.filter((function(e){return e.departament===t}));return Object(a.jsxs)("div",{className:"w-full",children:[Object(a.jsx)(V,{}),Object(a.jsx)(te,{products:n})]})},ae=n(257),re=n(270),ce=n(268),se=n(118),ie=n.n(se),oe=n(119),le=n.n(oe),de=n(79),je=n.n(de),ue=Object(_.a)((function(e){return{root:{width:"100%",padding:0,"& .column":{display:"flex",justifyContent:"flex-end",width:120,"& div":{textAlign:"center",padding:5}},"& .icon-column":{width:60,cursor:"pointer","& div":{display:"block",textAlign:"center"}}},button:{margin:"10px 10px 10px 0"}}})),be=function(e){var t=e.product,n=ue(),r=Object(d.b)();return Object(a.jsxs)(z.a,{button:!0,className:n.root,children:[Object(a.jsx)(W.a,{primary:Object(a.jsx)("span",{children:t.description})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:L(t.quantity)})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:L(t.price)})}),Object(a.jsx)("div",{className:"icon-column",onClick:function(){return r({type:"cart/removeProductItem",payload:t})},children:Object(a.jsx)(R.a,{children:Object(a.jsx)(je.a,{})})})]})]})},Oe=function(){var e=ue();return Object(a.jsxs)(z.a,{button:!0,className:e.root,children:[Object(a.jsx)(W.a,{primary:Object(a.jsx)("span",{children:"Productos"})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:"Kg"})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsxs)("div",{children:["Precio",Object(a.jsx)("span",{children:" $"})]})}),Object(a.jsx)("div",{className:"icon-column"})]})]})},pe=Object(_.a)((function(e){return{root:{padding:0,justifyContent:"flex-end","& .total-row":{display:"flex",textAlign:"right","& .amount":{width:100,"& div":{padding:5},"& .MuiListItemIcon-root":{minWidth:0}}}}}})),he={unequal:{message:"Este campo es requerido",test:function(e){return e&&e!=="".trim()}},sameas:{message:"Estos valores no coinciden",test:function(e,t,n){return t[n]&&t[n]===e}},length:{message:"Este valor es invalido",test:function(e,t,n){return e.toString().length===parseInt(n)}},required:{message:"Este campo es requerido",test:function(e){return e&&e!=="".trim()}},email:{message:"Este email es invalido",test:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||e==="".trim()}},url:{message:"Esta URL no es valida",test:function(e){return/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\\.\\-]+\.[a-zA-Z]{2,5}[\\.]{0,1}/.test(e)}},string:{message:"Por favor escriba aqui",test:function(e){return"string"===typeof e}},boolean:{message:"Por favor elija si o no",test:function(e){return"1"===e||"0"===e||1===e||0===e}},integer:{message:"Por favor ingrese un entero",test:function(e){return Number.isInteger(1*e)}},date:{message:"Esto no es una fecha valida",test:function(e){return console.log("date validator:"+e),!0}},numeric:{message:"Por favor ingrese un numero",test:function(e){return!isNaN(e)}}},me=function(e,t){return e?e.reduce((function(e,n){return e+parseFloat(n[t])}),0):0},xe=function(e){return new Intl.NumberFormat("es-Es",{minimumFractionDigits:2}).format(e)},fe=function(e){return e?e.length:0},ge=function(e){return me(e,"price")},ve=function(e,t){var n={};return Object.keys(he).forEach((function(a){Object.keys(e).forEach((function(r){var c=t[r],s=e[r].validation;s&&Object.keys(s).forEach((function(e){a===e&&(he[a].test(c)||(n[r]=he[a].message))}))}))})),n},ye=function(){var e=pe(),t=Object(d.c)((function(e){return e.cart.products})),n=Object(d.c)((function(e){return e.payment.payments})),r=ge(t),c=me(n,"amount"),s=r-c;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(z.a,{className:e.root,children:[Object(a.jsx)(W.a,{className:e.root,primary:Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("span",{children:"Total Pagos: "})})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column"}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{className:"total",children:xe(c)})}),Object(a.jsx)("div",{className:"icon-column"})]})]}),Object(a.jsxs)(z.a,{className:e.root,children:[Object(a.jsx)(W.a,{className:e.root,primary:Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("span",{children:"Saldo: "})})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column"}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{className:"total",children:xe(s)})}),Object(a.jsx)("div",{className:"icon-column"})]})]})]})},we=Object(_.a)((function(e){return{root:{padding:0,justifyContent:"flex-end","& .total-row":{display:"flex",textAlign:"right","& .amount":{width:100,"& div":{padding:5},"& .MuiListItemIcon-root":{minWidth:0}}}}}})),Ne=function(){var e=we(),t=Object(d.c)((function(e){return e.cart.products})),n=function(e){return me(e,"quantity")}(t),r=fe(t),c=ge(t);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(z.a,{className:e.root,children:[Object(a.jsx)(W.a,{className:e.root,primary:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:"Total Pedido: "}),Object(a.jsxs)("span",{children:["(",r,")"]})]})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{className:"total",children:xe(n)})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{className:"total",children:xe(c)})}),Object(a.jsx)("div",{className:"icon-column"})]})]}),Object(a.jsx)(ye,{})]})},Ce=n(129),Pe=n(243),ke=n(247),Se=n(246),Ee=n(242),Ie=n(244),Fe=n(245),Ae=Object(_.a)((function(e){return{root:{},table:{minWidth:650,"& tfoot":{"& td":{fontSize:"1.2em"}}},button:{margin:e.spacing(1)}}})),Te=function(){var e=Ae(),t=Object(d.b)(),n=Object(d.c)((function(e){return e.payment.payments}));return Object(a.jsx)(Ee.a,{component:Ce.a,children:Object(a.jsxs)(Pe.a,{className:e.table,size:"small","aria-label":"a dense table",children:[Object(a.jsx)(Ie.a,{children:Object(a.jsxs)(Fe.a,{children:[Object(a.jsx)(Se.a,{align:"left",children:"Tipo"}),Object(a.jsx)(Se.a,{align:"right",children:"Monto $"}),Object(a.jsx)(Se.a,{align:"right",children:"Monto Bs."}),Object(a.jsx)(Se.a,{align:"left",children:"Detalles"}),Object(a.jsx)(Se.a,{})]})}),Object(a.jsx)(ke.a,{children:n.map((function(e,n){return Object(a.jsxs)(Fe.a,{children:[Object(a.jsx)(Se.a,{align:"left",children:e.paymentType}),Object(a.jsx)(Se.a,{align:"right",children:xe(e.amount)}),Object(a.jsx)(Se.a,{align:"right",children:xe(e.amountBs)}),Object(a.jsx)(Se.a,{align:"left",children:e.details}),Object(a.jsx)(Se.a,{align:"left",style:{cursor:"pointer"},onClick:function(){return function(e){return t({type:"payment/removePayment",payload:e})}(n)},children:Object(a.jsx)(je.a,{})})]},n)}))})]})})},De=n(25),Be=n(248),qe=n(256),ze=n(250),Re=n(251),We=n(249),Le=n(252),_e=n(269),$e=n(253),Me=n(275),He=n(255),Ge=n(276),Ke=Object(_.a)((function(e){return{formControl:{margin:e.spacing(1),marginLeft:0}}})),Ze=n(16),Ue=function(){var e=Ke(),t=Object(d.b)(),n=Object(r.useState)(Ze.a),c=Object(K.a)(n,2),s=c[0],i=c[1],o=Object(d.c)((function(e){return e.payment.open})),l=function(){return t({type:"payment/toogleOpen"})};Object(r.useEffect)((function(){i(Ze.a)}),[o]);var j=function(e){return function(t){i(Object(X.a)(Object(X.a)({},s),{},Object(De.a)({},e,t.target.value)))}};return Object(a.jsxs)(Be.a,{open:o,onClose:l,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(We.a,{id:"form-dialog-title",children:"A\xf1adir Pagos"}),Object(a.jsxs)(ze.a,{children:[Object(a.jsx)(Re.a,{children:"Por favor a\xf1ada los datos del pago"}),Object(a.jsx)(Le.a,{className:e.formControl,children:Object(a.jsx)(_e.a,{value:s.paymentType||"",onChange:j("paymentType"),className:e.selectEmpty,inputProps:{"aria-label":"Without label"},children:Object.keys(Ze.d).map((function(e){return Object(a.jsx)(Z.a,{value:e,children:e},e)}))})}),Object(a.jsxs)(Le.a,{fullWidth:!0,className:e.margin,children:[Object(a.jsx)(Me.a,{htmlFor:"standard-adornment-amount",children:"Amount"}),Object(a.jsx)($e.a,{id:"standard-adornment-amount",value:s.amount||"",onChange:j("amount"),startAdornment:Object(a.jsx)(He.a,{position:"start",children:Ze.d[s.paymentType].currency})})]}),Object(a.jsx)(Ge.a,{id:"name",autoFocus:!0,margin:"dense",value:s.details||"",onChange:j("details"),label:Ze.d[s.paymentType].detailsLabel,type:Ze.d[s.paymentType].detailsType,fullWidth:!0})]}),Object(a.jsxs)(qe.a,{children:[Object(a.jsx)(ae.a,{onClick:l,color:"secondary",children:"Cancelar"}),Object(a.jsx)(ae.a,{onClick:function(e){var n=0,a=0;"$"===Ze.d[s.paymentType].currency?(n=s.amount,a=s.amount*Ze.b):(a=s.amount,n=s.amount/Ze.b),t({type:"payment/addPayment",payload:Object(X.a)(Object(X.a)({},s),{},{amount:n,amountBs:a})}),l()},color:"primary",children:"Agregar"})]})]})},Je=n(113),Ve=n(114),Xe=n(115),Ye=n(127),Qe=n(125),et=Object(_.a)((function(e){return{header:{margin:e.spacing(2),display:"flex",justifyContent:"space-between",backgroundColor:"#f1f1f1","& .bold":{fontSize:20,fontWeight:600,textAlign:"right"},"& .column-link":{textAlign:"left"},"& .column-right":{textAlign:"right","& h3":{textAlign:"end"}}},fonts:{bold:{fontSize:12,fontWeight:600}},table:{width:"calc(100% - 30px)",textAlign:"left",margin:e.spacing(2),borderCollapse:"collapse",fontFamily:"Arial, Helvetica, sans-serif",border:"1px solid #1C6EA4","& thead":{border:"1px solid #1C6EA4",backgroundColor:"#EEEEEE"},"& .footer":{border:"1px solid #1C6EA4",backgroundColor:"#EEEEEE"},"& td":{textAlign:"right",paddingRight:e.spacing(1)},"& th":{textAlign:"right",paddingRight:e.spacing(1)},"& td.left":{textAlign:"left"},"& th.left":{textAlign:"left"},"& tfoot":{"& td":{fontSize:"1.2em"}}}}})),tt=function(){var e=et(),t=Object(d.c)((function(e){return e.state})).parameters,n=Object(d.c)((function(e){return e.cart})).products,r=Object(d.c)((function(e){return e.document.data})),c=r.person,s=r.header,i=s.number,o=s.date,l=s.exchange_rate,j=me(n,"price")*l;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:e.header,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:t.name}),Object(a.jsx)("h3",{children:t.tax_id}),Object(a.jsx)("div",{children:t.address})]}),Object(a.jsxs)("div",{className:"column-right",children:[Object(a.jsxs)("h3",{children:["Nota de entrega: ",Object(a.jsx)("span",{className:"bold",children:i})]}),Object(a.jsxs)("h3",{children:["Fecha de emision: ",o]})]})]}),Object(a.jsx)("div",{className:e.header,children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("h3",{children:["RIF :",c.tax_id]}),Object(a.jsxs)("h3",{children:["Nombre / Razon social: ",c.firstname," ",c.lastname]}),Object(a.jsxs)("h3",{children:["Direccion: ",c.address," ",c.city]}),Object(a.jsxs)("h3",{children:[Object(a.jsxs)("span",{children:["Telefono: ",c.phone]})," ",Object(a.jsxs)("span",{children:["Email: ",c.email]})]})]})}),Object(a.jsx)("hr",{}),Object(a.jsxs)("table",{className:e.table,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"left",children:"Descripcion"}),Object(a.jsx)("th",{children:"Cantidad"}),Object(a.jsx)("th",{children:"Unidad"}),Object(a.jsx)("th",{children:"Precio Unitario"}),Object(a.jsx)("th",{children:"Neto"})]})}),Object(a.jsx)("tfoot",{className:"footer",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"left",children:"Totales"}),Object(a.jsx)("td",{}),Object(a.jsx)("td",{}),Object(a.jsx)("td",{}),Object(a.jsx)("td",{children:xe(j)})]})}),Object(a.jsx)("tbody",{children:n.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"left",children:e.description}),Object(a.jsx)("td",{children:e.quantity}),Object(a.jsx)("td",{children:"Kg."}),Object(a.jsx)("td",{children:xe(e.price*l)}),Object(a.jsx)("td",{children:xe(e.price*l)})]},t)}))})]})]})},nt=function(e){Object(Ye.a)(n,e);var t=Object(Qe.a)(n);function n(){return Object(Ve.a)(this,n),t.apply(this,arguments)}return Object(Xe.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(tt,{})})}}]),n}(c.a.PureComponent),at=n(41),rt=n.n(at),ct=n(57),st=n(267),it=n(258),ot=n(116),lt=n.n(ot).a.create({baseURL:"/api/v1/"});function dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){setTimeout(t,e)}))}var jt,ut=function(e){var t=e.label,n=e.field,r=e.url,s=e.onChange,i=c.a.useState(!1),o=Object(K.a)(i,2),l=o[0],d=o[1],j=c.a.useState([]),u=Object(K.a)(j,2),b=u[0],O=u[1],p=l&&0===b.length;c.a.useEffect((function(){var e=!0;if(p)return Object(ct.a)(rt.a.mark((function t(){var n,a;return rt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt(100);case 2:return t.next=4,lt(r);case 4:return n=t.sent,t.next=7,n.data.data;case 7:a=t.sent,e&&O(a);case 9:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[p,r]),c.a.useEffect((function(){l||O([])}),[l]);var h=function(){return d(!l)};return Object(a.jsx)(st.a,{id:"search",open:l,loading:p,options:b,onOpen:h,onClose:h,style:{width:"100%"},getOptionLabel:function(e){return e.firstname},onChange:function(e,t){return s(t)},getOptionSelected:function(e,t){return e[n]===t[n]},renderInput:function(e){return Object(a.jsx)(Ge.a,Object(X.a)(Object(X.a)({},e),{},{label:t,variant:"outlined",onChange:s,InputProps:Object(X.a)(Object(X.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(c.a.Fragment,{children:[p&&Object(a.jsx)(it.a,{color:"inherit",size:20}),e.InputProps.endAdornment]})})}))}})},bt=Object(_.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},table:{minWidth:650,"& tfoot":{"& td":{fontSize:"1.2em"}}},button:{margin:e.spacing(1)}}})),Ot=function(){var e=bt(),t=Object(d.b)(),n=Object(d.c)((function(e){return e.document.data})).person,r=Object(d.c)((function(e){return e.document})).errors,c=function(e){var a=e.target,r=Object(X.a)(Object(X.a)({},n),{},Object(De.a)({},a.name,a.value)),c=ve(Ze.c,Object(X.a)({},r));t({type:"document/setPerson",payload:r}),t({type:"document/setErrors",payload:c})};return Object(a.jsxs)("div",{children:[Object(a.jsx)(ut,{url:"/persons",field:"firstname",label:"Buscar Cliente",onChange:function(e){var a=Object(X.a)({},n);Object.keys(Ze.c).map((function(t){return null===e?a[t]="":e[t]&&(a[t]=e[t]),null})),t({type:"document/setPerson",payload:a})}}),Object(a.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object.keys(Ze.c).map((function(e){var t=r[e],s=t||Ze.c[e].helperText;return Object(a.jsx)(Ge.a,{name:e,size:"medium",margin:"normal",value:n[e]||"",style:{margin:8},onChange:c,InputLabelProps:{shrink:!0},label:Ze.c[e].label,helperText:s||"",fullWidth:Ze.c[e].fullWidth||!1,placeholder:Ze.c[e].placeholder||"",error:t},e)}))})]})},pt=n(18),ht=n(20),mt={loading:"idle",response:{},errors:{},showErrors:!1,data:{person:{},header:{},products:[]}},xt={setPerson:function(e,t){var n=Object(X.a)({},e.data);return n.person=t.payload,Object(X.a)(Object(X.a)({},e),{},{data:n})},setHeader:function(e,t){var n=Object(X.a)({},e.data);return n.header=t.payload,Object(X.a)(Object(X.a)({},e),{},{data:n})},setProducts:function(e,t){var n=Object(X.a)({},e.data);return n.products=t.payload,Object(X.a)(Object(X.a)({},e),{},{data:n})},setErrors:function(e,t){return Object(X.a)(Object(X.a)({},e),{},{errors:Object(X.a)({},t.payload)})},setShowErrors:function(e,t){return Object(X.a)(Object(X.a)({},e),{},{showErrors:Object(X.a)({},t.payload)})},clear:function(e,t){return mt}},ft=Object(ht.b)("document/saveDocument",function(){var e=Object(ct.a)(rt.a.mark((function e(t){var n;return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt.post("/documents",t);case 2:return n=e.sent,console.log(t,n),e.abrupt("return",Object(X.a)({},t.document));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),gt=Object(ht.c)({name:"document",initialState:mt,reducers:xt,extraReducers:(jt={},Object(De.a)(jt,ft.fulfilled,(function(e,t){var n=Object(X.a)({},t.payload);return Object(X.a)({},n)})),Object(De.a)(jt,ft.rejected,(function(e,t){return Object(X.a)({},mt)})),jt),middleware:Object(pt.a)(Object(ht.d)())});function vt(e){return Object(a.jsx)(ce.a,Object(X.a)({elevation:6,variant:"filled"},e))}var yt=function(){var e=Object(d.c)((function(e){return e.cart})).products,t=Object(d.c)((function(e){return e.payment})).payments,n=Object(d.c)((function(e){return e.document.data})).person,c=Object(r.useState)(!1),s=Object(K.a)(c,2),i=s[0],o=s[1],l=Object(d.b)(),j=Object(d.c)((function(e){return e.document.data})),u=Object(r.useRef)(),b=Object(Je.useReactToPrint)({content:function(){return u.current}}),O=Object(d.c)((function(e){return e.state})).showInvoiceForm,p=function(){return l({type:"state/toogleShowInvoiceForm"})};return Object(a.jsxs)(Be.a,{open:O,onClose:p,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(We.a,{id:"form-dialog-title",children:"Datos del Cliente"}),Object(a.jsxs)(ze.a,{children:[Object(a.jsx)(Ot,{}),Object(a.jsx)("div",{style:{display:"none"},children:Object(a.jsx)(nt,{ref:u})})]}),Object(a.jsxs)(qe.a,{children:[Object(a.jsx)(ae.a,{onClick:p,color:"secondary",children:"Cancelar"}),Object(a.jsx)(ae.a,{onClick:function(){var a=ve(Ze.c,Object(X.a)({},j.person));Object.keys(a).length>0?(o(!0),l({type:"document/showErrors",payload:!0})):(o(!1),l(ft({person:n,products:e,payments:t})),l({type:"document/setHeader",payload:{number:"0001",date:"31-12-2020",exchange_rate:45e4}}),b())},color:"primary",children:"Imprimir"})]}),Object(a.jsx)(re.a,{open:i,autoHideDuration:6e3,children:Object(a.jsx)(vt,{severity:"error",onClose:function(){return o(!1)},children:"El formulario presenta errores o no esta completo"})})]})};function wt(e){return Object(a.jsx)(ce.a,Object(X.a)({elevation:6,variant:"filled"},e))}var Nt=function(){var e=ue(),t=Object(d.b)(),n=Object(r.useState)(!1),c=Object(K.a)(n,2),s=c[0],i=c[1],o=Object(d.c)((function(e){return e.cart.products})),l=Object(d.c)((function(e){return e.payment.payments})),j=Object(d.c)((function(e){return e.cart.products})),u=ge(o)-me(l,"amount");return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)(y.a,{component:"nav","aria-label":"products-list",children:[Object(a.jsx)(Oe,{}),Object(a.jsx)(k.a,{light:!0}),j.map((function(e,t){return Object(a.jsx)(be,{product:e},t)})),Object(a.jsx)(k.a,{light:!0}),Object(a.jsx)(Ne,{})]}),Object(a.jsx)(ae.a,{variant:"contained",color:"primary",className:e.button,endIcon:Object(a.jsx)(ie.a,{}),onClick:function(){return t({type:"payment/toogleOpen"})},children:"Agregar pago"}),Object(a.jsx)(ae.a,{variant:"contained",color:"secondary",className:e.button,endIcon:Object(a.jsx)(le.a,{}),onClick:function(){u<=0?t({type:"state/toogleShowInvoiceForm"}):i(!0)},children:"Emitir Factura"}),Object(a.jsx)(Ue,{}),Object(a.jsx)(Te,{}),Object(a.jsx)(yt,{}),Object(a.jsx)(re.a,{open:s,autoHideDuration:6e3,children:Object(a.jsx)(wt,{severity:"error",onClose:function(){return i(!1)},children:"El monto de los pagos no es suficiente"})})]})},Ct=Object(_.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}}));function Pt(){var e=Ct(),t=Object(d.b)(),n=Object(d.c)((function(e){return e.state})),r=n.showCart,c=n.showOffers,s=n.showProducts;return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)(I.a,{expanded:c,onChange:function(){return t({type:"state/toogleShowOffers"})},children:[Object(a.jsx)(F.a,{expandIcon:Object(a.jsx)(D.a,{}),"aria-controls":"offers-content",id:"offers-header",children:Object(a.jsx)(m.a,{className:e.heading,children:"Ofertas"})}),Object(a.jsx)(A.a,{children:Object(a.jsx)(G,{})})]}),Object(a.jsxs)(I.a,{expanded:s,onChange:function(){return t({type:"state/toogleShowProducts"})},children:[Object(a.jsx)(F.a,{expandIcon:Object(a.jsx)(D.a,{}),"aria-controls":"products-content",id:"products-header",children:Object(a.jsx)(m.a,{className:e.heading,children:"Productos"})}),Object(a.jsx)(A.a,{children:Object(a.jsx)(ne,{})})]}),Object(a.jsxs)(I.a,{expanded:r,onChange:function(){return t({type:"state/toogleShowCart"})},children:[Object(a.jsx)(F.a,{expandIcon:Object(a.jsx)(D.a,{}),"aria-controls":"order-content",id:"order-header",children:Object(a.jsx)(m.a,{className:e.heading,children:"Pedido"})}),Object(a.jsx)(A.a,{children:Object(a.jsx)(Nt,{})})]})]})}var kt=n(121),St=n.n(kt),Et=n(120),It=n.n(Et),Ft=function(){var e=Object(d.b)();return Object(a.jsxs)("div",{children:[Object(a.jsxs)(z.a,{button:!0,children:[Object(a.jsx)(R.a,{children:Object(a.jsx)(g.a,{})}),Object(a.jsx)(W.a,{primary:"Visualizar pedido",onClick:function(){e({type:"state/toogleShowCart"}),e({type:"state/toogleOpenDrawer"})}})]}),Object(a.jsxs)(z.a,{button:!0,children:[Object(a.jsx)(R.a,{children:Object(a.jsx)(It.a,{})}),Object(a.jsx)(W.a,{primary:"Enviar pedido",onClick:function(){e({type:"state/toogleOpenDrawer"}),e({type:"state/showAlert",payload:{message:"Envio del pedido realizado con exito"}}),e({type:"cart/clear"})}})]}),Object(a.jsxs)(z.a,{button:!0,children:[Object(a.jsx)(R.a,{children:Object(a.jsx)(St.a,{})}),Object(a.jsx)(W.a,{primary:"Actualizar productos"})]})]})},At=Object(_.a)((function(e){return{root:{display:"flex"},toolbar:{paddingleft:0,paddingRight:4},toolbarIcon:Object(X.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:5},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(De.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),Tt=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.state.messages})),n=t.length>0;return n?Object(a.jsx)(re.a,{open:n,autoHideDuration:6e3,children:Object(a.jsx)(ce.a,{elevation:6,onClose:function(t){return e({type:"state/removeMessage",payload:{id:t.messageId}})},variant:"filled",messageId:t[0].id,severity:t[0].severity,children:t[0].message},t[0].id)}):null};function Dt(){var e=At(),t=Object(d.c)((function(e){return e.cart.products})),n=Object(d.c)((function(e){return e.state})),r=n.parameters,c=n.loading,s=n.openDrawer,i=Object(d.b)(),o=function(){return i({type:"state/toogleOpenDrawer"})};return"idle"!==c?null:Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(j.a,{}),Object(a.jsx)(Tt,{}),Object(a.jsx)(u.a,{position:"absolute",className:l()(e.appBar,s&&e.appBarShift),children:Object(a.jsxs)(b.a,{className:e.toolbar,children:[Object(a.jsx)(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:o,className:l()(e.menuButton,s&&e.menuButtonHidden),children:Object(a.jsx)(N.a,{})}),Object(a.jsx)(m.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:r.name}),Object(a.jsx)(O.a,{color:"inherit",onClick:function(){return i({type:"state/toogleShowCart"})},children:Object(a.jsx)(x.a,{badgeContent:fe(t),color:"secondary",children:Object(a.jsx)(g.a,{})})})]})}),Object(a.jsxs)(P.a,{variant:"temporary",anchor:"left",classes:{paper:l()(e.drawerPaper,!s&&e.drawerPaperClose)},open:s,children:[Object(a.jsx)("div",{className:e.toolbarIcon,children:Object(a.jsx)(O.a,{onClick:o,children:Object(a.jsx)(h.a,{})})}),Object(a.jsx)(k.a,{}),Object(a.jsx)(y.a,{children:Object(a.jsx)(Ft,{})})]}),Object(a.jsxs)("main",{className:e.content,children:[Object(a.jsx)("div",{className:e.appBarSpacer}),Object(a.jsxs)(v.a,{maxWidth:"lg",className:e.container,children:[Object(a.jsx)(Pt,{}),Object(a.jsx)(C.a,{pt:4,children:Object(a.jsx)(E,{})})]})]})]})}var Bt,qt=n(124),zt={loading:"idle",showOffers:!1,showProducts:!1,showCart:!1,openDrawer:!1,showSnackbar:!1,showInvoiceForm:!1,messages:[]},Rt={toogleShowCart:function(e){var t=Object(X.a)({},e);return t.showCart=!t.showCart,t.showCart&&(t.showOffers=!1,t.showProducts=!1),t},toogleShowInvoiceForm:function(e){var t=Object(X.a)({},e);return t.showInvoiceForm=!t.showInvoiceForm,t},toogleShowOffers:function(e){var t=Object(X.a)({},e);return t.showOffers=!t.showOffers,t.showOffers&&(t.showCart=!1,t.showProducts=!1),t},toogleShowProducts:function(e){var t=Object(X.a)({},e);return t.showProducts=!t.showProducts,t.showProducts&&(t.showCart=!1,t.showOffers=!1),t},toogleOpenDrawer:function(e){var t=Object(X.a)({},e);return t.openDrawer=!t.openDrawer,t},toogleShowSnackBar:function(e){var t=Object(X.a)({},e);return t.showSnackbar=!t.showSnackbar,t},toogleOpenInvoiceForm:function(e){var t=Object(X.a)({},e);return t.openInvoiceForm=!t.openInvoiceForm,t},addMessage:function(e,t){var n=Object(pt.a)(e.messages);return n.push(t.payload),{state:e,messages:Object(pt.a)(n)}},removeMessage:function(e,t){var n=Object(pt.a)(e.messages).filter((function(e){return e.id!==t.payload.id}));return{state:e,messages:Object(pt.a)(n)}},showAlert:function(e,t){var n={message:t.payload.message,severity:t.payload.severity||"success"};return Object(X.a)(Object(X.a)({},e),{},{alert:Object(X.a)({},n),showSnackbar:!0})},selectGroup:function(e,t){var n=Object(X.a)({},e);return n.selectedGroup=t.payload,n}},Wt=Object(ht.b)("state/getData",function(){var e=Object(ct.a)(rt.a.mark((function e(t){var n,a,r,c,s;return rt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lt.get("/offers");case 2:return n=e.sent,e.next=5,lt.get("/products");case 5:return a=e.sent,e.next=8,lt.get("/parameters");case 8:return r=e.sent,c=Object(qt.uniq)(a.data.data.map((function(e){return e.departament}))).sort(),s=c[0]||"",e.abrupt("return",{offers:n.data.data,products:a.data.data,parameters:r.data.data[0],departaments:c,selectedGroup:s});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Lt=Object(ht.c)({name:"state",initialState:{loading:"loading"},reducers:Rt,extraReducers:(Bt={},Object(De.a)(Bt,Wt.fulfilled,(function(e,t){var n=Object(X.a)({},t.payload);return Object(X.a)(Object(X.a)({},n),zt)})),Object(De.a)(Bt,Wt.rejected,(function(e,t){return e})),Bt),middleware:Object(pt.a)(Object(ht.d)())}),_t=n(95),$t=n.n(_t),Mt={products:[],show:!1},Ht={addProduct:function(e,t){var n=[].concat(Object(pt.a)(e.products),[Object(X.a)(Object(X.a)({},t.payload),{},{cart_id:$t()()})]);return Object(X.a)(Object(X.a)({},e),{},{products:n})},addProductOffer:function(e,t){var n=[].concat(Object(pt.a)(e.products),[Object(X.a)(Object(X.a)({},t.payload),{},{isOffer:!0,id:t.payload.product_id,cart_id:$t()()})]);return Object(X.a)(Object(X.a)({},e),{},{products:n})},removeProduct:function(e,t){var n=e.products.map((function(e){var n=1;return e.isOffer&&(n=t.payload.quantity),e.cart_id===t.payload.cart_id?Object(X.a)(Object(X.a)({},e),{},{quantity:e.quantity-n}):e}));return Object(X.a)(Object(X.a)({},e),{},{products:n.filter((function(e){return e.quantity>0}))})},removeProductItem:function(e,t){var n=e.products.filter((function(e){return e.cart_id!==t.payload.cart_id}));return Object(X.a)(Object(X.a)({},e),{},{products:n})},clear:function(e,t){return Mt}},Gt=Object(ht.c)({name:"cart",initialState:Mt,reducers:Ht,middleware:Object(pt.a)(Object(ht.d)())}),Kt={payments:[],open:!1},Zt={addPayment:function(e,t){var n=[].concat(Object(pt.a)(e.payments),[t.payload]);return Object(X.a)(Object(X.a)({},e),{},{payments:n})},removePayment:function(e,t){var n=t.payload,a=e.payments,r=a.slice(0,n).concat(a.slice(n+1,a.length));return Object(X.a)(Object(X.a)({},e),{},{payments:r})},toogleOpen:function(e){var t=Object(X.a)(Object(X.a)({},e),{},{open:!e.open});return Object(X.a)({},t)},clear:function(e,t){return Kt}},Ut=Object(ht.c)({name:"payment",initialState:Kt,reducers:Zt,middleware:Object(pt.a)(Object(ht.d)())}),Jt=Object(ht.a)({reducer:{state:Lt.reducer,cart:Gt.reducer,document:gt.reducer,payment:Ut.reducer}});Jt.dispatch(Wt()),i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(d.a,{store:Jt,children:Object(a.jsx)(Dt,{})})}),document.getElementById("root"))}},[[182,1,2]]]);
//# sourceMappingURL=main.2a421555.chunk.js.map