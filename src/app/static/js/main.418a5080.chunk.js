(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{11:function(e){e.exports=JSON.parse('{"e":{"Efectivo $":{"currency":"$","detailsLabel":"Comentarios","detailsType":"text"},"Zelle":{"currency":"$","detailsLabel":"Email","detailsType":"email"},"Panama":{"currency":"$","detailsLabel":"Numero Transferencia","detailsType":"text"},"Pago Mobil":{"currency":"Bs.","detailsLabel":"Detalles","detailsType":"text"},"Transferencia":{"currency":"Bs","detailsLabel":"Numero Transferencia","detailsType":"text"}},"a":{"payment_type":"Efectivo $"},"b":{"tax_id":{"label":"Cedula Rif.","type":"search","validation":{"required":true}},"firstname":{"label":"Nombre","type":"text","validation":{"required":true}},"lastname":{"label":"Apellidos","type":"text","validation":{"required":true}},"address":{"label":"Direcci\xf3n","type":"text","validation":{"required":true}},"city":{"label":"Ciudad","type":"text","defaultValue":"Barcelona","validation":{"required":true}},"phone":{"label":"Telefono","type":"text"},"email":{"label":"Email","type":"email","validation":{"email":true}}},"g":[{"id":"description","numeric":false,"disablePadding":false,"label":"Descripcion"},{"id":"departament","numeric":false,"disablePadding":true,"label":"Grupo"},{"id":"stock","numeric":true,"disablePadding":true,"label":"Exist."},{"id":"tax","numeric":true,"disablePadding":false,"label":"iva"},{"id":"price","numeric":true,"disablePadding":false,"label":"Precio Kg"},{"id":"price_2","numeric":true,"disablePadding":false,"label":"Precio 0.5kg"},{"id":"price_3","numeric":true,"disablePadding":false,"label":"Precio 0.25kg"},{"id":"","numeric":true,"disablePadding":true,"label":""}],"f":{"departament":{"label":"Grupo","type":"text","validation":{"required":true}},"description":{"label":"Descripcion","type":"text","validation":{"required":true}},"minimum":{"label":"Minimo","type":"number","validation":{"required":true,"numeric":true}},"price":{"label":"Precio Kg","type":"number","defaultValue":0,"validation":{"required":true,"numeric":true}},"price_2":{"label":"Precio 0.5kg","type":"number","defaultValue":0,"validation":{"required":true,"numeric":true}},"price_3":{"label":"Precio 0.25 kg","type":"number","defaultValue":0,"validation":{"required":true,"numeric":true}},"stock":{"label":"Exis.","type":"number","defaultValue":0,"validation":{"required":true,"numeric":true}},"tax":{"label":"iva","type":"number","validation":{"required":true,"numeric":true}}},"c":[{"id":"number","numeric":false,"disablePadding":false,"label":"Numero"},{"id":"date","numeric":false,"disablePadding":true,"label":"Fecha"},{"id":"tax_id","numeric":false,"disablePadding":true,"label":"Cedula/Rif"},{"id":"fullname","numeric":false,"disablePadding":true,"label":"Nombre"},{"id":"total","numeric":true,"disablePadding":false,"label":"Total"},{"id":"total_bs","numeric":true,"disablePadding":false,"label":"Total Bs."}],"i":{"invoices":[{"id":"number","numeric":false,"disablePadding":false,"label":"Numero"},{"id":"tax_id","numeric":false,"disablePadding":true,"label":"Cedula/Rif"},{"id":"fullname","numeric":false,"disablePadding":true,"label":"Nombre"},{"id":"total","numeric":true,"disablePadding":false,"label":"Total"},{"id":"total_bs","numeric":true,"disablePadding":false,"label":"Total Bs."}],"payments":[{"id":"payment","numeric":false,"disablePadding":false,"label":"Forma Pago","colSpan":"3"},{"id":"total","numeric":true,"disablePadding":false,"label":"Total"},{"id":"total_bs","numeric":true,"disablePadding":false,"label":"Total Bs."}],"products":[{"id":"description","numeric":false,"disablePadding":false,"label":"Producto","colSpan":"4"},{"id":"quantity","numeric":true,"disablePadding":false,"label":"Cantidad"}]},"d":{"username":{"label":"Usuario","type":"text","validation":{"required":true}},"password":{"label":"contrase\xf1a","type":"password"}},"h":{"tax_id":{"label":"Rif","type":"text","validation":{"required":true}},"name":{"label":"Empresa","type":"text","validation":{"required":true}},"address":{"label":"Direccion","type":"text","validation":{"required":true}},"exchange":{"label":"Tasa de Cambio","type":"numeric","validation":{"required":true,"numeric":true}}}}')},175:function(e,t,n){},203:function(e,t){},204:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),i=n(17),s=n.n(i),o=(n(175),n(8)),l=n(61),d=n(25),u=n(297),j=n(298),b=n(41),p=n.n(b),O=n(60),h=n(254),m=n(251),f=n(138),x=n.n(f),g=n(253),v=n(155),y=n(139),w=n.n(y),C={unequal:{message:"Este campo es requerido",test:function(e){return e&&e!=="".trim()}},sameas:{message:"Estos valores no coinciden",test:function(e,t,n){return t[n]&&t[n]===e}},length:{message:"Este valor es invalido",test:function(e,t,n){return e.toString().length===parseInt(n)}},required:{message:"Este campo es requerido",test:function(e){return e&&e!=="".trim()}},email:{message:"Este email es invalido",test:function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||e==="".trim()}},url:{message:"Esta URL no es valida",test:function(e){return/^(http[s]?:\/\/){0,1}(www\.){0,1}[a-zA-Z0-9\\.\\-]+\.[a-zA-Z]{2,5}[\\.]{0,1}/.test(e)}},string:{message:"Por favor escriba aqui",test:function(e){return"string"===typeof e}},boolean:{message:"Por favor elija si o no",test:function(e){return"1"===e||"0"===e||1===e||0===e}},integer:{message:"Por favor ingrese un entero",test:function(e){return Number.isInteger(1*e)}},date:{message:"Esto no es una fecha valida",test:function(e){return console.log("date validator:"+e),!0}},numeric:{message:"Por favor ingrese un numero",test:function(e){return!isNaN(e)}}},k=function(e,t){return e?e.reduce((function(e,n){return e+parseFloat(n[t])}),0):0},P=function(e){return new Intl.NumberFormat("es-Es",{minimumFractionDigits:2}).format(e)},N=function(e,t){return new Intl.DateTimeFormat("en-Es",t).format(e)},S=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toString();n.length<t;)n="0"+n;return n},I=function(e){var t=new Date;return"".concat(t.getFullYear(),"-").concat(S(t.getMonth()+1),"-").concat(S(t.getDate()))},E=function(e){return e?e.length:0},F=function(e){return k(e,"price")},T=function(e,t){var n={};return Object.keys(C).forEach((function(a){Object.keys(e).forEach((function(r){var c=t[r],i=e[r].validation;i&&Object.keys(i).forEach((function(e){a===e&&(C[a].test(c)||(n[r]=C[a].message))}))}))})),n},z=function(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0},R=function(e,t){return"desc"===e?function(e,n){return z(e,n,t)}:function(e,n){return-z(e,n,t)}},A=function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))},_=n(5),D=n(249),q=Object(D.a)((function(e){return{root:{display:"flex"},toolbar:{paddingleft:0,paddingRight:4},toolbarIcon:Object(_.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:5},menuButtonHidden:{display:"none"},title:{flexGrow:1},appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),B=function(){var e=Object(d.g)(),t=q(),n=Object(o.b)(),r=Object(o.c)((function(e){return e.cart.products})),c=Object(o.c)((function(e){return e.state})),i=c.parameters,s=c.openDrawer;return Object(a.jsx)(m.a,{position:"absolute",className:p()(t.appBar,s&&t.appBarShift),children:Object(a.jsxs)(g.a,{className:t.toolbar,children:[Object(a.jsx)(v.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){return n({type:"state/toogleOpenDrawer"})},className:p()(t.menuButton,s&&t.menuButtonHidden),children:Object(a.jsx)(x.a,{})}),Object(a.jsx)(O.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title,children:i.name}),Object(a.jsx)(v.a,{color:"inherit",onClick:function(){e.push("/"),n({type:"state/toogleShowCart"})},children:Object(a.jsx)(h.a,{badgeContent:E(r),color:"secondary",children:Object(a.jsx)(w.a,{})})})]})})},L=n(306),W=n(277),M=n(278),H=n(105),G=n.n(H),$=n(258),V=n(257),K=n(75),U=n.n(K),Z=n(206),J=n(256),X=n(255),Y=Object(D.a)((function(e){return{root:{width:"100%",padding:0,"& .column":{width:120,display:"flex",justifyContent:"flex-end","& div":{textAlign:"center",padding:5}},"& .icon-column":{width:60,"& div":{display:"block",textAlign:"center"}}}}})),Q=function(e){var t=e.offer,n=Y(),r=Object(o.b)();return Object(a.jsxs)(Z.a,{button:!0,className:n.root,children:[Object(a.jsx)(X.a,{primary:Object(a.jsx)("span",{children:t.description})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsxs)("div",{children:[t.quantity," Kg"]})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsxs)("div",{children:[P(t.price)," $"]})}),Object(a.jsx)("div",{className:"icon-column",onClick:function(e){return function(e){r({type:"cart/addProduct",payload:e})}(t)},children:Object(a.jsx)(J.a,{children:Object(a.jsx)(U.a,{})})})]})]})},ee=function(e){e.product;var t=Y();return Object(a.jsxs)(Z.a,{button:!0,className:t.root,children:[Object(a.jsx)(X.a,{primary:Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"descripcion",children:"Producto"})})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:"Peso"})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:"Precio"})}),Object(a.jsx)("div",{className:"icon-column",children:Object(a.jsx)("div",{})})]})]})},te=function(){var e=Y(),t=Object(o.c)((function(e){return e.state.offers}));return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(V.a,{light:!0}),Object(a.jsx)(ee,{}),Object(a.jsx)($.a,{component:"nav","aria-label":"products-list",children:t.map((function(e,t){return Object(a.jsx)(Q,{offer:e},t)}))})]})},ne=n(12),ae=n(259),re=n(151),ce=Object(D.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,"& nav":{padding:0,"& div":{padding:0}}}}})),ie=function(){var e=ce(),t=Object(o.b)(),n=Object(r.useState)(null),c=Object(ne.a)(n,2),i=c[0],s=c[1],l=Object(o.c)((function(e){return e.product.departaments})),d=Object(o.c)((function(e){return e.state.selectedGroup}));return!d&&l[0]&&(d=l[0]),Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)($.a,{component:"nav","aria-label":"product-group",children:Object(a.jsx)(Z.a,{button:!0,"aria-haspopup":"true","aria-controls":"lock-menu","aria-label":"Filtrar por ",onClick:function(e){s(e.currentTarget)},children:Object(a.jsx)(X.a,{primary:"Grupo",secondary:d})})}),Object(a.jsx)(re.a,{id:"lock-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){s(null)},children:l.map((function(e,n){return Object(a.jsx)(ae.a,{selected:e===d.departament,onClick:function(n){return function(e,n){s(null),t({type:"state/selectGroup",payload:n})}(0,e)},children:e},n)}))})]})},se=Object(D.a)((function(e){return{root:{width:"100%",backgroundColor:e.palette.background.paper},list:{padding:0,"& .column":{display:"flex",justifyContent:"flex-end",width:120,"& div":{textAlign:"right",paddingRight:5},"& .MuiListItemIcon-root":{padding:0,minWidth:0}}}}})),oe=function(e){var t=e.product,n=se(),r=Object(o.b)(),c=function(e,t,n){var a=Object(_.a)(Object(_.a)({},e),{},{price:t,quantity:n});r({type:"cart/addProduct",payload:a})};return Object(a.jsxs)(Z.a,{button:!0,className:n.list,children:[Object(a.jsx)(X.a,{primary:Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"descripcion",children:t.description})})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"column",onClick:function(e){return c(t,t.price,1)},children:[Object(a.jsxs)("div",{children:[P(t.price),Object(a.jsx)("span",{children:" $ "})]}),Object(a.jsx)(J.a,{children:Object(a.jsx)(U.a,{})})]}),Object(a.jsxs)("div",{className:"column",onClick:function(e){return c(t,t.price_2,.5)},children:[Object(a.jsxs)("div",{children:[P(t.price_2),Object(a.jsx)("span",{children:" $ "})]}),Object(a.jsx)(J.a,{children:Object(a.jsx)(U.a,{})})]}),Object(a.jsxs)("div",{className:"column",onClick:function(e){return c(t,t.price_3,.25)},children:[Object(a.jsxs)("div",{children:[P(t.price_3),Object(a.jsx)("span",{children:" $ "})]}),Object(a.jsx)(J.a,{children:Object(a.jsx)(U.a,{})})]})]})]})},le=function(e){e.product;var t=se();return Object(a.jsxs)(Z.a,{button:!0,className:t.list,children:[Object(a.jsx)(X.a,{primary:Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:"descripcion",children:"Producto"})})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:"1 Kg"})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:"0,5 Kg"})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:"0,25 Kg"})})]})]})},de=function(e){var t=e.products,n=se();return Object(a.jsx)("div",{className:n.root,children:Object(a.jsxs)($.a,{component:"nav","aria-label":"products-list",children:[Object(a.jsx)(le,{}),Object(a.jsx)(V.a,{light:!0}),t.map((function(e,t){return Object(a.jsx)(oe,{product:e},t)}))]})})},ue=function(){var e=Object(o.c)((function(e){return e.product.products})),t=Object(o.c)((function(e){return e.state.selectedGroup})),n=e.filter((function(e){return e.departament===t}));return Object(a.jsxs)("div",{className:"w-full",children:[Object(a.jsx)(ie,{}),Object(a.jsx)(de,{products:n})]})},je=n(275),be=n(305),pe=n(301),Oe=n(144),he=n.n(Oe),me=n(145),fe=n.n(me),xe=n(100),ge=n.n(xe),ve=Object(D.a)((function(e){return{root:{width:"100%",padding:0,"& .column":{display:"flex",justifyContent:"flex-end",width:120,"& div":{textAlign:"center",padding:5}},"& .icon-column":{width:60,cursor:"pointer","& div":{display:"block",textAlign:"center"}}},button:{margin:"10px 10px 10px 0"}}})),ye=function(e){var t=e.product,n=ve(),r=Object(o.b)();return Object(a.jsxs)(Z.a,{button:!0,className:n.root,children:[Object(a.jsx)(X.a,{primary:Object(a.jsx)("span",{children:t.description})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:P(t.quantity)})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:P(t.price)})}),Object(a.jsx)("div",{className:"icon-column",onClick:function(){return r({type:"cart/removeProductItem",payload:t})},children:Object(a.jsx)(J.a,{children:Object(a.jsx)(ge.a,{})})})]})]})},we=function(){var e=ve();return Object(a.jsxs)(Z.a,{button:!0,className:e.root,children:[Object(a.jsx)(X.a,{primary:Object(a.jsx)("span",{children:"Productos"})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{children:"Kg"})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsxs)("div",{children:["Precio",Object(a.jsx)("span",{children:" $"})]})}),Object(a.jsx)("div",{className:"icon-column"})]})]})},Ce=Object(D.a)((function(e){return{root:{padding:0,justifyContent:"flex-end","& .total-row":{display:"flex",textAlign:"right","& .amount":{width:100,"& div":{padding:5},"& .MuiListItemIcon-root":{minWidth:0}}}}}})),ke=function(){var e=Ce(),t=Object(o.c)((function(e){return e.cart.products})),n=Object(o.c)((function(e){return e.payment.payments})),r=F(t),c=k(n,"amount"),i=r-c;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Z.a,{className:e.root,children:[Object(a.jsx)(X.a,{className:e.root,primary:Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("span",{children:"Total Pagos: "})})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column"}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{className:"total",children:P(c)})}),Object(a.jsx)("div",{className:"icon-column"})]})]}),Object(a.jsxs)(Z.a,{className:e.root,children:[Object(a.jsx)(X.a,{className:e.root,primary:Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("span",{children:"Saldo: "})})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column"}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{className:"total",children:P(i)})}),Object(a.jsx)("div",{className:"icon-column"})]})]})]})},Pe=Object(D.a)((function(e){return{root:{padding:0,justifyContent:"flex-end","& .total-row":{display:"flex",textAlign:"right","& .amount":{width:100,"& div":{padding:5},"& .MuiListItemIcon-root":{minWidth:0}}}}}})),Ne=function(){var e=Pe(),t=Object(o.c)((function(e){return e.cart.products})),n=function(e){return k(e,"quantity")}(t),r=E(t),c=F(t);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(Z.a,{className:e.root,children:[Object(a.jsx)(X.a,{className:e.root,primary:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:"Total Pedido: "}),Object(a.jsxs)("span",{children:["(",r,")"]})]})}),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{className:"total",children:P(n)})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)("div",{className:"total",children:P(c)})}),Object(a.jsx)("div",{className:"icon-column"})]})]}),Object(a.jsx)(ke,{})]})},Se=n(106),Ie=n(261),Ee=n(265),Fe=n(264),Te=n(260),ze=n(262),Re=n(263),Ae=Object(D.a)((function(e){return{root:{},table:{minWidth:650,"& tfoot":{"& td":{fontSize:"1.2em"}}},button:{margin:e.spacing(1)}}})),_e=function(){var e=Ae(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.payment.payments}));return Object(a.jsx)(Te.a,{component:Se.a,children:Object(a.jsxs)(Ie.a,{className:e.table,size:"small","aria-label":"a dense table",children:[Object(a.jsx)(ze.a,{children:Object(a.jsxs)(Re.a,{children:[Object(a.jsx)(Fe.a,{align:"left",children:"Tipo"}),Object(a.jsx)(Fe.a,{align:"right",children:"Monto $"}),Object(a.jsx)(Fe.a,{align:"right",children:"Monto Bs."}),Object(a.jsx)(Fe.a,{align:"left",children:"Detalles"}),Object(a.jsx)(Fe.a,{})]})}),Object(a.jsx)(Ee.a,{children:n.map((function(e,n){return Object(a.jsxs)(Re.a,{children:[Object(a.jsx)(Fe.a,{align:"left",children:e.payment_type}),Object(a.jsx)(Fe.a,{align:"right",children:P(e.amount)}),Object(a.jsx)(Fe.a,{align:"right",children:P(e.amountBs)}),Object(a.jsx)(Fe.a,{align:"left",children:e.details}),Object(a.jsx)(Fe.a,{align:"left",style:{cursor:"pointer"},onClick:function(){return function(e){return t({type:"payment/removePayment",payload:e})}(n)},children:Object(a.jsx)(ge.a,{})})]},n)}))})]})})},De=n(13),qe=n(266),Be=n(274),Le=n(268),We=n(269),Me=n(267),He=n(270),Ge=n(302),$e=n(271),Ve=n(308),Ke=n(273),Ue=n(309),Ze=Object(D.a)((function(e){return{formControl:{margin:e.spacing(1),marginLeft:0}}})),Je=n(11),Xe=function(){var e=Ze(),t=Object(o.b)(),n=Object(r.useState)(Je.a),c=Object(ne.a)(n,2),i=c[0],s=c[1],l=Object(o.c)((function(e){return e.payment.open})),d=Object(o.c)((function(e){return e.state.parameters})).exchange,u=function(){return t({type:"payment/toogleOpen"})};Object(r.useEffect)((function(){s(Je.a)}),[l]);var j=function(e){return function(t){s(Object(_.a)(Object(_.a)({},i),{},Object(De.a)({},e,t.target.value)))}};return Object(a.jsxs)(qe.a,{open:l,onClose:u,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(Me.a,{id:"form-dialog-title",children:"A\xf1adir Pagos"}),Object(a.jsxs)(Le.a,{children:[Object(a.jsx)(We.a,{children:"Por favor a\xf1ada los datos del pago"}),Object(a.jsx)(He.a,{className:e.formControl,children:Object(a.jsx)(Ge.a,{value:i.payment_type||"",onChange:j("payment_type"),className:e.selectEmpty,inputProps:{"aria-label":"Without label"},children:Object.keys(Je.e).map((function(e){return Object(a.jsx)(ae.a,{value:e,children:e},e)}))})}),Object(a.jsxs)(He.a,{fullWidth:!0,className:e.margin,children:[Object(a.jsx)(Ve.a,{htmlFor:"standard-adornment-amount",children:"Amount"}),Object(a.jsx)($e.a,{id:"standard-adornment-amount",value:i.amount||"",onChange:j("amount"),startAdornment:Object(a.jsx)(Ke.a,{position:"start",children:Je.e[i.payment_type].currency})})]}),Object(a.jsx)(Ue.a,{id:"name",autoFocus:!0,margin:"dense",value:i.details||"",onChange:j("details"),label:Je.e[i.payment_type].detailsLabel,type:Je.e[i.payment_type].detailsType,fullWidth:!0})]}),Object(a.jsxs)(Be.a,{children:[Object(a.jsx)(je.a,{onClick:u,color:"secondary",children:"Cancelar"}),Object(a.jsx)(je.a,{onClick:function(e){var n=0,a=0;"$"===Je.e[i.payment_type].currency?(n=i.amount,a=i.amount*d):(a=i.amount,n=i.amount/d),t({type:"payment/addPayment",payload:Object(_.a)(Object(_.a)({},i),{},{amount:n,exchange:d,amountBs:a})}),u()},color:"primary",children:"Agregar"})]})]})},Ye=n(72),Qe=n(140),et=n(141),tt=n(153),nt=n(150),at=Object(D.a)((function(e){return{header:{margin:e.spacing(2),display:"flex",justifyContent:"space-between",backgroundColor:"#f1f1f1","& .bold":{fontSize:20,fontWeight:600,textAlign:"right"},"& .column-link":{textAlign:"left"},"& .column-right":{textAlign:"right","& h3":{textAlign:"end"}}},fonts:{bold:{fontSize:12,fontWeight:600}},table:{width:"calc(100% - 30px)",textAlign:"left",margin:e.spacing(2),borderCollapse:"collapse",fontFamily:"Arial, Helvetica, sans-serif",border:"1px solid #1C6EA4","& thead":{border:"1px solid #1C6EA4",backgroundColor:"#EEEEEE"},"& .footer":{border:"1px solid #1C6EA4",backgroundColor:"#EEEEEE"},"& td":{textAlign:"right",paddingRight:e.spacing(1)},"& th":{textAlign:"right",paddingRight:e.spacing(1)},"& td.left":{textAlign:"left"},"& th.left":{textAlign:"left"},"& tfoot":{"& td":{fontSize:"1.2em"}}}}})),rt=function(){var e,t=at(),n=Object(o.c)((function(e){return e.state})).parameters,r=Object(o.c)((function(e){return e.document})).invoice,c=k(r.details,"price")*n.exchange;return 0===c?null:Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:t.header,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:n.name}),Object(a.jsx)("h3",{children:n.tax_id}),Object(a.jsx)("div",{children:n.address})]}),Object(a.jsxs)("div",{className:"column-right",children:[Object(a.jsxs)("h3",{children:["Nota de entrega: ",Object(a.jsx)("span",{className:"bold",children:(e=r.number,S(e,6))})]}),Object(a.jsxs)("h3",{children:["Fecha de emision: ",N(new Date(r.date))]})]})]}),Object(a.jsx)("div",{className:t.header,children:Object(a.jsxs)("div",{children:[Object(a.jsxs)("h3",{children:["RIF :",r.person.tax_id]}),Object(a.jsxs)("h3",{children:["Nombre / Razon social: ",r.person.firstname," ",r.person.lastname]}),Object(a.jsxs)("h3",{children:["Direccion: ",r.person.address," ",r.person.city]}),Object(a.jsxs)("h3",{children:[Object(a.jsxs)("span",{children:["Telefono: ",r.person.phone]})," ",Object(a.jsxs)("span",{children:["Email: ",r.person.email]})]})]})}),Object(a.jsx)("hr",{}),Object(a.jsxs)("table",{className:t.table,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"left",children:"Descripcion"}),Object(a.jsx)("th",{children:"Cantidad"}),Object(a.jsx)("th",{children:"Unidad"}),Object(a.jsx)("th",{children:"Precio Unitario"}),Object(a.jsx)("th",{children:"Neto"})]})}),Object(a.jsx)("tfoot",{className:"footer",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"left",children:"Totales"}),Object(a.jsx)("td",{}),Object(a.jsx)("td",{}),Object(a.jsx)("td",{}),Object(a.jsx)("td",{children:P(c)})]})}),Object(a.jsx)("tbody",{children:r.details.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"left",children:e.description}),Object(a.jsx)("td",{children:e.quantity}),Object(a.jsx)("td",{children:"Kg."}),Object(a.jsx)("td",{children:P(e.price*n.exchange)}),Object(a.jsx)("td",{children:P(e.price*n.exchange)})]},t)}))})]})]})},ct=function(e){Object(tt.a)(n,e);var t=Object(nt.a)(n);function n(){return Object(Qe.a)(this,n),t.apply(this,arguments)}return Object(et.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsx)(rt,{})})}}]),n}(c.a.PureComponent),it=n(19),st=n.n(it),ot=n(30),lt=n(300),dt=n(276),ut=n(142),jt=n.n(ut).a.create({baseURL:"/api/v1/"});function bt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){setTimeout(t,e)}))}var pt,Ot=function(e){var t=e.label,n=e.field,r=e.url,i=e.onChange,s=c.a.useState(!1),o=Object(ne.a)(s,2),l=o[0],d=o[1],u=c.a.useState([]),j=Object(ne.a)(u,2),b=j[0],p=j[1],O=l&&0===b.length;c.a.useEffect((function(){var e=!0;if(O)return Object(ot.a)(st.a.mark((function t(){var n,a;return st.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,bt(100);case 2:return t.next=4,jt(r);case 4:return n=t.sent,t.next=7,n.data.data;case 7:a=t.sent,e&&p(a);case 9:case"end":return t.stop()}}),t)})))(),function(){e=!1}}),[O,r]),c.a.useEffect((function(){l||p([])}),[l]);var h=function(){return d(!l)};return Object(a.jsx)(lt.a,{id:"search",open:l,loading:O,options:b,onOpen:h,onClose:h,style:{width:"100%"},getOptionLabel:function(e){return e.firstname},onChange:function(e,t){return i(t)},getOptionSelected:function(e,t){return e[n]===t[n]},renderInput:function(e){return Object(a.jsx)(Ue.a,Object(_.a)(Object(_.a)({},e),{},{label:t,variant:"outlined",onChange:i,InputProps:Object(_.a)(Object(_.a)({},e.InputProps),{},{endAdornment:Object(a.jsxs)(c.a.Fragment,{children:[O&&Object(a.jsx)(dt.a,{color:"inherit",size:20}),e.InputProps.endAdornment]})})}))}})},ht=Object(D.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1)},table:{minWidth:650,"& tfoot":{"& td":{fontSize:"1.2em"}}},button:{margin:e.spacing(1)}}})),mt=function(){var e=ht(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.document.data})).person,r=Object(o.c)((function(e){return e.document})).errors,c=function(e){var a=e.target,r=Object(_.a)(Object(_.a)({},n),{},Object(De.a)({},a.name,a.value)),c=T(Je.b,Object(_.a)({},r));t({type:"document/setPerson",payload:r}),t({type:"document/setErrors",payload:c})};return Object(a.jsxs)("div",{children:[Object(a.jsx)(Ot,{url:"/persons",field:"firstname",label:"Buscar Cliente",onChange:function(e){var a=Object(_.a)({},n);Object.keys(Je.b).map((function(t){return null===e?a[t]="":e[t]&&(a[t]=e[t]),null})),t({type:"document/setPerson",payload:a})}}),Object(a.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object.keys(Je.b).map((function(e){var t=r[e],i=t||Je.b[e].helperText;return Object(a.jsx)(Ue.a,{name:e,size:"medium",margin:"normal",value:n[e]||"",style:{margin:8},onChange:c,InputLabelProps:{shrink:!0},label:Je.b[e].label,helperText:i||"",fullWidth:Je.b[e].fullWidth||!1,placeholder:Je.b[e].placeholder||"",error:t},e)}))})]})},ft=n(22),xt=n(18),gt={loading:"idle",response:{},errors:{},showErrors:!1,data:{person:{},header:{},products:[]},invoice:{readyToPrint:!1}},vt={setPerson:function(e,t){var n=Object(_.a)({},e.data);return n.person=t.payload,Object(_.a)(Object(_.a)({},e),{},{data:n})},setHeader:function(e,t){var n=Object(_.a)({},e.data);return n.header=t.payload,Object(_.a)(Object(_.a)({},e),{},{data:n})},setProducts:function(e,t){var n=Object(_.a)({},e.data);return n.products=t.payload,Object(_.a)(Object(_.a)({},e),{},{data:n})},setErrors:function(e,t){return Object(_.a)(Object(_.a)({},e),{},{errors:Object(_.a)({},t.payload)})},setShowErrors:function(e,t){return Object(_.a)(Object(_.a)({},e),{},{showErrors:Object(_.a)({},t.payload)})},setInvoice:function(e,t){var n=Object(_.a)({},e);return n.invoice=t.payload,n.invoice.readyToPrint=!0,Object(_.a)({},n)},setInvoices:function(e,t){var n=Object(_.a)({},e);return n.invoices=t.payload,Object(_.a)({},n)},clearInvoice:function(e,t){var n=Object(_.a)({},e);return n.invoice={readyToPrint:!1},Object(_.a)({},n)},clear:function(e,t){return gt}},yt=Object(xt.b)("document/saveDocument",function(){var e=Object(ot.a)(st.a.mark((function e(t,n){var a,r;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,jt.post("/documents",t);case 3:return r=e.sent,console.log(r),a({type:"cart/clear"}),e.abrupt("return",Object(_.a)({},t.document));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),wt=Object(xt.b)("document/saveInvoice",function(){var e=Object(ot.a)(st.a.mark((function e(t,n){var a,r;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,jt.post("/invoices",t);case 3:return r=e.sent,a({type:"cart/clear"}),a({type:"payment/clear"}),a({type:"document/clear"}),a({type:"document/setInvoice",payload:r.data.data}),e.abrupt("return",Object(_.a)({},t.document));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ct=Object(xt.b)("document/getInvoice",function(){var e=Object(ot.a)(st.a.mark((function e(t,n){var a,r;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,jt.get("/invoices/".concat(t));case 3:return r=e.sent,a({type:"document/setInvoice",payload:r.data.data}),e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),kt=Object(xt.b)("document/getInvoicesDates",function(){var e=Object(ot.a)(st.a.mark((function e(t,n){var a,r;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.dispatch,e.next=3,jt.get("/invoices/dates?from=".concat(t.from,"&to=").concat(t.to));case 3:return r=e.sent,a({type:"document/setInvoices",payload:r.data.data}),e.abrupt("return",null);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Pt=Object(xt.c)({name:"document",initialState:gt,reducers:vt,extraReducers:(pt={},Object(De.a)(pt,yt.fulfilled,(function(e,t){return Object(_.a)({},e)})),Object(De.a)(pt,yt.rejected,(function(e,t){return Object(_.a)({},gt)})),Object(De.a)(pt,wt.fulfilled,(function(e,t){return Object(_.a)({},e)})),Object(De.a)(pt,wt.rejected,(function(e,t){return Object(_.a)({},gt)})),Object(De.a)(pt,Ct.fulfilled,(function(e,t){return Object(_.a)({},e)})),Object(De.a)(pt,Ct.rejected,(function(e,t){return Object(_.a)({},gt)})),pt),middleware:Object(ft.a)(Object(xt.d)())});function Nt(e){return Object(a.jsx)(pe.a,Object(_.a)({elevation:6,variant:"filled"},e))}var St=function(){var e=Object(r.useRef)(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.cart})).products,c=Object(o.c)((function(e){return e.payment})).payments,i=Object(o.c)((function(e){return e.document.data})).person,s=Object(o.c)((function(e){return e.document.invoice})).readyToPrint,l=Object(r.useState)(!1),d=Object(ne.a)(l,2),u=d[0],j=d[1],b=Object(o.c)((function(e){return e.document.data})),p=Object(o.c)((function(e){return e.state})).showInvoiceForm,O=Object(Ye.useReactToPrint)({content:function(){return e.current}});Object(r.useEffect)((function(){s&&(O(),h(),t({type:"document/clearInvoice"}))}),[s]);var h=function(){return t({type:"state/toogleShowInvoiceForm"})};return Object(a.jsxs)(qe.a,{open:p,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(Me.a,{id:"form-dialog-title",children:"Datos del Cliente"}),Object(a.jsxs)(Le.a,{children:[Object(a.jsx)(mt,{}),Object(a.jsx)("div",{style:{display:"none"},children:Object(a.jsx)(ct,{ref:e})})]}),Object(a.jsxs)(Be.a,{children:[Object(a.jsx)(je.a,{onClick:h,color:"secondary",children:"Cancelar"}),Object(a.jsx)(je.a,{onClick:function(){var e=T(Je.b,Object(_.a)({},b.person));Object.keys(e).length>0?(j(!0),t({type:"document/showErrors",payload:!0})):(j(!1),t(wt({person:i,products:n,payments:c})))},color:"primary",children:"Imprimir"})]}),Object(a.jsx)(be.a,{open:u,autoHideDuration:6e3,children:Object(a.jsx)(Nt,{severity:"error",onClose:function(){return j(!1)},children:"El formulario presenta errores o no esta completo"})})]})};function It(e){return Object(a.jsx)(pe.a,Object(_.a)({elevation:6,variant:"filled"},e))}var Et=function(){var e=ve(),t=Object(o.b)(),n=Object(r.useState)(!1),c=Object(ne.a)(n,2),i=c[0],s=c[1],l=Object(o.c)((function(e){return e.cart.products})),d=Object(o.c)((function(e){return e.payment.payments})),u=Object(o.c)((function(e){return e.cart.products})),j=F(l)-k(d,"amount");return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)($.a,{component:"nav","aria-label":"products-list",children:[Object(a.jsx)(we,{}),Object(a.jsx)(V.a,{light:!0}),u.map((function(e,t){return Object(a.jsx)(ye,{product:e},t)})),Object(a.jsx)(V.a,{light:!0}),Object(a.jsx)(Ne,{})]}),Object(a.jsx)(je.a,{variant:"contained",color:"primary",className:e.button,endIcon:Object(a.jsx)(he.a,{}),onClick:function(){return t({type:"payment/toogleOpen"})},children:"Agregar pago"}),Object(a.jsx)(je.a,{variant:"contained",color:"secondary",className:e.button,endIcon:Object(a.jsx)(fe.a,{}),onClick:function(){j<=0?t({type:"state/toogleShowInvoiceForm"}):s(!0)},children:"Emitir Factura"}),Object(a.jsx)(Xe,{}),Object(a.jsx)(_e,{}),Object(a.jsx)(St,{}),Object(a.jsx)(be.a,{open:i,autoHideDuration:6e3,children:Object(a.jsx)(It,{severity:"error",onClose:function(){return s(!1)},children:"El monto de los pagos no es suficiente"})})]})},Ft=Object(D.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}}));function Tt(){var e=Ft(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.state})),r=n.showCart,c=n.showOffers,i=n.showProducts;return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)(L.a,{expanded:c,onChange:function(){return t({type:"state/toogleShowOffers"})},children:[Object(a.jsx)(W.a,{expandIcon:Object(a.jsx)(G.a,{}),"aria-controls":"offers-content",id:"offers-header",children:Object(a.jsx)(O.a,{className:e.heading,children:"Ofertas"})}),Object(a.jsx)(M.a,{children:Object(a.jsx)(te,{})})]}),Object(a.jsxs)(L.a,{expanded:i,onChange:function(){return t({type:"state/toogleShowProducts"})},children:[Object(a.jsx)(W.a,{expandIcon:Object(a.jsx)(G.a,{}),"aria-controls":"products-content",id:"products-header",children:Object(a.jsx)(O.a,{className:e.heading,children:"Productos"})}),Object(a.jsx)(M.a,{children:Object(a.jsx)(ue,{})})]}),Object(a.jsxs)(L.a,{expanded:r,onChange:function(){return t({type:"state/toogleShowCart"})},children:[Object(a.jsx)(W.a,{expandIcon:Object(a.jsx)(G.a,{}),"aria-controls":"order-content",id:"order-header",children:Object(a.jsx)(O.a,{className:e.heading,children:"Pedido"})}),Object(a.jsx)(M.a,{children:Object(a.jsx)(Et,{})})]})]})}var zt,Rt,At=n(279),_t=n(280),Dt=n(281),qt={loading:"idle",response:{},errors:{},showErrors:!1,user:{}},Bt={setErrors:function(e,t){return Object(_.a)(Object(_.a)({},e),{},{errors:Object(_.a)({},t.payload)})},setShowErrors:function(e,t){return Object(_.a)(Object(_.a)({},e),{},{showErrors:Object(_.a)({},t.payload)})},clear:function(e,t){return qt}},Lt=Object(xt.b)("auth/login",function(){var e=Object(ot.a)(st.a.mark((function e(t,n){var a;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt.post("/auth/login",Object(_.a)({},t));case 2:return a=e.sent,e.abrupt("return",Object(_.a)({},a.data));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Wt=Object(xt.c)({name:"auth",initialState:qt,reducers:Bt,extraReducers:(zt={},Object(De.a)(zt,Lt.fulfilled,(function(e,t){var n=Object(_.a)({},e),a=Object(_.a)({},t.payload).data;return n.user=Object(_.a)({},a),n.errors={},Object(_.a)({},n)})),Object(De.a)(zt,Lt.rejected,(function(e,t){var n=Object(_.a)({},qt);return n.errors={password:"invalid username or password"},Object(_.a)({},n)})),zt),middleware:Object(ft.a)(Object(xt.d)())}),Mt=Object(D.a)({root:{maxWidth:345,margin:"auto","& .MuiFormControl-root":{width:"100%"},"& .MuiCardActions-root":{justifyContent:"flex-end"}}}),Ht=function(){var e=Mt(),t=Object(d.g)(),n=Object(o.b)(),c=Object(r.useState)({username:"admin",password:"password"}),i=Object(ne.a)(c,2),s=i[0],l=i[1],u=T(Je.d,Object(_.a)({},s)),j=Object(o.c)((function(e){return e.auth})).user,b=Object(o.c)((function(e){return e.auth.errors}));Object(r.useEffect)((function(){j.username&&t.push("/")}),[j.username]);var p=function(e){var t=e.target,n=Object(_.a)(Object(_.a)({},s),{},Object(De.a)({},t.name,t.value));l(n)};return Object(a.jsx)(Se.a,{elevation:3,className:e.root,children:Object(a.jsxs)(At.a,{children:[Object(a.jsxs)(_t.a,{children:[Object(a.jsx)(O.a,{component:"h2",children:"Login"}),Object(a.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object.keys(Je.d).map((function(e){var t=u[e]?u[e]:b[e],n=t||Je.d[e].helperText;return Object(a.jsx)(Ue.a,{name:e,size:"medium",margin:"normal",value:s[e]||"",onChange:p,InputLabelProps:{shrink:!0},label:Je.d[e].label,helperText:n||"",type:Je.d[e].type,fullWidth:Je.d[e].fullWidth||!1,placeholder:Je.d[e].placeholder||"",error:!!t},e)}))})]}),Object(a.jsxs)(Dt.a,{className:e.actions,children:[Object(a.jsx)(je.a,{onClick:function(){n(Lt(s))},children:"Login"}),Object(a.jsx)(je.a,{onClick:function(){return t.push("/")},children:"Cancelar"})]})]})})},Gt=n(282),$t=n(283),Vt=n(284),Kt=n(285),Ut=n(286),Zt=n(287),Jt=function(){var e=Object(d.g)(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.auth.user})),r=function(n){e.push(n),t({type:"state/toogleOpenDrawer"})},c=function(){t({type:"cart/clear"}),r("/")};return n.active?Object(a.jsxs)("div",{children:[Object(a.jsxs)(Z.a,{button:!0,children:[Object(a.jsx)(J.a,{children:Object(a.jsx)($t.a,{})}),Object(a.jsx)(X.a,{primary:"Limpiar pedido",onClick:c})]}),Object(a.jsxs)(Z.a,{button:!0,children:[Object(a.jsx)(J.a,{children:Object(a.jsx)(Kt.a,{})}),Object(a.jsx)(X.a,{primary:"Actualizar productos",onClick:function(){return r("/products/")}})]}),Object(a.jsxs)(Z.a,{button:!0,children:[Object(a.jsx)(J.a,{children:Object(a.jsx)(Ut.a,{})}),Object(a.jsx)(X.a,{primary:"Visualizar Facturas",onClick:function(){return r("/invoices/")}})]}),Object(a.jsxs)(Z.a,{button:!0,children:[Object(a.jsx)(J.a,{children:Object(a.jsx)(Ut.a,{})}),Object(a.jsx)(X.a,{primary:"Resumen diario",onClick:function(){return r("/summary/")}})]}),Object(a.jsxs)(Z.a,{button:!0,children:[Object(a.jsx)(J.a,{children:Object(a.jsx)(Zt.a,{})}),Object(a.jsx)(X.a,{primary:"Configuraciones",onClick:function(){return r("/parameters/")}})]}),Object(a.jsxs)(Z.a,{button:!0,children:[Object(a.jsx)(J.a,{children:Object(a.jsx)(Vt.a,{})}),Object(a.jsx)(X.a,{primary:"Logout",onClick:function(){t({type:"auth/clear"}),r("/")}})]})]}):Object(a.jsxs)("div",{children:[Object(a.jsxs)(Z.a,{button:!0,children:[Object(a.jsx)(J.a,{children:Object(a.jsx)(Gt.a,{})}),Object(a.jsx)(X.a,{primary:"Visualizar pedido",onClick:function(){t({type:"state/toogleShowCart"}),r("/")}})]}),Object(a.jsxs)(Z.a,{button:!0,children:[Object(a.jsx)(J.a,{children:Object(a.jsx)($t.a,{})}),Object(a.jsx)(X.a,{primary:"Limpiar pedido",onClick:c})]}),Object(a.jsxs)(Z.a,{button:!0,children:[Object(a.jsx)(J.a,{children:Object(a.jsx)(Vt.a,{})}),Object(a.jsx)(X.a,{primary:"Login",onClick:function(){return r("/login/")}})]})]})},Xt=n(288),Yt=n(146),Qt=n.n(Yt),en=Object(D.a)((function(e){return{toolbarIcon:Object(_.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(De.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)})}})),tn=function(){var e=en(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.state})).openDrawer;return Object(a.jsxs)(Xt.a,{variant:"temporary",anchor:"left",classes:{paper:p()(e.drawerPaper,!n&&e.drawerPaperClose)},open:n,children:[Object(a.jsx)("div",{className:e.toolbarIcon,children:Object(a.jsx)(v.a,{onClick:function(){return t({type:"state/toogleOpenDrawer"})},children:Object(a.jsx)(Qt.a,{})})}),Object(a.jsx)(V.a,{}),Object(a.jsx)($.a,{children:Object(a.jsx)(Jt,{})})]})},nn=Object(D.a)({root:{maxWidth:345,margin:"auto","& .MuiFormControl-root":{width:"100%"},"& .MuiCardActions-root":{justifyContent:"flex-end"}}}),an={loading:"idle",showOffers:!1,showProducts:!1,showCart:!1,openDrawer:!1,showSnackbar:!1,showInvoiceForm:!1,showProductForm:!1,messages:[]},rn={toogleShowCart:function(e){var t=Object(_.a)({},e);return t.showCart=!t.showCart,t.showCart&&(t.showOffers=!1,t.showProducts=!1),t},toogleShowInvoiceForm:function(e){var t=Object(_.a)({},e);return t.showInvoiceForm=!t.showInvoiceForm,t},toogleShowOffers:function(e){var t=Object(_.a)({},e);return t.showOffers=!t.showOffers,t.showOffers&&(t.showCart=!1,t.showProducts=!1),t},toogleShowProducts:function(e){var t=Object(_.a)({},e);return t.showProducts=!t.showProducts,t.showProducts&&(t.showCart=!1,t.showOffers=!1),t},toogleOpenDrawer:function(e){var t=Object(_.a)({},e);return t.openDrawer=!t.openDrawer,t},toogleShowSnackBar:function(e){var t=Object(_.a)({},e);return t.showSnackbar=!t.showSnackbar,t},toogleOpenInvoiceForm:function(e){var t=Object(_.a)({},e);return t.openInvoiceForm=!t.openInvoiceForm,t},toogleOpenProductForm:function(e){var t=Object(_.a)({},e);return t.showProductForm=!t.showProductForm,t},addMessage:function(e,t){var n=Object(ft.a)(e.messages);return n.push(t.payload),{state:e,messages:Object(ft.a)(n)}},removeMessage:function(e,t){var n=Object(ft.a)(e.messages).filter((function(e){return e.id!==t.payload.id}));return{state:e,messages:Object(ft.a)(n)}},showAlert:function(e,t){var n={message:t.payload.message,severity:t.payload.severity||"success"};return Object(_.a)(Object(_.a)({},e),{},{alert:Object(_.a)({},n),showSnackbar:!0})},selectGroup:function(e,t){var n=Object(_.a)({},e);return n.selectedGroup=t.payload,n}},cn=Object(xt.b)("state/getData",function(){var e=Object(ot.a)(st.a.mark((function e(t){var n,a;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt.get("/offers");case 2:return n=e.sent,e.next=5,jt.get("/parameters");case 5:return a=e.sent,"",e.abrupt("return",{offers:n.data.data,parameters:a.data.data[0],selectedGroup:""});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),sn=Object(xt.b)("state/updateParameters",function(){var e=Object(ot.a)(st.a.mark((function e(t,n){var a,r,c;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,delete t.id,e.next=4,jt.put("/parameters/".concat(a),t);case 4:return r=e.sent,c=r.data.data,e.abrupt("return",Object(_.a)({},c));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),on=Object(xt.c)({name:"state",initialState:{loading:"loading"},reducers:rn,extraReducers:(Rt={},Object(De.a)(Rt,cn.fulfilled,(function(e,t){var n=Object(_.a)({},t.payload);return Object(_.a)(Object(_.a)({},n),an)})),Object(De.a)(Rt,cn.rejected,(function(e,t){return e})),Object(De.a)(Rt,sn.fulfilled,(function(e,t){var n=Object(_.a)({},e);return n.parameters=Object(_.a)({},t.payload),Object(_.a)({},n)})),Object(De.a)(Rt,sn.rejected,(function(e,t){return e})),Rt),middleware:Object(ft.a)(Object(xt.d)())}),ln=function(){var e=nn(),t=Object(d.g)(),n=Object(o.b)(),c=Object(r.useState)(null),i=Object(ne.a)(c,2),s=i[0],l=i[1],u=Object(o.c)((function(e){return e.state.parameters})),j=T(Je.h,Object(_.a)({},s));Object(r.useEffect)((function(){u&&l(u)}),[u]);var b=function(e){var t=e.target,n=Object(_.a)(Object(_.a)({},s),{},Object(De.a)({},t.name,t.value));l(n)};return s?Object(a.jsx)(Se.a,{elevation:3,className:e.root,children:Object(a.jsxs)(At.a,{children:[Object(a.jsxs)(_t.a,{children:[Object(a.jsx)(O.a,{component:"h2",children:"Actualizar configuracion"}),Object(a.jsx)("form",{noValidate:!0,autoComplete:"off",children:Object.keys(Je.h).map((function(e){var t=j[e]?j[e]:"",n=t||Je.h[e].helperText;return Object(a.jsx)(Ue.a,{name:e,size:"medium",margin:"normal",value:s[e]||"",onChange:b,InputLabelProps:{shrink:!0},label:Je.h[e].label,helperText:n||"",type:Je.h[e].type,fullWidth:Je.h[e].fullWidth||!1,placeholder:Je.h[e].placeholder||"",error:!!t},e)}))})]}),Object(a.jsxs)(Dt.a,{className:e.actions,children:[Object(a.jsx)(je.a,{onClick:function(){return t.push("/")},children:"Cancelar"}),Object(a.jsx)(je.a,{prima:!0,onClick:function(){0===Object.keys(j).length&&(n(sn(s)),t.push("/"))},children:"Guardar"})]})]})}):null},dn=n(152),un=function(e){var t=e.children,n=Object(dn.a)(e,["children"]),r=Object(o.c)((function(e){return e.auth})).user;return Object(a.jsx)(d.b,Object(_.a)(Object(_.a)({},n),{},{render:function(e){var n=e.location;return r&&r.active?t:Object(a.jsx)(d.a,{to:{pathname:"/login/",state:{from:n}}})}}))},jn=n(291),bn=Object(D.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}}));function pn(e){var t=e.open,n=e.toogleOpen,r=e.onConfirm,i=e.title,s=c.a.useState(e.date),o=Object(ne.a)(s,2),l=o[0],d=o[1],u=bn();return Object(a.jsx)("div",{children:Object(a.jsxs)(qe.a,{open:t,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(a.jsx)(Me.a,{id:"alert-dialog-slide-title",children:i}),Object(a.jsx)(Le.a,{children:Object(a.jsx)(We.a,{id:"alert-dialog-slide-description",children:Object(a.jsx)(Ue.a,{id:"date",label:"Fecha",type:"date",value:l,className:u.textField,onChange:function(e){return t=e.target.value,d(t);var t},InputLabelProps:{shrink:!0}})})}),Object(a.jsxs)(Be.a,{children:[Object(a.jsx)(je.a,{onClick:n,color:"primary",children:"Cancelar"}),Object(a.jsx)(je.a,{onClick:function(){n(),r(l)},color:"primary",children:"Confimar"})]})]})})}var On,hn=n(10),mn=Object(D.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},actions:{margin:0,border:"none",display:"flex"},container:{maxHeight:"100vh"}}})),fn=Object(D.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(hn.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),xn=Object(D.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},title:{textAlign:"left"}}})),gn=function(e){var t=e.headCells,n=e.title,r=xn();return Object(a.jsxs)(ze.a,{className:r.root,children:[Object(a.jsx)(Re.a,{children:Object(a.jsx)(Fe.a,{component:"th",colSpan:5,children:Object(a.jsx)(O.a,{variant:"h6",children:n})})}),Object(a.jsxs)(Re.a,{children:[t.map((function(e){return Object(a.jsx)(Fe.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",colSpan:e.colSpan,children:e.label},e.id)})),Object(a.jsx)(Fe.a,{})]})]})},vn=n(290),yn=n(289),wn=function(e){var t=fn(),n=c.a.useState(!1),r=Object(ne.a)(n,2),i=r[0],s=r[1],o=e.print,l=e.selectDate,d=e.date,u=function(){return s(!i)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(g.a,{className:p()(t.root),children:[Object(a.jsx)(O.a,{className:t.title,variant:"h5",id:"tableTitle",component:"div",children:Object(a.jsx)("span",{children:" Resumen diario"})}),Object(a.jsx)(yn.a,{title:"Imprimir",children:Object(a.jsx)(v.a,{"aria-label":"imprimir",onClick:o,children:Object(a.jsx)(vn.a,{})})}),Object(a.jsx)(yn.a,{title:"Seleccionar Fecha",children:Object(a.jsx)(v.a,{"aria-label":"filter list",onClick:u,children:Object(a.jsx)(jn.a,{})})})]}),Object(a.jsx)(pn,{open:i,date:d,toogleOpen:u,title:"Por favor seleccione la fecha",onConfirm:l})]})},Cn={loading:"idle",response:{},errors:{},showErrors:!1,summary:{readyToPrint:!1}},kn={clear:function(e,t){return Cn}},Pn=Object(xt.b)("report/summary",function(){var e=Object(ot.a)(st.a.mark((function e(t,n){var a,r;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt.get("/reports/summary?date=".concat(t.date));case 2:return a=e.sent,(r=a.data.data).readyToPrint=!0,e.abrupt("return",Object(_.a)({},r));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Nn=Object(xt.c)({name:"report",initialState:Cn,reducers:kn,extraReducers:(On={},Object(De.a)(On,Pn.fulfilled,(function(e,t){var n=Object(_.a)({},e);return n.summary=Object(_.a)({},t.payload),Object(_.a)({},n)})),Object(De.a)(On,Pn.rejected,(function(e,t){return Object(_.a)({},Cn)})),On),middleware:Object(ft.a)(Object(xt.d)())});function Sn(){var e=mn(),t=Object(r.useRef)(),n=Object(o.b)(),i=c.a.useState(!1),s=Object(ne.a)(i,2),l=s[0],d=s[1],u=c.a.useState(I()),j=Object(ne.a)(u,2),b=j[0],p=j[1],h=Object(o.c)((function(e){return e.report.summary}));Object(r.useEffect)((function(){n(Pn({date:b}))}),[b]);var m=Object(Ye.useReactToPrint)({content:function(){return t.current}}),f=function(e){return p(e)},x=h.invoices,g=h.payments,v=h.products,y=N(new Date(b),{dateStyle:"full"});return Object(a.jsx)("div",{className:e.root,children:Object(a.jsxs)(Se.a,{className:e.paper,children:[Object(a.jsx)(wn,{print:m,selectDate:f,date:b}),Object(a.jsx)(Te.a,{className:e.container,ref:t,children:x&&x.length>0?Object(a.jsxs)(Ie.a,{size:"small",stickyHeader:!0,className:e.table,"aria-label":"enhanced table","aria-labelledby":"tableTitle",children:[Object(a.jsx)(gn,{headCells:Je.i.invoices,title:"Facturas ".concat(y)}),Object(a.jsxs)(Ee.a,{children:[(x||[]).map((function(e){return Object(a.jsxs)(Re.a,{children:[Object(a.jsx)(Fe.a,{size:"small",align:"right",padding:"checkbox",children:e.number}),Object(a.jsx)(Fe.a,{size:"small",children:e.tax_id}),Object(a.jsx)(Fe.a,{size:"medium",children:e.fullname}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:P(e.total)}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:P(e.total_bs)})]},e.number)})),Object(a.jsxs)(Re.a,{children:[Object(a.jsx)(Fe.a,{colSpan:3,align:"right",children:"Totales"}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:P(k(x,"total"))}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:P(k(x,"total_bs"))})]})]}),Object(a.jsx)(gn,{headCells:Je.i.payments,title:"Totales por forma de pago"}),Object(a.jsxs)(Ee.a,{children:[(g||[]).map((function(e){return Object(a.jsxs)(Re.a,{children:[Object(a.jsx)(Fe.a,{colSpan:3,children:e.payment_type}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:P(e.total)}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:P(e.total_bs)})]},e.payment_type)})),Object(a.jsxs)(Re.a,{children:[Object(a.jsx)(Fe.a,{align:"right",colSpan:3,children:"Totales"}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:P(k(g,"total"))}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:P(k(g,"total_bs"))})]})]}),Object(a.jsx)(gn,{headCells:Je.i.products,title:"Ventas por producto"}),Object(a.jsx)(Ee.a,{children:(v||[]).map((function(e){return Object(a.jsxs)(Re.a,{children:[Object(a.jsx)(Fe.a,{size:"medium",colSpan:4,children:e.description}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:P(e.quantity)})]},e.description)}))})]}):Object(a.jsx)(Ie.a,{children:Object(a.jsxs)(ze.a,{children:[Object(a.jsx)(Re.a,{children:Object(a.jsx)(Fe.a,{component:"th",colSpan:5,children:Object(a.jsxs)(O.a,{variant:"h5",style:{textAlign:"center"},children:["No se consiguen datos, para el dia ",y]})})}),Object(a.jsx)(Re.a,{children:Object(a.jsx)(Fe.a,{component:"th",colSpan:5,children:Object(a.jsxs)(O.a,{variant:"h5",style:{textAlign:"center"},children:["Favor elegir otra fecha aqui ",Object(a.jsx)(jn.a,{onClick:function(){return d(!l)},style:{cursor:"pointer"}})]})})})]})})}),Object(a.jsx)(pn,{open:l,date:b,toogleOpen:function(){return d(!l)},title:"Por favor seleccione la fecha",onConfirm:f})]})})}var In=n(303),En=n(292),Fn=n(293),Tn=n(304),zn=n(310),Rn=function(e){var t=e.order,n=e.classes,r=e.orderBy,c=e.headCells,i=e.onRequestSort;return Object(a.jsx)(ze.a,{children:Object(a.jsxs)(Re.a,{children:[Object(a.jsx)(Fe.a,{padding:"checkbox"}),c.filter((function(e){return e.id})).map((function(e){return Object(a.jsx)(Fe.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&t,children:Object(a.jsxs)(zn.a,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(c=e.id,function(e){i(e,c)}),children:[e.label,r===e.id?Object(a.jsx)("span",{className:n.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var c})),Object(a.jsx)(Fe.a,{})]})})},An=Object(D.a)((function(e){return{container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}}));function _n(e){var t=e.open,n=e.toogleOpen,r=e.onConfirm,i=e.title,s=c.a.useState({from:e.range.from,to:e.range.to}),o=Object(ne.a)(s,2),l=o[0],d=o[1],u=function(e,t){var n=Object(_.a)({},l);n[e]=t,d(n)},j=An();return Object(a.jsx)("div",{children:Object(a.jsxs)(qe.a,{open:t,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(a.jsx)(Me.a,{id:"alert-dialog-slide-title",children:i}),Object(a.jsx)(Le.a,{children:Object(a.jsxs)(We.a,{id:"alert-dialog-slide-description",children:[Object(a.jsx)(Ue.a,{id:"date_from",label:"Desde",type:"date",value:l.from,className:j.textField,onChange:function(e){return u("from",e.target.value)},InputLabelProps:{shrink:!0}}),Object(a.jsx)(Ue.a,{id:"date_to",label:"Hasta",type:"date",value:l.to,className:j.textField,onChange:function(e){return u("to",e.target.value)},InputLabelProps:{shrink:!0}})]})}),Object(a.jsxs)(Be.a,{children:[Object(a.jsx)(je.a,{onClick:n,color:"primary",children:"Cancelar"}),Object(a.jsx)(je.a,{onClick:function(){n(),r(l)},color:"primary",children:"Confimar"})]})]})})}var Dn=Object(D.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},actions:{margin:0,border:"none",display:"flex"},container:{maxHeight:440}}})),qn=Object(D.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(hn.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Bn=function(e){var t=qn(),n=c.a.useState(!1),r=Object(ne.a)(n,2),i=r[0],s=r[1],o={dateStyle:"full"},l=e.selected,d=e.printItem,u=e.selectRange,j=e.range,b=l.length,h=function(){return s(!i)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(g.a,{className:p()(t.root,Object(De.a)({},t.highlight,b>0)),children:[b>0?Object(a.jsxs)(O.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:["Factura numero: ",l[0]," seleccionada"]}):Object(a.jsxs)(O.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:["Facturas",Object(a.jsxs)("span",{children:[" desde: ",N(new Date(j.from),o)]}),Object(a.jsxs)("span",{children:[" hasta: ",N(new Date(j.to),o)]})]}),1===b&&Object(a.jsx)(yn.a,{title:"Imprimir",children:Object(a.jsx)(v.a,{"aria-label":"imprimir",onClick:d,children:Object(a.jsx)(vn.a,{})})}),0===b&&Object(a.jsx)(yn.a,{title:"Filtrar Items",children:Object(a.jsx)(v.a,{"aria-label":"filter list",onClick:h,children:Object(a.jsx)(jn.a,{})})})]}),Object(a.jsx)(_n,{open:i,range:j,toogleOpen:h,title:"Por favor seleccione el rango de fechas",onConfirm:u})]})};function Ln(){var e=Dn(),t=Object(r.useRef)(),n=c.a.useState("asc"),i=Object(ne.a)(n,2),s=i[0],l=i[1],d=c.a.useState("group"),u=Object(ne.a)(d,2),j=u[0],b=u[1],p=c.a.useState([]),O=Object(ne.a)(p,2),h=O[0],m=O[1],f=c.a.useState(0),x=Object(ne.a)(f,2),g=x[0],v=x[1],y=c.a.useState(!1),w=Object(ne.a)(y,2),C=w[0],k=w[1],S=c.a.useState(10),E=Object(ne.a)(S,2),F=E[0],T=E[1],z=Object(o.c)((function(e){return e.document.invoices})),_=Object(o.c)((function(e){return e.document.invoice})).readyToPrint,D=c.a.useState({from:I(),to:I()}),q=Object(ne.a)(D,2),B=q[0],L=q[1],W=Object(o.b)();Object(r.useEffect)((function(){W(kt({from:B.from,to:B.to}))}),[B]),Object(r.useEffect)((function(){_&&(H(),M(),W({type:"document/clearInvoice"}))}),[_]);var M=function(){return W({type:"state/toogleShowInvoiceForm"})},H=Object(Ye.useReactToPrint)({content:function(){return t.current}});if(!z)return null;var G=z.reduce((function(e,t){return e+t.total}),0),$=z.reduce((function(e,t){return e+t.total*t.exchange}),0),V=F-Math.min(F,z.length-g*F);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)(Se.a,{className:e.paper,children:[Object(a.jsx)(Bn,{selected:h,printItem:function(){if(h[0]){var e=h[0],t=z.find((function(t){return t.number===e}));W(Ct(t.id)),m([])}},range:B,selectRange:function(e){return L(e)}}),Object(a.jsx)(Te.a,{classes:e.container,children:Object(a.jsxs)(Ie.a,{className:e.table,"aria-labelledby":"tableTitle",size:C?"small":"medium","aria-label":"enhanced table",stickyHeader:!0,children:[Object(a.jsx)(Rn,{classes:e,order:s,orderBy:j,headCells:Je.c,numSelected:h.length,onRequestSort:function(e,t){l(j===t&&"asc"===s?"desc":"asc"),b(t)},rowCount:z.length,actions:!0}),Object(a.jsxs)(Ee.a,{children:[A(z,R(s,j)).slice(g*F,g*F+F).map((function(e,t){var n,r=(n=e.id,-1!==h.indexOf(n)),c="enhanced-table-checkbox-".concat(t),i=e.exchange*e.total,s=e.person?"".concat(e.person.tax_id):"",o=e.person?"".concat(e.person.firstname," ").concat(e.person.lastname):"",l=Date.parse(e.date);return Object(a.jsxs)(Re.a,{hover:!0,onClick:function(t){return function(e,t){var n=h.indexOf(t);m(-1===n?[t]:[])}(0,e.id)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,children:[Object(a.jsx)(Fe.a,{padding:"checkbox",children:Object(a.jsx)(In.a,{checked:r,inputProps:{"aria-labelledby":c}})}),Object(a.jsx)(Fe.a,{component:"th",id:c,scope:"row",padding:"checkbox",align:"center",children:e.number}),Object(a.jsx)(Fe.a,{padding:"none",children:N(l)}),Object(a.jsx)(Fe.a,{size:"medium",children:s}),Object(a.jsx)(Fe.a,{size:"medium",children:o}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:P(e.total)}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:P(i)})]},e.id)})),Object(a.jsxs)(Re.a,{children:[Object(a.jsx)(Fe.a,{colSpan:5,align:"right",children:"Totales"}),Object(a.jsx)(Fe.a,{align:"right",children:P(G)}),Object(a.jsx)(Fe.a,{align:"right",children:P($)})]}),V>0&&Object(a.jsx)(Re.a,{style:{height:(C?33:53)*V},children:Object(a.jsx)(Fe.a,{colSpan:6})})]})]})}),Object(a.jsx)(Tn.a,{page:g,component:"div",count:z.length,rowsPerPage:F,onChangePage:function(e,t){return v(t)},rowsPerPageOptions:[5,10,25],onChangeRowsPerPage:function(e){T(parseInt(e.target.value,10)),v(0)}})]}),Object(a.jsx)(En.a,{control:Object(a.jsx)(Fn.a,{checked:C,onChange:function(e){return k(e.target.checked)}}),label:"Tabla condensada"}),Object(a.jsx)("div",{style:{display:"none"},children:Object(a.jsx)(ct,{ref:t})})]})}var Wn=n(295),Mn=n(294),Hn=function(e){var t=e.order,n=e.classes,r=e.orderBy,c=e.rowCount,i=e.headCells,s=e.numSelected,o=e.onRequestSort,l=e.onSelectAllClick;return Object(a.jsx)(ze.a,{children:Object(a.jsxs)(Re.a,{children:[Object(a.jsx)(Fe.a,{padding:"checkbox",children:Object(a.jsx)(In.a,{indeterminate:s>0&&s<c,checked:c>0&&s===c,onChange:l,inputProps:{"aria-label":"select all"}})}),i.filter((function(e){return e.id})).map((function(e){return Object(a.jsx)(Fe.a,{align:e.numeric?"right":"left",padding:e.disablePadding?"none":"default",sortDirection:r===e.id&&t,children:Object(a.jsxs)(zn.a,{active:r===e.id,direction:r===e.id?t:"asc",onClick:(c=e.id,function(e){o(e,c)}),children:[e.label,r===e.id?Object(a.jsx)("span",{className:n.visuallyHidden,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var c})),Object(a.jsx)(Fe.a,{})]})})},Gn=n(296),$n=Object(D.a)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},actions:{margin:0,border:"none",display:"flex"}}})),Vn=Object(D.a)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(hn.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Kn=n(210),Un=c.a.forwardRef((function(e,t){return Object(a.jsx)(Kn.a,Object(_.a)({direction:"up",ref:t},e))}));function Zn(e){var t=e.open,n=e.toogleOpen,r=e.onConfirm,c=e.title,i=e.content;return Object(a.jsx)("div",{children:Object(a.jsxs)(qe.a,{open:t,TransitionComponent:Un,keepMounted:!0,onClose:n,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(a.jsx)(Me.a,{id:"alert-dialog-slide-title",children:c}),Object(a.jsx)(Le.a,{children:Object(a.jsx)(We.a,{id:"alert-dialog-slide-description",children:i})}),Object(a.jsxs)(Be.a,{children:[Object(a.jsx)(je.a,{onClick:n,color:"primary",children:"Cancelar"}),Object(a.jsx)(je.a,{onClick:function(){n(),r()},color:"primary",children:"Confimar"})]})]})})}var Jn,Xn=function(e){var t=Vn(),n=c.a.useState(!1),r=Object(ne.a)(n,2),i=r[0],s=r[1],o=e.selected,l=e.deleteItem,d=e.addItem,u=e.editItem,j=o.length,b=function(){return s(!i)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(g.a,{className:p()(t.root,Object(De.a)({},t.highlight,j>0)),children:[j>0?Object(a.jsxs)(O.a,{className:t.title,color:"inherit",variant:"subtitle1",component:"div",children:[j," seleccionados"]}):Object(a.jsx)(O.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:"Productos"}),1===j&&Object(a.jsx)(yn.a,{title:"Modificar",children:Object(a.jsx)(v.a,{"aria-label":"modificar",onClick:u,children:Object(a.jsx)(Mn.a,{})})}),j>0?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(yn.a,{title:"Eliminar",children:Object(a.jsx)(v.a,{"aria-label":"delete",onClick:b,children:Object(a.jsx)(Wn.a,{})})})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(yn.a,{title:"Filtrar Items",children:Object(a.jsx)(v.a,{"aria-label":"filter list",children:Object(a.jsx)(jn.a,{})})}),Object(a.jsx)(yn.a,{title:"Agregar Item",children:Object(a.jsx)(v.a,{"aria-label":"add item",children:Object(a.jsx)(Gn.a,{onClick:d})})})]})]}),Object(a.jsx)(Zn,{open:i,toogleOpen:b,title:"Por favor verifique",content:"Esta eliminando ".concat(j," producto(s), desea continuar ?"),onConfirm:l})]})},Yn=Object(D.a)((function(e){return{button:{margin:e.spacing(1)}}})),Qn=function(){var e=Yn(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.product})),r=n.product,c=n.errors,i=function(e){var n=e.target,a=Object(_.a)(Object(_.a)({},r),{},Object(De.a)({},n.name,n.value)),c=T(Je.f,Object(_.a)({},a));t({type:"product/setProduct",payload:a}),t({type:"product/setErrors",payload:c})};return r?Object(a.jsx)("div",{children:Object(a.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object.keys(Je.f).map((function(e){var t=c[e],n=t||Je.f[e].helperText;return Object(a.jsx)(Ue.a,{name:e,size:"medium",margin:"normal",value:r[e]||"",style:{margin:8},onChange:i,InputLabelProps:{shrink:!0},label:Je.f[e].label,helperText:n||"",fullWidth:Je.f[e].fullWidth||!1,placeholder:Je.f[e].placeholder||"",error:t},e)}))})}):null},ea=n(147),ta={setProduct:function(e,t){return Object(_.a)(Object(_.a)({},e),{},{product:t.payload})},setErrors:function(e,t){return Object(_.a)(Object(_.a)({},e),{},{errors:t.payload})}},na=Object(xt.b)("product/getProducts",function(){var e=Object(ot.a)(st.a.mark((function e(t){var n,a;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt.get("/products");case 2:return n=e.sent,a=Object(ea.uniq)(n.data.data.map((function(e){return e.departament}))).sort(),e.abrupt("return",{products:n.data.data,departaments:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),aa=Object(xt.b)("product/saveProduct",function(){var e=Object(ot.a)(st.a.mark((function e(t,n){var a;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,t.id){e.next=7;break}return e.next=4,jt.post("/products",t);case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,jt.put("/products/".concat(t.id),t);case 9:a=e.sent;case 10:return(0,n.dispatch)(na()),e.abrupt("return",Object(_.a)({},a.data.data));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ra=Object(xt.b)("product/deleteProducts",function(){var e=Object(ot.a)(st.a.mark((function e(t,n){return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach(function(){var e=Object(ot.a)(st.a.mark((function e(t){var n;return st.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jt.delete("products/".concat(t));case 2:200===!(n=e.sent).status&&console.log(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,n.dispatch)(na());case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ca=Object(xt.c)({name:"product",initialState:Object(_.a)({},{loading:"idle",errors:{},product:{},response:{},showErrors:!1}),reducers:ta,extraReducers:(Jn={},Object(De.a)(Jn,na.fulfilled,(function(e,t){return Object(_.a)(Object(_.a)({},e),t.payload)})),Object(De.a)(Jn,na.rejected,(function(e,t){return e})),Object(De.a)(Jn,ra.fulfilled,(function(e,t){return e})),Object(De.a)(Jn,ra.rejected,(function(e,t){return e})),Object(De.a)(Jn,aa.fulfilled,(function(e,t){return console.log(t.payload),e})),Object(De.a)(Jn,aa.rejected,(function(e,t){return console.log(t.payload),e})),Jn),middleware:Object(ft.a)(Object(xt.d)())});function ia(e){return Object(a.jsx)(pe.a,Object(_.a)({elevation:6,variant:"filled"},e))}var sa=function(){var e=Object(o.b)(),t=Object(r.useState)(!1),n=Object(ne.a)(t,2),c=n[0],i=n[1],s=function(){return e({type:"state/toogleOpenProductForm"})},l=Object(o.c)((function(e){return e.state})).showProductForm,d=Object(o.c)((function(e){return e.product})),u=d.product,j=d.errors,b=Object.keys(j).length>0;return Object(a.jsxs)(qe.a,{open:l,onClose:s,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(Me.a,{id:"form-dialog-title",children:"Datos del Producto"}),Object(a.jsx)(Le.a,{children:Object(a.jsx)(Qn,{})}),Object(a.jsxs)(Be.a,{children:[Object(a.jsx)(je.a,{onClick:s,color:"secondary",children:"Cancelar"}),Object(a.jsx)(je.a,{onClick:function(){b?i(!0):(i(!1),e(aa(u)),e({type:"state/toogleOpenProductForm"}))},color:"primary",children:"Aceptar"})]}),Object(a.jsx)(be.a,{open:c,autoHideDuration:6e3,onClose:function(){return i(!1)},children:Object(a.jsx)(ia,{severity:"error",children:"El formulario presenta errores o no esta completo"})})]})};function oa(){var e=$n(),t=c.a.useState("asc"),n=Object(ne.a)(t,2),r=n[0],i=n[1],s=c.a.useState("group"),l=Object(ne.a)(s,2),d=l[0],u=l[1],j=c.a.useState([]),b=Object(ne.a)(j,2),p=b[0],O=b[1],h=c.a.useState(0),m=Object(ne.a)(h,2),f=m[0],x=m[1],g=c.a.useState(!1),y=Object(ne.a)(g,2),w=y[0],C=y[1],k=c.a.useState(10),P=Object(ne.a)(k,2),N=P[0],S=P[1],I=Object(o.c)((function(e){return e.product.products})),E=Object(o.b)(),F=function(){var e=p.map((function(e){return I.find((function(t){return t.sku===e})).id}));console.log(e),x(0),O([]),E(ra(e))},T=function(){if(p[0]){var e=p[0],t=I.find((function(t){return t.sku===e}));E({type:"product/setProduct",payload:t}),E({type:"state/toogleOpenProductForm"}),O([])}},z=N-Math.min(N,I.length-f*N);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)(Se.a,{className:e.paper,children:[Object(a.jsx)(Xn,{selected:p,addItem:function(){E({type:"product/setProduct",payload:{}}),E({type:"state/toogleOpenProductForm"}),O([])},deleteItem:F,editItem:T}),Object(a.jsx)(Te.a,{children:Object(a.jsxs)(Ie.a,{className:e.table,"aria-labelledby":"tableTitle",size:w?"small":"medium","aria-label":"enhanced table",stickyHeader:!0,children:[Object(a.jsx)(Hn,{classes:e,order:r,orderBy:d,headCells:Je.g,numSelected:p.length,onSelectAllClick:function(e){if(e.target.checked){var t=I.map((function(e){return e.sku}));O(t)}else O([])},onRequestSort:function(e,t){i(d===t&&"asc"===r?"desc":"asc"),u(t)},rowCount:I.length,actions:!0}),Object(a.jsxs)(Ee.a,{children:[A(I,R(r,d)).slice(f*N,f*N+N).map((function(t,n){var r,c=(r=t.sku,-1!==p.indexOf(r)),i="enhanced-table-checkbox-".concat(n);return Object(a.jsxs)(Re.a,{hover:!0,onClick:function(e){return function(e,t){var n=p.indexOf(t),a=[];-1===n?a=a.concat(p,t):0===n?a=a.concat(p.slice(1)):n===p.length-1?a=a.concat(p.slice(0,-1)):n>0&&(a=a.concat(p.slice(0,n),p.slice(n+1))),O(a)}(0,t.sku)},role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[Object(a.jsx)(Fe.a,{padding:"checkbox",children:Object(a.jsx)(In.a,{checked:c,inputProps:{"aria-labelledby":i}})}),Object(a.jsx)(Fe.a,{component:"th",id:i,scope:"row",padding:"checkbox",children:t.description}),Object(a.jsx)(Fe.a,{padding:"none",children:t.departament}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:t.stock}),Object(a.jsxs)(Fe.a,{size:"small",align:"right",children:[100*t.tax,"%"]}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:t.price}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:t.price_2}),Object(a.jsx)(Fe.a,{size:"small",align:"right",children:t.price_3}),Object(a.jsx)(Fe.a,{className:e.actions,children:c?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(yn.a,{title:"Eliminar",children:Object(a.jsx)(v.a,{"aria-label":"delete",onClick:F,children:Object(a.jsx)(Wn.a,{})})}),Object(a.jsx)(yn.a,{title:"Editar",children:Object(a.jsx)(v.a,{"aria-label":"delete",onClick:T,children:Object(a.jsx)(Mn.a,{})})})]}):Object(a.jsx)("div",{})})]},t.sku)})),z>0&&Object(a.jsx)(Re.a,{style:{height:(w?33:53)*z},children:Object(a.jsx)(Fe.a,{colSpan:6})})]})]})}),Object(a.jsx)(Tn.a,{rowsPerPageOptions:[5,10,25],component:"div",count:I.length,rowsPerPage:N,page:f,onChangePage:function(e,t){x(t)},onChangeRowsPerPage:function(e){S(parseInt(e.target.value,10)),x(0)}})]}),Object(a.jsx)(En.a,{control:Object(a.jsx)(Fn.a,{checked:w,onChange:function(e){C(e.target.checked)}}),label:"Tabla condensada"}),Object(a.jsx)(sa,{})]})}var la=Object(D.a)((function(e){return{root:{display:"flex"},toolbar:{paddingleft:0,paddingRight:4},toolbarIcon:Object(_.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:5},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(De.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}})),da=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.state.messages})),n=t.length>0;return n?Object(a.jsx)(be.a,{open:n,autoHideDuration:6e3,children:Object(a.jsx)(pe.a,{elevation:6,onClose:function(t){return e({type:"state/removeMessage",payload:{id:t.messageId}})},variant:"filled",messageId:t[0].id,severity:t[0].severity,children:t[0].message},t[0].id)}):null};function ua(){var e=la(),t=Object(o.c)((function(e){return e.state})).loading,n=Object(o.c)((function(e){return e.auth})).user;return"idle"!==t?null:Object(a.jsx)(l.a,{children:Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(u.a,{}),Object(a.jsx)(da,{}),Object(a.jsx)(B,{}),Object(a.jsx)(tn,{}),Object(a.jsxs)("main",{className:e.content,children:[Object(a.jsx)("div",{className:e.appBarSpacer}),Object(a.jsx)(j.a,{maxWidth:"lg",className:e.container,children:Object(a.jsxs)(d.d,{children:[Object(a.jsx)(d.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(Tt,{})}}),Object(a.jsx)(d.b,{exact:!0,path:"/login/",render:function(){return n&&n.active?Object(a.jsx)(Tt,{}):Object(a.jsx)(Ht,{})}}),Object(a.jsx)(un,{exact:!0,path:"/products/",children:Object(a.jsx)(oa,{})}),Object(a.jsx)(un,{exact:!0,path:"/invoices/",children:Object(a.jsx)(Ln,{})}),Object(a.jsx)(un,{exact:!0,path:"/summary/",children:Object(a.jsx)(Sn,{})}),Object(a.jsx)(un,{exact:!0,path:"/parameters/",children:Object(a.jsx)(ln,{})})]})})]})]})})}var ja=n(119),ba=n.n(ja),pa={products:[],show:!1},Oa={addProduct:function(e,t){var n=[].concat(Object(ft.a)(e.products),[Object(_.a)(Object(_.a)({},t.payload),{},{cart_id:ba()()})]);return Object(_.a)(Object(_.a)({},e),{},{products:n})},addProductOffer:function(e,t){var n=[].concat(Object(ft.a)(e.products),[Object(_.a)(Object(_.a)({},t.payload),{},{isOffer:!0,id:t.payload.product_id,cart_id:ba()()})]);return Object(_.a)(Object(_.a)({},e),{},{products:n})},removeProduct:function(e,t){var n=e.products.map((function(e){var n=1;return e.isOffer&&(n=t.payload.quantity),e.cart_id===t.payload.cart_id?Object(_.a)(Object(_.a)({},e),{},{quantity:e.quantity-n}):e}));return Object(_.a)(Object(_.a)({},e),{},{products:n.filter((function(e){return e.quantity>0}))})},removeProductItem:function(e,t){var n=e.products.filter((function(e){return e.cart_id!==t.payload.cart_id}));return Object(_.a)(Object(_.a)({},e),{},{products:n})},clear:function(e,t){return pa}},ha=Object(xt.c)({name:"cart",initialState:pa,reducers:Oa,middleware:Object(ft.a)(Object(xt.d)())}),ma={payments:[],open:!1},fa={addPayment:function(e,t){var n=[].concat(Object(ft.a)(e.payments),[t.payload]);return Object(_.a)(Object(_.a)({},e),{},{payments:n})},removePayment:function(e,t){var n=t.payload,a=e.payments,r=a.slice(0,n).concat(a.slice(n+1,a.length));return Object(_.a)(Object(_.a)({},e),{},{payments:r})},toogleOpen:function(e){var t=Object(_.a)(Object(_.a)({},e),{},{open:!e.open});return Object(_.a)({},t)},clear:function(e,t){return ma}},xa=Object(xt.c)({name:"payment",initialState:ma,reducers:fa,middleware:Object(ft.a)(Object(xt.d)())}),ga=Object(xt.a)({reducer:{auth:Wt.reducer,state:on.reducer,cart:ha.reducer,document:Pt.reducer,payment:xa.reducer,product:ca.reducer,report:Nn.reducer}}),va=n(149),ya=n(299),wa=n(148),Ca=Object(va.a)({palette:{primary:{main:"#1976d2"}}},wa.esES);document.getElementById("root")&&(ga.dispatch(cn()),ga.dispatch(na()),s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(o.a,{store:ga,children:Object(a.jsx)(ya.a,{theme:Ca,children:Object(a.jsx)(ua,{})})})}),document.getElementById("root")))}},[[204,1,2]]]);
//# sourceMappingURL=main.418a5080.chunk.js.map