{"version":3,"sources":["utils/validators.js","utils/utils.js","containers/App/Bar/styles.js","containers/App/Bar/Bar.jsx","components/Offers/style.js","components/Offers/OfferItem/index.jsx","components/Offers/OffersHeader/index.jsx","components/Offers/index.jsx","components/GroupMenu/style.js","components/GroupMenu/index.jsx","components/Products/style.js","components/Products/ProductItem/index.jsx","components/Products/ProductListHeader/index.jsx","components/Products/ProductList/index.jsx","components/Products/index.jsx","components/ShoppingCart/style.js","components/ShoppingCart/ShoppingCartItem/index.jsx","components/ShoppingCart/ShoppingCartHeader/index.jsx","components/Payments/PaymentTotal/style.js","components/Payments/PaymentTotal/index.jsx","components/ShoppingCart/ShoppingCartTotal/style.js","components/ShoppingCart/ShoppingCartTotal/index.jsx","components/Payments/PaymentList/style.js","components/Payments/PaymentList/index.jsx","components/Payments/AddPayment/style.js","components/Payments/AddPayment/index.jsx","components/Invoice/Invoice/style.js","components/Invoice/Invoice/index.jsx","api/index.js","components/Search/index.jsx","components/Invoice/InvoiceForm/style.js","components/Invoice/InvoiceForm/index.jsx","store/reducers/documentReducers.js","store/slices/documentSlice.js","components/Invoice/OpenInvoiceForm/index.jsx","components/ShoppingCart/index.jsx","components/Home/style.js","components/Home/index.jsx","store/reducers/authReducers.js","store/slices/authSlice.js","components/Login/styles.js","components/Login/Login.jsx","containers/App/LeftDrawer/ListItems.jsx","containers/App/LeftDrawer/styles.js","containers/App/LeftDrawer/LeftDrawer.jsx","components/Settings/styles.js","store/reducers/stateReducers.js","store/slices/stateSlice.js","components/Settings/Settings.jsx","components/PrivateRoute/PrivateRoute.jsx","components/SelectDate/style.js","components/SelectDate/SelectDate.jsx","components/ReportSummary/style.js","components/ReportSummary/EnhancedTableHead.jsx","components/ReportSummary/EnhancedTableToolbar.jsx","store/reducers/reportReducers.js","store/slices/reportSlice.js","components/ReportSummary/ReportSummary.jsx","components/Invoice/Invoices/EnhancedTableHead.jsx","components/SelectRange/style.js","components/SelectRange/SelectRange.jsx","components/Invoice/Invoices/style.js","components/Invoice/Invoices/EnhancedTableToolbar.jsx","components/Invoice/Invoices/InvoicesTable.jsx","components/Products/ProductsEditTable/EnhancedTableHead.jsx","components/Products/ProductsEditTable/style.js","components/ConfirmActionDialog/ConfirmActionDialog.jsx","components/Products/ProductsEditTable/EnhancedTableToolbar.jsx","components/Products/ProductForm/style.js","components/Products/ProductForm/ProductForm.jsx","store/reducers/productReducers.js","store/slices/productSlice.js","components/Products/ProductModal/ProductModal.jsx","components/Products/ProductsEditTable/ProductsEditTable.jsx","containers/App/styles.js","components/Messages/index.jsx","containers/App/App.jsx","store/reducers/cartReducers.js","store/slices/cartSlice.js","store/reducers/paymentReducers.js","store/slices/paymentSlice.js","store/store.js","index.js"],"names":["validators","unequal","message","test","val","trim","sameas","allValues","data","length","toString","parseInt","required","Number","isInteger","console","log","isNaN","totalize","items","col","reduce","acc","item","parseFloat","formatNumber","value","Intl","NumberFormat","minimumFractionDigits","format","formatDate","options","DateTimeFormat","leftZero","size","num","today","now","Date","getFullYear","getMonth","getDate","cartItems","cartTotal","validate","fields","errors","Object","keys","forEach","key","field","currentData","fieldValidation","validation","current","descendingComparator","a","b","orderBy","getComparator","order","stableSort","array","comparator","stabilizedThis","map","el","index","sort","useStyles","makeStyles","theme","root","display","toolbar","paddingleft","paddingRight","toolbarIcon","alignItems","justifyContent","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","width","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","appBarSpacer","content","height","overflow","container","paddingTop","spacing","paddingBottom","paper","flexDirection","fixedHeight","Bar","history","useHistory","classes","dispatch","useDispatch","cart","useSelector","state","products","parameters","openDrawer","AppBar","position","className","classNames","Toolbar","IconButton","edge","color","aria-label","onClick","type","Typography","component","variant","noWrap","name","push","Badge","badgeContent","textAlign","OfferItem","offer","ListItem","button","ListItemText","primary","description","quantity","price","e","payload","handleClick","ListItemIcon","ProductListHeader","product","Offers","offers","Divider","light","OffersHeader","List","backgroundColor","palette","background","GroupMenu","useState","anchorEl","setAnchorEl","departaments","selectedGroup","aria-haspopup","aria-controls","event","currentTarget","secondary","id","keepMounted","open","Boolean","onClose","option","MenuItem","selected","departament","handleMenuItemClick","list","minWidth","ProductItem","price_2","price_3","ProductList","Products","filtered","filter","cursor","margin","ShopppingCartItem","PaymentTotal","payments","payment","total","totalAmount","balance","ShoppingCartTotal","kg","cartKg","table","fontSize","Payments","TableContainer","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","payment_type","amount","amountBs","details","style","removePayment","formControl","AddPayment","defaultPayment","values","setValues","exchange","toggleOpen","useEffect","handleChange","prop","target","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","FormControl","Select","onChange","selectEmpty","inputProps","paymentTypes","fullWidth","InputLabel","htmlFor","Input","startAdornment","InputAdornment","currency","TextField","autoFocus","label","detailsLabel","detailsType","DialogActions","Button","header","fontWeight","fonts","bold","borderCollapse","fontFamily","border","InvoiceHeader","invoice","document","totalInvoice","tax_id","address","number","date","person","firstname","lastname","city","phone","email","Invoice","React","PureComponent","api","axios","baseURL","sleep","delay","Promise","resolve","setTimeout","Search","url","setOpen","setOptions","loading","active","response","persons","Autocomplete","onOpen","getOptionLabel","newValue","getOptionSelected","renderInput","params","InputProps","endAdornment","Fragment","CircularProgress","flexWrap","textField","InvoiceForm","newData","newErrors","invoiceFormFields","newValues","noValidate","autoComplete","error","helperText","InputLabelProps","shrink","placeholder","initialState","showErrors","readyToPrint","reducers","setPerson","action","setHeader","setProducts","setErrors","setShowErrors","setInvoice","setInvoices","invoices","clearInvoice","clear","saveDocument","createAsyncThunk","thunkAPI","post","saveInvoice","getInvoice","get","getInvoicesDates","from","to","createSlice","extraReducers","fulfilled","rejected","middleware","getDefaultMiddleware","Alert","props","elevation","OpenInvoiceForm","componentRef","useRef","hasErrors","setHasErrors","showInvoiceForm","doPrint","useReactToPrint","ref","Snackbar","autoHideDuration","severity","ShoppingCart","openAlert","setOpenAlert","ShoppingCartHeader","ShoppingCartItem","endIcon","heading","typography","pxToRem","fontWeightRegular","Home","showCart","showOffers","showProducts","Accordion","expanded","AccordionSummary","expandIcon","AccordionDetails","user","userLogin","newState","password","maxWidth","Login","username","setData","loginFields","auth","loginErrors","Card","CardContent","CardActions","actions","ListItems","navigate","DeleteForever","Store","AccountCircle","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","LeftDrawer","Drawer","anchor","classnames","showSnackbar","showProductForm","messages","toogleShowCart","toogleShowInvoiceForm","toogleShowOffers","toogleShowProducts","toogleOpenDrawer","toogleShowSnackBar","toogleOpenInvoiceForm","openInvoiceForm","toogleOpenProductForm","addMessage","newMessages","removeMessage","s","showAlert","alert","selectGroup","getData","updateParameters","put","result","Settings","settingsFields","prima","PrivateRoute","children","rest","render","location","pathname","SelectDate","toogleOpen","onConfirm","setDate","aria-describedby","marginBottom","visuallyHidden","clip","top","maxHeight","useToolbarStyles","paddingLeft","highlight","main","lighten","text","dark","flex","useHeadStyles","EnhancedTableHead","headCells","colSpan","headCell","numeric","disablePadding","EnhancedTableToolbar","print","selectDate","toogleDateOpen","Tooltip","Print","FilterList","summary","getSummary","report","EnhancedTable","formatedDate","dateStyle","stickyHeader","summaryTableHead","row","fullname","total_bs","onRequestSort","sortDirection","TableSortLabel","direction","property","SelectRange","range","setRange","newRange","dateformatoptions","printItem","selectRange","numSelected","toogleRangeOpen","setOrder","setOrderBy","setSelected","page","setPage","dense","setDense","rowsPerPage","setRowsPerPage","rows","totalInvoices","totalInvoicesBs","emptyRows","Math","min","find","invoiceTableHead","rowCount","slice","isItemSelected","indexOf","labelId","totalbs","taxId","parse","hover","selectedIndex","role","aria-checked","tabIndex","Checkbox","checked","scope","TablePagination","count","onChangePage","newPage","rowsPerPageOptions","onChangeRowsPerPage","FormControlLabel","control","Switch","onSelectAllClick","indeterminate","Transition","forwardRef","Slide","ConfirmActionDialog","TransitionComponent","deleteItem","addItem","editItem","toogleConfirmOpen","Edit","Delete","productFormFields","setProduct","getProducts","uniq","saveProduct","deleteProducts","element","delete","status","ProductModal","ProductForm","deleteProduct","ids","sku","editProduct","productTableHead","newSelecteds","n","newSelected","concat","stock","tax","Messages","messagesOpen","messageId","Dashboard","CssBaseline","Container","exact","path","show","addProduct","newProducts","cart_id","uuid","addProductOffer","isOffer","product_id","removeProduct","removeQuantity","removeProductItem","addPayment","newPayments","store","configureStore","reducer","authSlice","stateSlice","cartSlice","documentSlice","paymentSlice","productSlice","reportSlice","createMuiTheme","esES","getElementById","ReactDOM","StrictMode","ThemeProvider"],"mappings":"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","file":"static/js/main.418a5080.chunk.js","sourcesContent":["const validators = {\r\n    unequal: {\r\n      message: 'Este campo es requerido',\r\n      test: (val) => {\r\n        return (val && val !== ''.trim())\r\n      }\r\n    },\r\n    sameas: {\r\n      message: 'Estos valores no coinciden',\r\n      test: (val, allValues, data) => {\r\n        return allValues[data] && allValues[data]===val;\r\n      }\r\n    },\r\n    length: {\r\n      message: 'Este valor es invalido',\r\n      test: (val, allValues, data) => {\r\n        return val.toString().length===parseInt(data);\r\n      }\r\n    },\r\n    required: {\r\n      message: 'Este campo es requerido',\r\n      test: (val) => {\r\n        return (val && val !== ''.trim())\r\n      }\r\n    },\r\n    'email': {\r\n      message: 'Este email es invalido',\r\n      test: (val) => {\r\n        var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n        return re.test(val) || val === ''.trim()\r\n      }\r\n    },\r\n    'url': {\r\n      message: 'Esta URL no es valida',\r\n      test: val => {\r\n        const re = /^(http[s]?:\\/\\/){0,1}(www\\.){0,1}[a-zA-Z0-9\\\\.\\\\-]+\\.[a-zA-Z]{2,5}[\\\\.]{0,1}/\r\n        return re.test(val)\r\n      }\r\n    },\r\n    'string': {\r\n      message: 'Por favor escriba aqui',\r\n      test: (val) => {\r\n        return (typeof val) === 'string'\r\n      }\r\n    },\r\n    'boolean': {\r\n      message: 'Por favor elija si o no',\r\n      test: (val) => {\r\n        return (val === '1' || val === '0' || val === 1 || val === 0)\r\n        // return (typeof val)==='boolean';\r\n      }\r\n    },\r\n    'integer': {\r\n      message: 'Por favor ingrese un entero',\r\n      test: (val) => {\r\n        return Number.isInteger(1 * val)\r\n      }\r\n    },\r\n    'date': {\r\n      message: 'Esto no es una fecha valida',\r\n      test: (val) => {\r\n        console.log('date validator:' + val)\r\n        return true\r\n      }\r\n    },\r\n    'numeric': {\r\n      message: 'Por favor ingrese un numero',\r\n      test: (val) => {\r\n        return !isNaN(val)\r\n      }\r\n    },\r\n  }\r\n\r\n  export default validators","import validators from './validators'\n\nexport const totalize = (items, col) => \n    items ? \n    (items.reduce((acc, item) => {\n        return acc + parseFloat(item[col])\n    }, 0)) \n    : 0\n\nexport const formatNumber = (value) => \n    new Intl.NumberFormat('es-Es',{ minimumFractionDigits: 2 }).format(value)\n\nexport const formatDate = (value, options) => \n    new Intl.DateTimeFormat('en-Es', options ).format(value)\n\nexport const formatInvoiceNumber = value => leftZero(value, 6) \n\nexport const leftZero = (value, size = 2) => {\n    let num = value.toString();\n    while (num.length < size) num = \"0\" + num;\n    return num;\n}\n\nexport const today = (value) => {\n    const now = new Date()\n    return `${now.getFullYear()}-${leftZero(now.getMonth()+1)}-${leftZero(now.getDate())}`\n}\n\nexport const cartItems = (items) => items ? items.length: 0\n\nexport const cartKg = (items) => totalize(items,'quantity')\n\nexport const cartTotal = (items) => totalize(items,'price')\n\nexport const validateDocument = (fields, data) => {\n    let errors = null\n    errors = validate(fields.document, data)\n    if(errors === null) {\n        errors = validate(fields.person, data)\n        if(errors === null) {\n            errors = validate(fields.payments, data)\n        }\n    }\n    return errors\n}\n\nexport const validate = (fields, data) => {\n    const errors = {}\n    Object.keys(validators).forEach(key=> {\n        Object.keys(fields).forEach(field => {\n            const currentData = data[field]\n            const fieldValidation = fields[field].validation\n            if(fieldValidation) {                \n                Object.keys(fieldValidation).forEach(current=> {\n                    if(key === current) {\n                        const validation = validators[key]\n                        const result = validation.test(currentData)\n                        if(!result) {\n                            errors[field] = validators[key].message\n                        }\n                    }\n                })\n            }\n        })\n    })\n    return errors\n}\n\nexport const descendingComparator = (a, b, orderBy) => {\n    if (b[orderBy] < a[orderBy]) {\n      return -1;\n    }\n    if (b[orderBy] > a[orderBy]) {\n      return 1;\n    }\n    return 0;\n}\n  \nexport const getComparator = (order, orderBy) => {\n    return order === 'desc'\n      ? (a, b) => descendingComparator(a, b, orderBy)\n      : (a, b) => -descendingComparator(a, b, orderBy);\n}\n  \nexport const stableSort = (array, comparator) => {\n    const stabilizedThis = array.map((el, index) => [el, index]);\n    stabilizedThis.sort((a, b) => {\n      const order = comparator(a[0], b[0]);\n      if (order !== 0) return order;\n      return a[1] - b[1];\n    });\n    return stabilizedThis.map((el) => el[0]);\n}","import { makeStyles } from '@material-ui/core/styles';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      display: 'flex',\n    },\n    toolbar: {\n      paddingleft: 0, // keep right padding when drawer closed\n      paddingRight: 4, // keep right padding when drawer closed\n    },\n    toolbarIcon: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      padding: '0 8px',\n      ...theme.mixins.toolbar,\n    },\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n    },\n    appBarShift: {\n      marginLeft: drawerWidth,\n      width: `calc(100% - ${drawerWidth}px)`,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    menuButton: {\n      marginRight: 5,\n    },\n    menuButtonHidden: {\n      display: 'none',\n    },\n    title: {\n      flexGrow: 1,\n    },\n    appBarSpacer: theme.mixins.toolbar,\n    content: {\n      flexGrow: 1,\n      height: '100vh',\n      overflow: 'auto',\n    },\n    container: {\n      paddingTop: theme.spacing(4),\n      paddingBottom: theme.spacing(4),\n    },\n    paper: {\n      padding: theme.spacing(2),\n      display: 'flex',\n      overflow: 'auto',\n      flexDirection: 'column',\n    },\n    fixedHeight: {\n      height: 240,\n    },\n  }));\n\n  export default useStyles;","import classNames from 'classnames'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport { Typography } from '@material-ui/core'\r\nimport Badge from '@material-ui/core/Badge';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\n\r\nimport { cartItems } from 'utils/utils'\r\nimport useStyles from './styles'\r\n\r\nconst Bar = () => {\r\n    const history = useHistory()\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch()\r\n    const cart = useSelector(state => state.cart.products)\r\n    const { parameters, openDrawer } = useSelector(state => state.state)\r\n    const toogleShowCart  = () => {\r\n        history.push(\"/\")\r\n        dispatch({ type: 'state/toogleShowCart' })\r\n    } \r\n    const toogleOpenDrawer  = () => dispatch({ type: 'state/toogleOpenDrawer' })\r\n    return (\r\n        <AppBar position=\"absolute\" className={classNames(classes.appBar, openDrawer && classes.appBarShift)}>\r\n            <Toolbar className={classes.toolbar}>\r\n            <IconButton\r\n                edge=\"start\"\r\n                color=\"inherit\"\r\n                aria-label=\"open drawer\"\r\n                onClick={toogleOpenDrawer}\r\n                className={classNames(classes.menuButton, openDrawer && classes.menuButtonHidden)}\r\n            ><MenuIcon /></IconButton>\r\n            <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\r\n                { parameters.name }\r\n            </Typography>\r\n            <IconButton color=\"inherit\" onClick={toogleShowCart}>\r\n                <Badge badgeContent={cartItems(cart)} color=\"secondary\">\r\n                <ShoppingCartIcon />\r\n                </Badge>\r\n            </IconButton>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}\r\n\r\nexport default Bar","import { makeStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    padding: 0,\n    '& .column': {\n      width: 120,\n      display: 'flex',\n      justifyContent: 'flex-end',\n      '& div': {\n        textAlign: 'center',\n        padding: 5\n      },\n    },\n    '& .icon-column': {\n      width: 60,\n      '& div': {\n        display: 'block',\n        textAlign: 'center'\n      }\n    }\n  },\n}))","import AddIcon from '@material-ui/icons/AddCircle';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { useDispatch } from 'react-redux'\n\nimport { formatNumber } from 'utils/utils'\nimport { useStyles} from '../style'\n\nconst OfferItem = ({ offer }) => {\n    const classes = useStyles();\n\tconst dispatch = useDispatch()\n    const handleClick = (offer) => {\n        dispatch({ type: 'cart/addProduct', payload: offer })\n    }\n    return (\n        <ListItem button className={classes.root}>\n            <ListItemText \n                primary={<span>{offer.description}</span>} \n            >\n            </ListItemText>\n            <>\n            <div className=\"column\" >\n                <div>{offer.quantity} Kg</div>\n            </div>\n            <div className=\"column\">\n                <div>{formatNumber(offer.price)} $</div>\n            </div>\n            <div className=\"icon-column\" onClick={(e) => handleClick(offer)}>\n                <ListItemIcon><AddIcon /></ListItemIcon>\n            </div>\n\n            </>\n        </ListItem>\n    )\n}\n\nexport default OfferItem","\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport { useStyles} from '../style'\n\nconst ProductListHeader = ({ product }) => {\n    const classes = useStyles();\n    return (\n        <ListItem button className={classes.root}>\n            <ListItemText \n                primary={ <div>\n                    <span className=\"descripcion\">Producto</span>\n                </div>} \n            />\n            <>\n            <div className=\"column\"><div>Peso</div></div>\n            <div className=\"column\"><div>Precio</div></div>\n            <div className=\"icon-column\"><div></div></div>\n            </>\n        </ListItem>\n    )\n}\n\nexport default ProductListHeader","\nimport { useSelector } from 'react-redux'\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport OfferItem from 'components/Offers/OfferItem'\nimport OffersHeader from 'components/Offers/OffersHeader'\n\nimport { useStyles } from './style'\n\nconst Offers = () => {\n    const classes = useStyles();\n    const offers = useSelector(state => state.state.offers)\n\n    return (\n        <div className={classes.root}>\n            <Divider light />\n            <OffersHeader />\n            <List component=\"nav\" aria-label=\"products-list\">\n                {offers.map((offer, key) => \n                    <OfferItem key={key} offer={offer} /> \n                )}\n            </List>\n      </div>\n    )\n}\n\nexport default Offers","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles((theme) => ({\n    root: {\n      backgroundColor: theme.palette.background.paper,\n      '& nav': {\n        padding: 0,\n        '& div': {\n          padding: 0,\n        }\n      }\n    },\n  }));","import { useState } from 'react'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Menu from '@material-ui/core/Menu'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useStyles } from './style'\n\nconst GroupMenu = () => {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const [anchorEl, setAnchorEl] = useState(null)  \n  const options = useSelector(state => state.product.departaments)\n  let selectedGroup = useSelector(state => state.state.selectedGroup) \n\n  const handleClickListItem = (event) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleMenuItemClick = (event, option) => {\n    setAnchorEl(null)\n    dispatch({ type: 'state/selectGroup', payload: option })\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  if(!selectedGroup && options[0]) {\n    selectedGroup = options[0]\n  }\n  return (\n    <div className={classes.root}>\n      <List component=\"nav\" aria-label=\"product-group\">\n        <ListItem\n          button\n          aria-haspopup=\"true\"\n          aria-controls=\"lock-menu\"\n          aria-label=\"Filtrar por \"\n          onClick={handleClickListItem}\n        >\n          <ListItemText primary=\"Grupo\" secondary={selectedGroup} />\n        </ListItem>\n      </List>\n      <Menu\n        id=\"lock-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        {options.map((option, key) => (\n          <MenuItem\n            key={key}\n            selected={option === selectedGroup.departament}\n            onClick={(event) => handleMenuItemClick(event, option)}\n          >\n            {option}\n          </MenuItem>\n        ))}\n      </Menu>\n    </div>\n  )\n}\n\n\nexport default GroupMenu","import { makeStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n  list: {\n    padding: 0,\n    '& .column': {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      width: 120,\n      '& div': {\n        textAlign: 'right',\n        paddingRight: 5\n      },\n      '& .MuiListItemIcon-root': {\n        padding:0,\n        minWidth: 0\n      },\n    }\n  },\n}))","\nimport AddIcon from '@material-ui/icons/AddCircle';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { useDispatch } from 'react-redux'\n\nimport { formatNumber } from 'utils/utils'\nimport { useStyles} from '../style'\n\nconst ProductItem = ({ product }) => {\n    const classes = useStyles();\n\tconst dispatch = useDispatch()\n    const handleClick = (product, price, quantity) => {\n        const data = {...product, price, quantity }\n        dispatch({ type: 'cart/addProduct', payload: data })\n    }\n    return (\n        <ListItem button className={classes.list}>\n            <ListItemText \n                primary={ <div>\n                    <span className=\"descripcion\">{product.description}</span>                 \n                </div>} \n            />\n            <>\n            <div className=\"column\" onClick={(e) => handleClick(product, product.price, 1)}>\n                <div>{formatNumber(product.price)}<span> $ </span></div>\n                <ListItemIcon ><AddIcon /></ListItemIcon>\n            </div>\n            <div className=\"column\" onClick={(e) => handleClick(product, product.price_2, 0.5)}>\n                <div>{formatNumber(product.price_2)}<span> $ </span></div>\n                <ListItemIcon><AddIcon /></ListItemIcon>\n            </div>\n            <div className=\"column\" onClick={(e) => handleClick(product, product.price_3, 0.25)}>\n                <div>{formatNumber(product.price_3)}<span> $ </span></div>\n                <ListItemIcon><AddIcon /></ListItemIcon>\n            </div>\n            </>\n        </ListItem>\n    )\n}\n\nexport default ProductItem","\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport { useStyles} from '../style'\n\nconst ProductListHeader = ({ product }) => {\n    const classes = useStyles();\n    return (\n        <ListItem button className={classes.list}>\n            <ListItemText \n                primary={ <div>\n                    <span className=\"descripcion\">Producto</span>\n                </div>} \n            />\n            <>\n            <div className=\"column\"><div>1 Kg</div></div>\n            <div className=\"column\"><div>0,5 Kg</div></div>\n            <div className=\"column\"><div>0,25 Kg</div></div>\n            </>\n        </ListItem>\n    )\n}\n\nexport default ProductListHeader","import List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\n\nimport ProductItem from 'components/Products/ProductItem'\nimport ProductListHeader from 'components/Products/ProductListHeader'\n\nimport { useStyles } from '../style'\n\nconst ProductList = ({ products }) => {\n    const classes = useStyles();\n    \n    return (\n        <div className={classes.root}>\n            <List component=\"nav\" aria-label=\"products-list\">\n                <ProductListHeader />\n                <Divider light />\n                {products.map((product, key) => \n                    <ProductItem key={key} product={product} /> \n                )}\n            </List>\n      </div>)\n}\n\nexport default ProductList","import { useSelector } from 'react-redux'\nimport GroupMenu from 'components/GroupMenu'\nimport ProductList from 'components/Products/ProductList'\n\nconst Products = () => {\n    const products = useSelector(state => state.product.products)\n    const selected = useSelector(state => state.state.selectedGroup)\n    const filtered = products.filter(product=> product.departament === selected)\n    return (\n        <div className=\"w-full\">\n            <GroupMenu />\n            <ProductList products={filtered} />\n        </div>\n    )\n}\n\nexport default Products","import { makeStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    padding: 0,\n    '& .column': {\n      display: 'flex',\n      justifyContent: 'flex-end',\n      width: 120,\n      '& div': {\n        textAlign: 'center',\n        padding: 5\n      },\n    },\n    '& .icon-column': {\n      width: 60,\n      cursor: 'pointer',\n      '& div': {\n        display: 'block',\n        textAlign: 'center'\n      }\n    }\n  },\n  button: {\n    margin: '10px 10px 10px 0'\n  }\n}))","import RemoveIcon from '@material-ui/icons/RemoveCircle';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { useDispatch } from 'react-redux'\n\nimport { formatNumber } from 'utils/utils'\nimport { useStyles} from 'components/ShoppingCart/style'\n\nconst ShopppingCartItem = ({ product }) => {\n    const classes = useStyles();\n\tconst dispatch = useDispatch()\n    const remove  = () => dispatch({ type: 'cart/removeProductItem', payload: product })\n\n    return (\n        <ListItem button className={classes.root}>\n            <ListItemText \n                primary={<span>{product.description}</span>} \n            />\n            <>\n            <div className=\"column\">\n                <div>{formatNumber(product.quantity)}</div>\n            </div>\n            <div className=\"column\">\n                <div>{formatNumber(product.price)}</div>\n                \n            </div>\n            <div className=\"icon-column\" onClick={remove} >\n                <ListItemIcon><RemoveIcon /></ListItemIcon>\n            </div>\n            </>\n        </ListItem>\n    )\n}\n\nexport default  ShopppingCartItem","import ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport { useStyles} from 'components/ShoppingCart/style'\n\nconst ShopppingCartItem = () => {\n    const classes = useStyles();\n\n    return (\n        <ListItem button className={classes.root}>\n            <ListItemText \n                primary={<span>Productos</span>} \n            />\n            <>\n            <div className=\"column\">\n                <div>Kg</div>\n            </div>\n            <div className=\"column\">\n                <div>Precio<span> $</span></div>\n            </div>\n            <div className=\"icon-column\"/>\n            </>\n        </ListItem>\n    )\n}\n\nexport default  ShopppingCartItem","import { makeStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    padding: 0,\n    justifyContent: 'flex-end',\n    '& .total-row': {\n      display: 'flex',\n      textAlign: 'right',\n      '& .amount': {\n        width: 100,\n        '& div': {\n          padding: 5\n        },\n        '& .MuiListItemIcon-root': {\n          minWidth: 0\n        },\n      }\n    },\n  },\n}))","import { useSelector } from 'react-redux'\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nimport { useStyles} from './style'\nimport { formatNumber, totalize, cartTotal } from 'utils/utils'\n\nconst PaymentTotal = () => {\n    const classes = useStyles();\n    const cart = useSelector(state => state.cart.products)\n    const payments = useSelector(state => state.payment.payments)\n    const total = cartTotal(cart)\n    const totalAmount = totalize(payments, 'amount')\n    const balance = total - totalAmount\n    return (\n        <>\n        <ListItem className={classes.root}>\n            <ListItemText \n                className={classes.root}\n                primary={<><span>Total Pagos: </span></>} \n            />\n            <>\n            <div className=\"column\"></div>\n            <div className=\"column\">\n                <div className=\"total\">{formatNumber(totalAmount)}</div>\n            </div> \n            <div className=\"icon-column\"></div> \n            </>\n        </ListItem>\n        <ListItem className={classes.root}>\n            <ListItemText \n                className={classes.root}\n                primary={<><span>Saldo: </span></>} \n            />\n            <>\n            <div className=\"column\"></div>\n            <div className=\"column\">\n                <div className=\"total\">{formatNumber(balance)}</div>\n            </div> \n            <div className=\"icon-column\"></div> \n            </>\n        </ListItem>\n        </>\n    )\n}\n\nexport default PaymentTotal\n","import { makeStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme) => ({\n  root: {\n    padding: 0,\n    justifyContent: 'flex-end',\n    '& .total-row': {\n      display: 'flex',\n      textAlign: 'right',\n      '& .amount': {\n        width: 100,\n        '& div': {\n          padding: 5\n        },\n        '& .MuiListItemIcon-root': {\n          minWidth: 0\n        },\n      }\n    },\n  },\n}))","import { useSelector } from 'react-redux'\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport PaymentTotal from 'components/Payments/PaymentTotal';\n\nimport { useStyles} from './style'\nimport { cartItems, cartKg, cartTotal, formatNumber } from 'utils/utils'\n\nconst ShoppingCartTotal = () => {\n    const classes = useStyles();\n    const cart = useSelector(state => state.cart.products)\n    const kg = cartKg(cart)\n    const items = cartItems(cart)\n    const total = cartTotal(cart)\n\n    return (<>\n        <ListItem className={classes.root}>\n            <ListItemText \n                className={classes.root}\n                primary={<><span>Total Pedido: </span><span>({items})</span></>} \n            />\n            <>\n                <div className=\"column\">\n                    <div className=\"total\">{formatNumber(kg)}</div>\n                </div> \n                <div className=\"column\">\n                    <div className=\"total\">{formatNumber(total)}</div>\n                </div> \n                <div className=\"icon-column\">\n                </div> \n\n            </>\n        </ListItem>\n        <PaymentTotal />\n    </>)\n}\n\nexport default ShoppingCartTotal","import { makeStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme) => {\n  return ({\n    root: {\n    },\n    table: {\n      minWidth: 650,\n      '& tfoot': {\n        '& td': {\n          //color: 'white',\n          fontSize: '1.2em',\n         // backgroundColor: theme.palette.primary.main,\n        }\n      }\n    },\n    button: {\n      margin: theme.spacing(1),\n    }\n  })\n});","import { useSelector, useDispatch } from 'react-redux'\n\nimport Paper from '@material-ui/core/Paper';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport RemoveIcon from '@material-ui/icons/RemoveCircle';\n\nimport { useStyles } from './style'\nimport { formatNumber } from 'utils/utils'\n\nconst Payments = () => {\n    const classes = useStyles()\n    const dispatch = useDispatch()\n    const payments = useSelector(state => state.payment.payments)\n\n    const removePayment = (key) => dispatch({ type: 'payment/removePayment', payload: key })\n\n    return(\n    <TableContainer component={Paper}>\n    <Table className={classes.table} size=\"small\" aria-label=\"a dense table\">\n        <TableHead>\n            <TableRow>\n                <TableCell align=\"left\">Tipo</TableCell>\n                <TableCell align=\"right\">Monto $</TableCell>\n                <TableCell align=\"right\">Monto Bs.</TableCell>\n                <TableCell align=\"left\">Detalles</TableCell>\n                <TableCell></TableCell>\n            </TableRow>\n        </TableHead>\n        <TableBody>\n            {payments.map((payment,key ) => (\n                <TableRow key={key}>\n                <TableCell align=\"left\">{payment.payment_type}</TableCell>\n                <TableCell align=\"right\">{formatNumber(payment.amount)}</TableCell>\n                <TableCell align=\"right\">{formatNumber(payment.amountBs)}</TableCell>\n                <TableCell align=\"left\">{payment.details}</TableCell>\n                <TableCell align=\"left\" style={{ cursor: 'pointer'}} onClick={() => removePayment(key)}><RemoveIcon /></TableCell>\n                </TableRow>\n            ))}\n        </TableBody>\n        \n    </Table>\n    </TableContainer>\n    )\n}\n\nexport default Payments","import { makeStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme) => ({\n  formControl: {\n      margin: theme.spacing(1),\n      marginLeft: 0,\n    },\n  }));\n  ","import { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport TextField from '@material-ui/core/TextField';\nimport { useStyles } from './style'\n\nimport { paymentTypes, defaultPayment } from 'store/mockups/settings.json'\n\nconst AddPayment = () => {\n    const classes = useStyles();\n    const dispatch = useDispatch()\n    const [values, setValues] = useState(defaultPayment)\n\n    const open = useSelector(state => state.payment.open)\n    const { exchange } = useSelector(state => state.state.parameters)\n\n    const toggleOpen = () => \n        dispatch({ type: 'payment/toogleOpen' })\n\n    const addPayment = (data) => {\n        let amount = 0\n        let amountBs = 0\n        if(paymentTypes[values.payment_type].currency === '$') {\n            amount = values.amount\n            amountBs = values.amount * exchange\n        } else {\n            amountBs = values.amount\n            amount = values.amount / exchange\n        }\n        dispatch({ type: 'payment/addPayment', payload:  {...values, amount, exchange: exchange, amountBs}})\n        toggleOpen()\n    }\n\n    useEffect(()=>{\n        setValues(defaultPayment)\n    }, [open])\n\n    const handleChange = (prop) => (event) => {\n        setValues({ ...values, [prop]: event.target.value });\n    };\n\n    return (\n    <Dialog open={open} onClose={toggleOpen} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Aadir Pagos</DialogTitle>\n        <DialogContent>\n            <DialogContentText>\n                Por favor aada los datos del pago\n            </DialogContentText>\n            <FormControl className={classes.formControl}>\n                <Select\n                    value={values.payment_type || ''}\n                    onChange={handleChange('payment_type')}\n                    className={classes.selectEmpty}\n                    inputProps={{ 'aria-label': 'Without label' }}\n                >\n                    {Object.keys(paymentTypes).map(key => \n                        <MenuItem value={key} key={key}>{key}</MenuItem>\n                    )}\n                </Select>\n            </FormControl>\n            <FormControl fullWidth className={classes.margin}>\n                <InputLabel htmlFor=\"standard-adornment-amount\">Amount</InputLabel>\n                <Input\n                    id=\"standard-adornment-amount\"\n                    value={values.amount || ''}\n                    onChange={handleChange('amount')}\n                    startAdornment={<InputAdornment position=\"start\">{paymentTypes[values.payment_type].currency}</InputAdornment>}\n                />\n            </FormControl>\n            <TextField\n                    id=\"name\"\n                    autoFocus\n                    margin=\"dense\"\n                    value={values.details || ''}\n                    onChange={handleChange('details')}\n                    label={paymentTypes[values.payment_type].detailsLabel}\n                    type={paymentTypes[values.payment_type].detailsType}\n                    fullWidth\n            />\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={toggleOpen} color=\"secondary\">Cancelar</Button>\n            <Button onClick={addPayment} color=\"primary\">Agregar</Button>\n        </DialogActions>\n    </Dialog>\n    )\n}\n\nexport default AddPayment","import { makeStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme) => {\n  return ({\n    header: {\n      margin: theme.spacing(2),\n      display: 'flex',\n      justifyContent: 'space-between',\n      backgroundColor: '#f1f1f1',\n      '& .bold': {\n        fontSize: 20,\n        fontWeight: 600,\n        textAlign: 'right'\n      },\n      '& .column-link': {\n        textAlign: 'left'\n      },\n      '& .column-right': {\n        textAlign: 'right',\n        '& h3': {\n          textAlign: 'end'\n        }\n      }\n    },\n    fonts: {\n      bold: {\n        fontSize: 12,\n        fontWeight: 600\n      }\n    },\n    table: {\n      width: 'calc(100% - 30px)',\n      textAlign: 'left',\n      margin: theme.spacing(2),\n      borderCollapse: 'collapse',\n      fontFamily: 'Arial, Helvetica, sans-serif',\n      border: '1px solid #1C6EA4',\n      // backgroundColor: '#EEEEEE',\n      '& thead': {\n        border: '1px solid #1C6EA4',\n        backgroundColor: '#EEEEEE'\n      },\n      '& .footer': {\n        border: '1px solid #1C6EA4',\n        backgroundColor: '#EEEEEE'\n      },\n      '& td': {\n        textAlign:'right',\n        paddingRight: theme.spacing(1),\n      },\n      '& th': {\n        textAlign:'right',\n        paddingRight: theme.spacing(1),\n      },\n      '& td.left': {\n          textAlign:'left'\n      },\n      '& th.left': {\n        textAlign:'left'\n      },\n      '& tfoot': {\n        '& td': {\n          //color: 'white',\n          fontSize: '1.2em',\n         // backgroundColor: theme.palette.primary.main,\n        }\n      }\n    },\n  })\n});\n\n/*#\ntable.invoice {\n ;\n \n \n  \n  \n  \n}\ntable.invoice td, table.invoice th {\n  border: 1px solid #AAAAAA;\n  padding: 5px 2px;\n}\ntable.invoice tbody td {\n  font-size: 14px;\n}\ntable.invoice thead {\n  background: #000000;\n  background: -moz-linear-gradient(top, #404040 0%, #191919 66%, #000000 100%);\n  background: -webkit-linear-gradient(top, #404040 0%, #191919 66%, #000000 100%);\n  background: linear-gradient(to bottom, #404040 0%, #191919 66%, #000000 100%);\n  border-bottom: 2px solid #444444;\n}\ntable.invoice thead th {\n  font-size: 16px;\n  font-weight: bold;\n  color: #FFFFFF;\n  text-align: left;\n  border-left: 2px solid #D0E4F5;\n}\ntable.invoice thead th:first-child {\n  border-left: none;\n}\n\ntable.invoice tfoot {\n  font-size: 16px;\n  font-weight: bold;\n  color: #FFFFFF;\n  background: #96A5B1;\n  background: -moz-linear-gradient(top, #b0bbc4 0%, #a0aeb8 66%, #96A5B1 100%);\n  background: -webkit-linear-gradient(top, #b0bbc4 0%, #a0aeb8 66%, #96A5B1 100%);\n  background: linear-gradient(to bottom, #b0bbc4 0%, #a0aeb8 66%, #96A5B1 100%);\n}\ntable.invoice tfoot td {\n  font-size: 16px;\n}*/","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport {formatNumber, formatInvoiceNumber, formatDate, totalize } from 'utils/utils'\nimport { useStyles } from './style'\n\nconst InvoiceHeader = () => {\n  const classes = useStyles();\n  const { parameters } = useSelector(state => state.state)\n  const { invoice } = useSelector(state => state.document)\n  const totalInvoice = totalize(invoice.details, 'price') * parameters.exchange\n  if(totalInvoice===0)  return null \n  return (\n    <div>\n    <div className={classes.header}>\n      <div>\n        <h2>{parameters.name}</h2>\n        <h3>{parameters.tax_id}</h3>\n        <div>{parameters.address}</div>\n      </div>\n      <div className='column-right'>\n        <h3>Nota de entrega: <span className='bold'>{formatInvoiceNumber(invoice.number)}</span></h3>\n        <h3>Fecha de emision: {formatDate(new Date(invoice.date))}</h3>\n      </div>\n  </div>\n  <div className={classes.header}>\n  <div>\n    <h3>RIF :{invoice.person.tax_id}</h3>\n    <h3>Nombre / Razon social: {invoice.person.firstname} {invoice.person.lastname}</h3>\n    <h3>Direccion: {invoice.person.address} {invoice.person.city}</h3>\n    <h3><span>Telefono: {invoice.person.phone}</span> <span>Email: {invoice.person.email}</span></h3>\n  </div>\n  </div>\n  <hr></hr>\n  <table className={classes.table}>\n    <thead>\n    <tr>\n      <th className='left'>Descripcion</th>\n      <th>Cantidad</th>\n      <th>Unidad</th>\n      <th>Precio Unitario</th>\n      <th>Neto</th>\n    </tr>\n    </thead>\n    <tfoot className='footer'>\n      <tr>\n        <td className='left'>Totales</td>\n        <td></td>\n        <td></td>\n        <td></td>\n        <td>{formatNumber(totalInvoice)}</td>\n      </tr>\n    </tfoot>\n    <tbody>\n      {invoice.details.map((product, key) => \n        <tr key={key}>\n            <td className='left'>{product.description}</td>\n            <td>{product.quantity}</td>\n            <td>{'Kg.'}</td>\n            <td>{\n              formatNumber(product.price * parameters.exchange)\n            }</td>\n            <td>{\n              formatNumber(product.price * parameters.exchange)\n            }</td>\n        </tr>\n      )}\n    </tbody>\n    </table>\n</div>\n\n\n  )\n\n}\n\nexport default class Invoice extends React.PureComponent {\n    render() {\n      return <div><InvoiceHeader /></div>\n    }\n}\n","import axios from 'axios';\n\nexport const api = axios.create({\n  baseURL: `/api/v1/`\n});","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport { api } from 'api'\r\n\r\nfunction sleep(delay = 0) {\r\n    return new Promise((resolve) => {\r\n      setTimeout(resolve, delay);\r\n    });\r\n  }\r\n\r\nconst Search = ({label, field, url, onChange}) => {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [options, setOptions] = React.useState([]);\r\n  const loading = open && options.length === 0;\r\n\r\n  React.useEffect(() => {\r\n    let active = true;\r\n\r\n    if (!loading) {\r\n      return undefined;\r\n    }\r\n\r\n    (async () => {\r\n      await sleep(100); \r\n      const response = await  api(url)\r\n      const persons = await response.data.data\r\n      if (active)  setOptions(persons)\r\n    })();\r\n\r\n    return () => {\r\n      active = false;\r\n    };\r\n  }, [loading, url]);\r\n\r\n  React.useEffect(() => {\r\n    if (!open) {\r\n      setOptions([]);\r\n    }\r\n  }, [open]);\r\n\r\n  const toggleOpen = () => setOpen(!open)\r\n\r\n  return (\r\n    <Autocomplete\r\n      id=\"search\"\r\n      open={open}\r\n      loading={loading}\r\n      options={options}\r\n      onOpen={toggleOpen}\r\n      onClose={toggleOpen}\r\n      style={{ width: '100%' }}\r\n      getOptionLabel={(option) => option.firstname}\r\n      onChange={(event, newValue) => onChange(newValue) }\r\n      getOptionSelected={(option, value) => option[field] === value[field]}\r\n      renderInput={(params) => (\r\n        <TextField\r\n          {...params}\r\n          label={label}\r\n          variant=\"outlined\"\r\n          onChange={onChange}\r\n          InputProps={{\r\n            ...params.InputProps,\r\n            endAdornment: (\r\n              <React.Fragment>\r\n                {loading && <CircularProgress color=\"inherit\" size={20} /> }\r\n                {params.InputProps.endAdornment}\r\n              </React.Fragment>\r\n            ),\r\n          }}\r\n        />\r\n      )}\r\n    />\r\n  );\r\n}\r\n\r\nexport default Search","import { makeStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme) => {\n  return ({\n    root: {\n      display: 'flex',\n      flexWrap: 'wrap',\n    },\n    textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n    //  width: '20ch',\n    },\n    table: {\n      minWidth: 650,\n      '& tfoot': {\n        '& td': {\n          //color: 'white',\n          fontSize: '1.2em',\n         // backgroundColor: theme.palette.primary.main,\n        }\n      }\n    },\n    button: {\n      margin: theme.spacing(1),\n    }\n  })\n});","import { useSelector, useDispatch } from 'react-redux'\nimport TextField from '@material-ui/core/TextField';\nimport { validate } from 'utils/utils'\nimport Search from 'components/Search';\n\nimport { useStyles } from './style'\nimport { invoiceFormFields } from 'store/mockups/settings.json'\n\nconst InvoiceForm = () => {\n    const classes = useStyles();\n    const dispatch = useDispatch()\n    const { person } = useSelector(state => state.document.data)\n    const { errors } = useSelector(state => state.document)\n\n    const handleChange = (event) => {\n        const target = event.target\n        const newData = { ...person, [target.name]: target.value }\n        const newErrors = validate(invoiceFormFields, {...newData})\n        dispatch({ type: 'document/setPerson', payload:  newData })\n        dispatch({ type: 'document/setErrors', payload:  newErrors })\n    };\n\n    const selectPerson = (data) => {\n        const newValues = {...person}\n        Object.keys(invoiceFormFields).map(key => {\n            if(data===null) {\n                newValues[key] = ''\n            } else if(data[key]) {\n                newValues[key] = data[key]\n            }\n            return null\n        })\n        dispatch({ type: 'document/setPerson', payload:  newValues })\n    }\n\n    return (\n        <div>\n            <Search \n                url='/persons' \n                field='firstname'\n                label='Buscar Cliente'\n                onChange={selectPerson}\n            />\n            <form className={classes.root} noValidate autoComplete=\"off\">                \n                {Object.keys(invoiceFormFields).map(key => {\n                    const error = errors[key]\n                    const helperText = error ? \n                        error :\n                        invoiceFormFields[key].helperText\n                    return (\n                        <TextField\n                            key={key}\n                            name={key}\n                            size='medium'\n                            margin=\"normal\"\n                            value={person[key] || ''}\n                            style={{ margin: 8 }}\n                            onChange={handleChange}\n                            InputLabelProps={{ shrink: true }}\n                            label={invoiceFormFields[key].label}\n                            helperText={helperText || ''}\n                            fullWidth={invoiceFormFields[key].fullWidth || false}\n                            placeholder={invoiceFormFields[key].placeholder || ''}\n                            error={error}\n                        /> \n                    )\n                }\n                )}\n            </form>\n        </div>\n    )\n}\n\nexport default InvoiceForm","export const initialState = {\n    loading: 'idle', \n    response: {}, \n    errors: {},\n    showErrors: false,\n    data: {\n      person: {},\n      header: {},\n      products: [],\n    },\n    invoice: {\n      readyToPrint: false\n    },\n  }\n  \nexport const reducers = {\n    setPerson: ( state, action ) => {\n      const newData={...state.data}\n      newData.person = action.payload\n      return {...state, data: newData}\n    },\n\n    setHeader: ( state, action ) => {\n      const newData={...state.data}\n      newData.header = action.payload\n      return {...state, data: newData}\n    },\n\n    setProducts: ( state, action ) => {\n      const newData={...state.data}\n      newData.products = action.payload\n      return {...state, data: newData}\n    },\n\n    setErrors: ( state, action ) => {\n      return {...state, errors: {...action.payload}}\n    },\n\n    setShowErrors: ( state, action ) => {\n      return {...state, showErrors: {...action.payload}}\n    },\n\n    setInvoice: ( state, action ) => {\n      const newData={...state}\n      newData.invoice = action.payload\n      newData.invoice.readyToPrint = true \n      return {...newData }\n    },\n\n    setInvoices: ( state, action ) => {\n      const newData={...state}\n      newData.invoices = action.payload\n      return {...newData }\n    },\n\n    clearInvoice: ( state, action ) => {\n      const newData={...state}\n      newData.invoice = { readyToPrint: false}\n      return {...newData }\n    },\n\n    clear: (state, action) => (initialState)\n\n}","import { getDefaultMiddleware, createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { api } from 'api'\n\nimport { reducers, initialState } from 'store/reducers/documentReducers'\n\nexport const saveDocument = createAsyncThunk(\n   'document/saveDocument',\n      async (data, thunkAPI) => {\n      const { dispatch } = thunkAPI      \n      const response = await api.post('/documents', data)\n      console.log(response)\n      dispatch({ type: 'cart/clear' })\n      return { ...data.document }\n    }\n)\n\nexport const saveInvoice = createAsyncThunk(\n  'document/saveInvoice',\n     async (data, thunkAPI) => {\n     const { dispatch } = thunkAPI      \n     const response = await api.post('/invoices', data)\n     dispatch({ type: 'cart/clear' })\n     dispatch({ type: 'payment/clear' })\n     dispatch({ type: 'document/clear' })\n     dispatch({ type: 'document/setInvoice', payload: response.data.data })\n     return { ...data.document }\n   }\n)\n\nexport const getInvoice = createAsyncThunk(\n  'document/getInvoice',\n     async (id, thunkAPI) => {\n     const { dispatch } = thunkAPI      \n     const response = await api.get(`/invoices/${id}`)\n     dispatch({ type: 'document/setInvoice', payload: response.data.data })\n     return null\n   }\n)\n\nexport const getInvoicesDates = createAsyncThunk(\n  'document/getInvoicesDates',\n     async (data, thunkAPI) => {\n     const { dispatch } = thunkAPI      \n     const response = await api.get(`/invoices/dates?from=${data.from}&to=${data.to}`)\n     dispatch({ type: 'document/setInvoices', payload: response.data.data })\n     return null\n   }\n)\n\nexport default createSlice({\n    name: 'document',\n    initialState: initialState,\n    reducers,\n    extraReducers: {\n        [saveDocument.fulfilled]: (state, action) => {\n         // const data = {...action.payload}\n         // return ({...data})\n         return {...state}\n        },\n        [saveDocument.rejected]: (state, action) => {\n          return {...initialState}\n        },\n        [saveInvoice.fulfilled]: (state, action) => {\n          return {...state}\n         },\n         [saveInvoice.rejected]: (state, action) => {\n           return {...initialState}\n         },\n         [getInvoice.fulfilled]: (state, action) => {\n          return {...state}\n         },\n         [getInvoice.rejected]: (state, action) => {\n           return {...initialState}\n         } \n    },\n    middleware: [...getDefaultMiddleware()],\n  })","import { useRef, useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useReactToPrint } from 'react-to-print';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Button from '@material-ui/core/Button';\nimport Invoice from 'components/Invoice/Invoice'\nimport InvoiceForm from 'components/Invoice/InvoiceForm'\nimport { validate } from 'utils/utils'\nimport { invoiceFormFields } from 'store/mockups/settings.json'\nimport { saveInvoice } from 'store/slices/documentSlice'\n\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst OpenInvoiceForm = () => {\n    const componentRef = useRef();\n    const dispatch = useDispatch()\n    const { products } = useSelector(state => state.cart)\n    const { payments } = useSelector(state => state.payment)\n    const { person } = useSelector(state => state.document.data)\n    const { readyToPrint } = useSelector(state => state.document.invoice)\n    const [hasErrors, setHasErrors] = useState(false)\n    const data = useSelector(state => state.document.data)\n    const { showInvoiceForm } = useSelector(state => state.state)\n\n    const doPrint = useReactToPrint({\n        content: () => componentRef.current,\n    });\n\n    useEffect(() => {\n        if(readyToPrint) {\n            doPrint()\n            toggleOpen()\n            dispatch({ type: 'document/clearInvoice' })\n        }\n    // eslint-disable-next-line \n    }, [readyToPrint])\n\n\n    const printInvoice = () => { \n        const errors = validate(invoiceFormFields, {...data.person})\n        if(Object.keys(errors).length > 0) {\n            setHasErrors(true)\n            dispatch({ type: 'document/showErrors', payload: true })\n        } else {\n            setHasErrors(false)\n            dispatch(saveInvoice({\n                person,\n                products,\n                payments\n            }))\n        }\n    }\n\n    const toggleOpen  = () => dispatch({ type: 'state/toogleShowInvoiceForm' })\n\n    return (\n    <Dialog open={showInvoiceForm} onClose={toggleOpen} aria-labelledby=\"form-dialog-title\">\n        <DialogTitle id=\"form-dialog-title\">Datos del Cliente</DialogTitle>\n        <DialogContent>\n            <InvoiceForm />\n            <div style={{ display: \"none\" }}><Invoice  ref={componentRef} /></div>\n        </DialogContent>\n        <DialogActions>\n            <Button onClick={toggleOpen} color=\"secondary\">Cancelar</Button>\n            <Button onClick={printInvoice} color=\"primary\">Imprimir</Button>\n        </DialogActions>\n        <Snackbar open={hasErrors} autoHideDuration={6000} >\n                <Alert severity=\"error\" onClose={() => setHasErrors(false)}>El formulario presenta errores o no esta completo</Alert>\n        </Snackbar>\n    </Dialog>\n    )\n}\n\n\nexport default OpenInvoiceForm","import { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport PaymentIcon from '@material-ui/icons/Payment';\nimport InvoiceIcon from '@material-ui/icons/Receipt';\n\nimport ShoppingCartItem from 'components/ShoppingCart/ShoppingCartItem'\nimport ShoppingCartHeader from 'components/ShoppingCart/ShoppingCartHeader'\nimport ShoppingCartTotal from 'components/ShoppingCart/ShoppingCartTotal';\nimport Payments from 'components/Payments/PaymentList'\nimport AddPayment from 'components/Payments/AddPayment'\nimport OpenInvoiceForm from 'components/Invoice/OpenInvoiceForm';\n\nimport { totalize, cartTotal } from 'utils/utils'\n\nimport { useStyles } from './style'\nfunction Alert(props) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n  }\n\nconst ShoppingCart = () => {\n    const classes = useStyles();\n    const dispatch = useDispatch()\n    const [openAlert, setOpenAlert] = useState(false)\n   \n    const cart = useSelector(state => state.cart.products)\n    const payments = useSelector(state => state.payment.payments)\n    const products = useSelector(state => state.cart.products)\n    const total = cartTotal(cart)\n    const totalAmount = totalize(payments, 'amount')\n    const balance = total - totalAmount\n    const toggleOpen = () => dispatch({ type: 'payment/toogleOpen' })\n\n    const toggleOpenInvoice  = () => {\n        if(balance <= 0) {\n            dispatch({ type: 'state/toogleShowInvoiceForm' })\n        } else {\n            setOpenAlert(true)\n        }\n    }\n\n    return (\n        <div className={classes.root}>\n            <List component=\"nav\" aria-label=\"products-list\">\n                <ShoppingCartHeader />\n                <Divider light />\n                {products.map((product, key) => \n                    <ShoppingCartItem key={key} product={product} /> \n                )}\n                <Divider light />\n                <ShoppingCartTotal />\n            </List>\n            <Button\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.button}\n                endIcon={<PaymentIcon />}\n                onClick={toggleOpen}\n            >Agregar pago</Button>\n            <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                className={classes.button}\n                endIcon={<InvoiceIcon />}\n                onClick={toggleOpenInvoice}\n            >Emitir Factura</Button>\n            <AddPayment />\n            <Payments />\n            <OpenInvoiceForm />\n            <Snackbar open={openAlert} autoHideDuration={6000} >\n                <Alert severity=\"error\" onClose={() => setOpenAlert(false)}>El monto de los pagos no es suficiente</Alert>\n            </Snackbar>\n      </div>)\n}\n\nexport default ShoppingCart\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    heading: {\n      fontSize: theme.typography.pxToRem(15),\n      fontWeight: theme.typography.fontWeightRegular,\n    },\n  }));\n  ","import { useSelector, useDispatch } from 'react-redux'\nimport { Accordion } from '@material-ui/core'\nimport { AccordionSummary } from '@material-ui/core'\nimport { AccordionDetails } from '@material-ui/core'\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport Offers from 'components/Offers'\nimport Products from 'components/Products'\n// import Invoice from 'components/Invoice/Invoice';\nimport ShoppingCart from 'components/ShoppingCart';\n\nimport { useStyles } from './style'\n\nexport default function Home() {\n  const classes = useStyles();\n  const dispatch = useDispatch()\n  const {\n    showCart,\n    showOffers,\n    showProducts,\n  } = useSelector(state => state.state)\n  const toogleShowCart  = () => dispatch({ type: 'state/toogleShowCart' })\n  const toogleShowOffers  = () => dispatch({ type: 'state/toogleShowOffers' })\n  const toogleShowProducts  = () => dispatch({ type: 'state/toogleShowProducts' })\n  return (\n    <div className={classes.root}>\n      <Accordion expanded={showOffers} onChange={toogleShowOffers}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"offers-content\"\n          id=\"offers-header\"\n        >\n          <Typography className={classes.heading}>Ofertas</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n           <Offers />\n        </AccordionDetails>\n      </Accordion>\n      <Accordion expanded={showProducts} onChange={toogleShowProducts}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"products-content\"\n          id=\"products-header\"\n        >\n          <Typography className={classes.heading}>Productos</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n            <Products />\n        </AccordionDetails>\n      </Accordion>\n      <Accordion expanded={showCart} onChange={toogleShowCart}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"order-content\"\n          id=\"order-header\"\n        >\n          <Typography className={classes.heading}>Pedido</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n            <ShoppingCart />\n        </AccordionDetails>\n      </Accordion>\n    </div>\n  );\n}\n","export const initialState = {\n    loading: 'idle', \n    response: {}, \n    errors: {},\n    showErrors: false,    \n    user: {},\n  }\n  \nexport const reducers = {\n    setErrors: ( state, action ) => {\n      return {...state, errors: {...action.payload}}\n    },\n\n    setShowErrors: ( state, action ) => {\n      return {...state, showErrors: {...action.payload}}\n    },\n\n    clear: (state, action) => (initialState)\n\n}","import { getDefaultMiddleware, createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { api } from 'api'\n\nimport { reducers, initialState } from 'store/reducers/authReducers'\n\nexport const userLogin = createAsyncThunk(\n   'auth/login',\n      async (data, thunkAPI) => {\n      // const { dispatch } = thunkAPI\n      const response = await api.post('/auth/login', {...data})\n      return { ...response.data }\n    }\n)\n\nexport default createSlice({\n    name: 'auth',\n    initialState: initialState,\n    reducers,\n    extraReducers: {\n        [userLogin.fulfilled]: (state, action) => {\n            const newState = {...state}\n            const { data } = {...action.payload}\n            newState.user = {...data}\n            newState.errors = {}\n            return {...newState}\n        },\n        [userLogin.rejected]: (state, action) => {\n            const newState = {...initialState}\n            newState.errors = { password: \"invalid username or password\" }\n            return {...newState}\n        }\n    },\n    middleware: [...getDefaultMiddleware()],\n  })","import { makeStyles } from '@material-ui/core/styles';\r\n  \r\nconst useStyles = makeStyles({\r\n    root: {\r\n      maxWidth: 345,\r\n      margin: 'auto',\r\n      '& .MuiFormControl-root': {\r\n        width: '100%'\r\n      },\r\n      '& .MuiCardActions-root' : {\r\n        justifyContent: 'flex-end'  \r\n      }\r\n    },\r\n  });\r\n\r\n  \r\nexport default useStyles","import React,{ useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\n\nimport { \n  Card, CardActions, CardContent, Button, Typography, TextField, Paper\n} from '@material-ui/core';\n\nimport { userLogin } from 'store/slices/authSlice'\nimport { validate } from 'utils/utils'\nimport useStyles from './styles.js'\n\nimport { loginFields } from 'store/mockups/settings.json'\n\nconst Login = () => {\n  const classes = useStyles()\n  const history = useHistory()\n  const dispatch = useDispatch() \n  const [data, setData] = useState({username: 'admin', password: 'password'})\n  const errors = validate(loginFields, {...data})\n  const { user } = useSelector(state => state.auth)\n  const loginErrors = useSelector(state => state.auth.errors)\n\n  useEffect(()=> {\n    if(user.username) {\n      history.push('/')\n    }\n    // eslint-disable-next-line \n  },[user.username])\n\n  const handleChange = (event) => {\n    const target = event.target\n    const newData = { ...data, [target.name]: target.value }\n    setData(newData)\n  }\n\n  const home = () =>  history.push(\"/\")\n\n  const login = () => {\n    dispatch(userLogin(data))   \n  } \n\n  return (\n    <Paper elevation={3} className={classes.root}>\n    <Card>\n      <CardContent>\n        <Typography component=\"h2\">\n          Login\n        </Typography>\n        <form noValidate autoComplete=\"off\">                \n          {Object.keys(loginFields).map(key => {\n              const error = errors[key] ? errors[key] :loginErrors[key]\n              const helperText = error ? \n                  error :\n                  loginFields[key].helperText\n                \n              return (\n                  <TextField\n                      key={key}\n                      name={key}\n                      size='medium'\n                      margin=\"normal\"\n                      value={data[key] || ''}\n                      onChange={handleChange}\n                      InputLabelProps={{ shrink: true }}\n                      label={loginFields[key].label}\n                      helperText={helperText || ''}\n                      type={loginFields[key].type}\n                      fullWidth={loginFields[key].fullWidth || false}\n                      placeholder={loginFields[key].placeholder || ''}\n                      error={!!error}\n                  /> \n              )\n          }\n          )}\n        </form>\n      </CardContent>\n      <CardActions className={classes.actions} >\n        <Button onClick={login}>Login</Button>\n        <Button onClick={home}>Cancelar</Button>\n      </CardActions>\n    </Card>\n    </Paper>\n  );\n}\n\nexport default Login","import { useDispatch, useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\n\nimport { ListItem, ListItemIcon,ListItemText }  from '@material-ui/core'\nimport { \n  ShoppingCart,\n  DeleteForever,\n  AccountCircle, \n  Store,\n  Receipt,\n  Settings\n} from '@material-ui/icons';\n\nconst ListItems = () => {\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.auth.user)\n  \n  const navigate = (url) => {\n    history.push(url)\n    dispatch({ type: 'state/toogleOpenDrawer' })\n  }\n\n  const open = () => {\n    dispatch({ type: 'state/toogleShowCart' })\n    navigate('/')\n  }\n\n  const clear = () => {\n    dispatch({ type: 'cart/clear' })\n    navigate('/')\n  }\n\n  const login = () => navigate(\"/login/\")\n\n  const logout = () => {\n    dispatch({ type: 'auth/clear' })\n    navigate('/')\n\n  }\n  \n  const products = () => navigate(\"/products/\")\n\n  const invoices = () => navigate(\"/invoices/\")\n\n  const summary = () => navigate(\"/summary/\")\n\n  const parameters = () => navigate(\"/parameters/\")\n\n  if(!user.active) {\n    return (\n    <div>\n       <ListItem button>\n        <ListItemIcon><ShoppingCart /></ListItemIcon>\n        <ListItemText primary=\"Visualizar pedido\" onClick={open}/>\n      </ListItem>\n      <ListItem button>\n        <ListItemIcon><DeleteForever /></ListItemIcon>\n        <ListItemText primary=\"Limpiar pedido\" onClick={clear} />\n      </ListItem>\n      <ListItem button>\n        <ListItemIcon><AccountCircle /></ListItemIcon>\n        <ListItemText primary=\"Login\" onClick={login} />\n      </ListItem>\n    </div>\n    )\n  }\n  return (\n    <div>\n      <ListItem button>\n        <ListItemIcon><DeleteForever /></ListItemIcon>\n        <ListItemText primary=\"Limpiar pedido\" onClick={clear} />\n      </ListItem>\n      <ListItem button>\n        <ListItemIcon><Store /></ListItemIcon>\n        <ListItemText primary=\"Actualizar productos\" onClick={products} />\n      </ListItem>\n      <ListItem button>\n        <ListItemIcon><Receipt /></ListItemIcon>\n        <ListItemText primary=\"Visualizar Facturas\" onClick={invoices} />\n      </ListItem>\n      <ListItem button>\n        <ListItemIcon><Receipt /></ListItemIcon>\n        <ListItemText primary=\"Resumen diario\" onClick={summary} />\n      </ListItem>\n      <ListItem button>\n        <ListItemIcon><Settings /></ListItemIcon>\n        <ListItemText primary=\"Configuraciones\" onClick={parameters} />\n      </ListItem>\n      <ListItem button>\n        <ListItemIcon><AccountCircle /></ListItemIcon>\n        <ListItemText primary=\"Logout\" onClick={logout} />\n      </ListItem>\n    </div>\n    )\n\n}\n\nexport default ListItems","import { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    toolbarIcon: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      padding: '0 8px',\n      ...theme.mixins.toolbar,\n    },\n    drawerPaper: {\n      position: 'relative',\n      whiteSpace: 'nowrap',\n      width: 240,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    drawerPaperClose: {\n      overflowX: 'hidden',\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      width: theme.spacing(7),\n      [theme.breakpoints.up('sm')]: {\n        width: theme.spacing(9),\n      },\n    },\n  }));\n\n  export default useStyles;","import { useSelector, useDispatch } from 'react-redux'\r\nimport classnames from 'classnames'\r\n\r\nimport ListItems from './ListItems';\r\nimport List from '@material-ui/core/List';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\n\r\nimport useStyles from './styles'\r\n\r\nconst LeftDrawer = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch()      \r\n    const { openDrawer } = useSelector(state => state.state)\r\n    const toogleOpenDrawer  = () => dispatch({ type: 'state/toogleOpenDrawer' })\r\n    return (\r\n        <Drawer\r\n            variant=\"temporary\"\r\n            anchor=\"left\"\r\n            classes={{\r\n                paper: classnames(classes.drawerPaper, !openDrawer && classes.drawerPaperClose),\r\n            }}\r\n            open={openDrawer}\r\n            >\r\n            <div className={classes.toolbarIcon}>\r\n            <IconButton onClick={toogleOpenDrawer}>\r\n                <ChevronLeftIcon />\r\n            </IconButton>\r\n            </div>\r\n            <Divider />\r\n            <List><ListItems /></List>\r\n        </Drawer>\r\n    )\r\n}\r\n\r\nexport default LeftDrawer","import { makeStyles } from '@material-ui/core/styles';\r\n  \r\nconst useStyles = makeStyles({\r\n    root: {\r\n      maxWidth: 345,\r\n      margin: 'auto',\r\n      '& .MuiFormControl-root': {\r\n        width: '100%'\r\n      },\r\n      '& .MuiCardActions-root' : {\r\n        justifyContent: 'flex-end'  \r\n      }\r\n    },\r\n  });\r\n\r\n  \r\nexport default useStyles","export const initialState = {\n    loading: 'idle', \n    showOffers: false, \n    showProducts: false, \n    showCart: false,\n    openDrawer: false,\n    showSnackbar: false,\n    showInvoiceForm: false,\n    showProductForm: false,\n    messages: []\n  }\n  \nexport const reducers = {\n    toogleShowCart: (state) => {\n    const newState = {...state}\n    newState.showCart = !newState.showCart\n    if(newState.showCart) {\n      newState.showOffers = false\n      newState.showProducts = false\n    }\n    return newState\n  },\n\n  toogleShowInvoiceForm: (state) => {\n    const newState = {...state}\n    newState.showInvoiceForm = !newState.showInvoiceForm\n    return newState\n  },\n\n  toogleShowOffers: (state) => {\n    const newState = {...state}\n    newState.showOffers = !newState.showOffers\n    if(newState.showOffers) {\n      newState.showCart = false\n      newState.showProducts = false\n    }\n    return newState\n  },\n\n  toogleShowProducts: (state) => {\n    const newState = {...state}\n    newState.showProducts = !newState.showProducts\n    if(newState.showProducts) {\n      newState.showCart = false\n      newState.showOffers = false\n    }\n    return newState\n  },\n\n  toogleOpenDrawer: (state) => {\n    const newState = {...state}\n    newState.openDrawer = !newState.openDrawer\n    return newState\n  },\n\n  toogleShowSnackBar: (state) => {\n    const newState = {...state}\n    newState.showSnackbar = !newState.showSnackbar\n    return newState\n  },\n\n  toogleOpenInvoiceForm: (state) => {\n    const newState = {...state}\n    newState.openInvoiceForm = !newState.openInvoiceForm\n    return newState\n  },\n\n  toogleOpenProductForm: (state) => {\n    const newState = {...state}\n    newState.showProductForm = !newState.showProductForm\n    return newState\n  },\n\n  addMessage: (state, action) => {\n    const newMessages = [...state.messages]\n    newMessages.push(action.payload)\n    return {state, messages: [...newMessages]}\n  },\n\n  removeMessage: (state, action) => {\n    const newMessages = [...state.messages]\n      .filter(s=> s.id!==action.payload.id )    \n    return {state, messages: [...newMessages]}\n  },\n\n  showAlert: ( state, action ) => {\n    const alert = {\n      message: action.payload.message,\n      severity: action.payload.severity || 'success'\n    }\n    return {...state, alert: {...alert}, showSnackbar: true }\n  },\n\n  selectGroup: ( state, action ) => {\n    const newState = {...state}\n    newState.selectedGroup = action.payload\n    return newState\n  },\n}","import { getDefaultMiddleware, createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { api } from 'api'\n\nimport { reducers, initialState } from 'store/reducers/stateReducers'\n\nexport const getData = createAsyncThunk(\n    'state/getData',\n    async (thunkAPI) => {\n      const offers = await api.get('/offers')\n      const parameters = await api.get('/parameters')\n      const selectedGroup = ''\n      return {\n        offers:offers.data.data,\n        parameters:parameters.data.data[0],\n        selectedGroup: selectedGroup\n      }\n    }\n)\n\nexport const updateParameters = createAsyncThunk(\n  'state/updateParameters',\n     async (data, thunkAPI) => {\n     const id = data.id\n     delete data.id\n     const response = await api.put(`/parameters/${id}`, data)\n     const result = response.data.data\n     return {...result}\n   }\n)\n\nexport default createSlice({\n    name: 'state',\n    initialState: { loading: 'loading' },\n    reducers,\n    extraReducers: {\n        [getData.fulfilled]: (state, action) => {\n          const data = {...action.payload}\n          return ({...data, ...initialState})\n        },\n        [getData.rejected]: (state, action) => {\n          return state\n        },\n        [updateParameters.fulfilled]: (state, action) => {\n          const newState = {...state}\n          newState.parameters = {...action.payload}\n         return {...newState}\n        },\n        [updateParameters.rejected]: (state, action) => {\n          return state\n        }\n    },\n    middleware: [...getDefaultMiddleware()],\n  })","import React,{ useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\n\nimport { \n  Card, CardActions, CardContent, Button, Typography, TextField, Paper\n} from '@material-ui/core';\n\nimport useStyles from './styles.js'\nimport { validate } from 'utils/utils'\nimport { updateParameters } from 'store/slices/stateSlice'\nimport { settingsFields } from 'store/mockups/settings.json'\n\nconst Settings = () => {\n  const classes = useStyles()\n  const history = useHistory()\n  const dispatch = useDispatch() \n  const [data, setData] = useState(null)\n  const parameters = useSelector(state => state.state.parameters)\n  const errors = validate(settingsFields, {...data})\n\n  useEffect(() => {\n    if(parameters) {\n      setData(parameters)\n    }\n  },[parameters])\n\n  const handleChange = (event) => {\n    const target = event.target\n    const newData = { ...data, [target.name]: target.value }\n    setData(newData)\n  }\n\n  const home = () =>  history.push(\"/\")\n\n  const guardar = () => {\n    if(Object.keys(errors).length===0) {\n      dispatch(updateParameters(data))\n      history.push(\"/\")\n    }\n  } \n\n  if(!data) return null\n  return (\n    <Paper elevation={3} className={classes.root}>\n    <Card>\n      <CardContent>\n        <Typography component=\"h2\">\n          Actualizar configuracion\n        </Typography>\n        <form noValidate autoComplete=\"off\">                \n          {Object.keys(settingsFields).map(key => {\n              const error = errors[key] ? errors[key] : '' //loginErrors[key]\n              const helperText = error ? error : settingsFields[key].helperText\n              return (\n                  <TextField\n                      key={key}\n                      name={key}\n                      size='medium'\n                      margin=\"normal\"\n                      value={data[key] || ''}\n                      onChange={handleChange}\n                      InputLabelProps={{ shrink: true }}\n                      label={settingsFields[key].label}\n                      helperText={helperText || ''}\n                      type={settingsFields[key].type}\n                      fullWidth={settingsFields[key].fullWidth || false}\n                      placeholder={settingsFields[key].placeholder || ''}\n                      error={!!error}\n                  /> \n              )\n          }\n          )}\n        </form>\n      </CardContent>\n      <CardActions className={classes.actions} >\n        <Button onClick={home}>Cancelar</Button>\n        <Button prima onClick={guardar}>Guardar</Button>\n      </CardActions>\n    </Card>\n    </Paper>\n  );\n}\n\nexport default Settings","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Route, Redirect } from \"react-router-dom\"\r\n\r\nconst PrivateRoute = ({ children, ...rest }) => {\r\n  const { user } = useSelector(state => state.auth)\r\n  return (\r\n      <Route \r\n        {...rest}\r\n        render={({ location }) => (user && user.active) ?\r\n          children :\r\n          (<Redirect\r\n            to={{\r\n              pathname: \"/login/\",\r\n              state: { from: location }\r\n            }}\r\n          />)\r\n        }\r\n      />  \r\n    )\r\n  }\r\n\r\nexport default PrivateRoute ","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200,\r\n  },\r\n}));\r\n\r\nexport default useStyles","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport useStyles from './style'\r\n\r\nexport default function SelectDate(props) {\r\n  const { open, toogleOpen, onConfirm, title } = props\r\n  const [date, setDate] = React.useState(props.date);\r\n\r\n  const handleChange = (value) => setDate(value)\r\n\r\n  const accept = () => {\r\n    toogleOpen()\r\n    onConfirm(date)\r\n  }\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        keepMounted\r\n        onClose={toogleOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-slide-description\">\r\n            <TextField\r\n              id=\"date\"\r\n              label=\"Fecha\"\r\n              type=\"date\"\r\n              value={date}\r\n              className={classes.textField}\r\n              onChange={(e) => handleChange(e.target.value)}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n            />\r\n            </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={toogleOpen} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          <Button onClick={accept} color=\"primary\">\r\n            Confimar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import { makeStyles, lighten } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n    },\r\n    paper: {\r\n      width: '100%',\r\n      marginBottom: theme.spacing(2),\r\n    },\r\n    table: {\r\n      minWidth: 750,\r\n    },\r\n    visuallyHidden: {\r\n      border: 0,\r\n      clip: 'rect(0 0 0 0)',\r\n      height: 1,\r\n      margin: -1,\r\n      overflow: 'hidden',\r\n      padding: 0,\r\n      position: 'absolute',\r\n      top: 20,\r\n      width: 1,\r\n    },\r\n    actions: {\r\n      margin: 0,\r\n      border: 'none',\r\n      display: 'flex'\r\n    },\r\n    container: {\r\n      maxHeight: '100vh',\r\n    }\r\n}))\r\n\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n    root: {\r\n      paddingLeft: theme.spacing(2),\r\n      paddingRight: theme.spacing(1), \r\n\r\n    },\r\n    highlight:\r\n      theme.palette.type === 'light'\r\n        ? {\r\n            color: theme.palette.secondary.main,\r\n            backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n          }\r\n        : {\r\n            color: theme.palette.text.primary,\r\n            backgroundColor: theme.palette.secondary.dark,\r\n          },\r\n    title: {\r\n      flex: '1 1 100%',\r\n    }\r\n}))\r\n\r\nconst useHeadStyles = makeStyles((theme) => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: theme.spacing(1), \r\n  },\r\n  title: {\r\n    textAlign: 'left'\r\n  }\r\n}))\r\n\r\nexport {\r\n  useStyles,\r\n  useHeadStyles,\r\n  useToolbarStyles\r\n}\r\n","import { TableCell,TableRow, TableHead } from '@material-ui/core'\r\nimport { Typography } from '@material-ui/core'\r\nimport { useHeadStyles } from './style'\r\n\r\nconst EnhancedTableHead = ({ headCells, title }) => {\r\n    const classes = useHeadStyles()\r\n    return (\r\n      <TableHead className={classes.root}>\r\n        <TableRow>\r\n          <TableCell component=\"th\" colSpan={5}>\r\n            <Typography variant=\"h6\">    \r\n            {title}\r\n            </Typography>\r\n          </TableCell>\r\n        </TableRow>\r\n        <TableRow>\r\n          {headCells.map((headCell) => (\r\n            <TableCell\r\n              key={headCell.id}\r\n              align={headCell.numeric ? 'right' : 'left'}\r\n              padding={headCell.disablePadding ? 'none' : 'default'}\r\n              colSpan={headCell.colSpan}\r\n            >{headCell.label}</TableCell>\r\n          ))}\r\n          <TableCell />\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n\r\nexport default EnhancedTableHead","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport { Print, FilterList } from '@material-ui/icons'\r\nimport { Toolbar, Typography, Tooltip, IconButton } from '@material-ui/core'\r\nimport SelectDate from 'components/SelectDate/SelectDate'\r\n\r\nimport { useToolbarStyles } from './style'\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const classes = useToolbarStyles()\r\n  const [open, setOpen] = React.useState(false)\r\n  const { print, selectDate, date } = props\r\n\r\n  const toogleDateOpen = () => setOpen(!open)\r\n  return (\r\n      <>\r\n      <Toolbar\r\n        className={classnames(classes.root)}\r\n      >\r\n        <Typography className={classes.title} variant=\"h5\" id=\"tableTitle\" component=\"div\">          \r\n          <span> Resumen diario</span>\r\n        </Typography>\r\n  \r\n        <Tooltip title=\"Imprimir\">\r\n            <IconButton aria-label=\"imprimir\" onClick={print}>\r\n              <Print  />\r\n            </IconButton>\r\n        </Tooltip>      \r\n\r\n        <Tooltip title=\"Seleccionar Fecha\">\r\n          <IconButton aria-label=\"filter list\" onClick={toogleDateOpen}>\r\n            <FilterList />\r\n          </IconButton>\r\n        </Tooltip>\r\n\r\n      </Toolbar>\r\n      <SelectDate    \r\n        open={open}\r\n        date={date}\r\n        toogleOpen={toogleDateOpen}\r\n        title=\"Por favor seleccione la fecha\"\r\n        onConfirm={selectDate}\r\n      />\r\n      </>\r\n    );\r\n  };\r\n  \r\n\r\n  \r\nexport default EnhancedTableToolbar\r\n","export const initialState = {\n    loading: 'idle', \n    response: {}, \n    errors: {},\n    showErrors: false,\n    summary: {\n      readyToPrint: false\n    }\n  }\n  \nexport const reducers = {\n    clear: (state, action) => (initialState)\n}","import { getDefaultMiddleware, createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { api } from 'api'\n\nimport { reducers, initialState } from 'store/reducers/reportReducers'\n\nexport const getSummary = createAsyncThunk(\n  'report/summary',\n     async (data, thunkAPI) => {\n     const response = await api.get(`/reports/summary?date=${data.date}`)\n     const report = response.data.data\n     report.readyToPrint = true\n     return {...report}\n   }\n)\n\nexport default createSlice({\n    name: 'report',\n    initialState: initialState,\n    reducers,\n    extraReducers: {\n         [getSummary.fulfilled]: (state, action) => {\n           const newState = {...state}\n           newState.summary = {...action.payload}\n          return {...newState}\n         },\n         [getSummary.rejected]: (state, action) => {\n           return {...initialState}\n         } \n    },\n    middleware: [...getDefaultMiddleware()],\n  })","import React, { useEffect, useRef } from 'react';\r\nimport {  useDispatch, useSelector } from 'react-redux'\r\nimport { FilterList } from '@material-ui/icons'\r\nimport { Paper, Typography } from '@material-ui/core'\r\nimport { Table, TableBody, TableCell, TableContainer, TableRow, TableHead } from '@material-ui/core'\r\n\r\nimport { useReactToPrint } from 'react-to-print';\r\n\r\nimport SelectDate from 'components/SelectDate/SelectDate'\r\nimport EnhancedTableHead from './EnhancedTableHead'\r\nimport EnhancedTableToolbar from './EnhancedTableToolbar'\r\n\r\nimport { getSummary } from 'store/slices/reportSlice'\r\nimport { formatNumber, formatDate, today, totalize } from 'utils/utils'\r\nimport { summaryTableHead } from 'store/mockups/settings.json'\r\nimport { useStyles } from './style'\r\n\r\nexport default function EnhancedTable() {\r\n  const classes = useStyles()\r\n  const componentRef = useRef()\r\n  const dispatch = useDispatch()\r\n  const [open, setOpen] = React.useState(false)\r\n  const [date, setDate] = React.useState(today())\r\n  const summary = useSelector(state => state.report.summary)\r\n\r\n  useEffect(() => {\r\n    dispatch(getSummary({ date }))\r\n    // eslint-disable-next-line \r\n  },[date])\r\n\r\n  const doPrint = useReactToPrint({\r\n      content: () => componentRef.current,\r\n  });\r\n  \r\n  const selectDate = (date) => setDate(date)\r\n\r\n  const { invoices, payments, products} = summary\r\n  const formatedDate = formatDate(new Date(date), { dateStyle: 'full' })\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper className={classes.paper}>\r\n        <EnhancedTableToolbar print={doPrint} selectDate={selectDate} date={date}/>\r\n        <TableContainer className={classes.container} ref={componentRef}>\r\n          {(invoices && invoices.length > 0) ?\r\n          <Table\r\n            size={'small'}\r\n            stickyHeader={true}\r\n            className={classes.table}\r\n            aria-label=\"enhanced table\"\r\n            aria-labelledby=\"tableTitle\"\r\n          >\r\n            <EnhancedTableHead headCells={summaryTableHead.invoices} title={`Facturas ${formatedDate}`}/>\r\n            <TableBody>\r\n              {(invoices || []).map((row) => \r\n                    <TableRow key={row.number} >\r\n                      <TableCell size=\"small\" align=\"right\" padding=\"checkbox\">{row.number}</TableCell>\r\n                      <TableCell size=\"small\">{row.tax_id}</TableCell>\r\n                      <TableCell size=\"medium\">{row.fullname}</TableCell>\r\n                      <TableCell size=\"small\" align=\"right\">{formatNumber(row.total)}</TableCell>\r\n                      <TableCell size=\"small\" align=\"right\">{formatNumber(row.total_bs)}</TableCell>\r\n                    </TableRow>\r\n                )}\r\n              <TableRow>\r\n                <TableCell colSpan={3} align=\"right\">Totales</TableCell>\r\n                <TableCell size=\"small\" align=\"right\">{formatNumber(totalize(invoices,'total'))}</TableCell>\r\n                <TableCell size=\"small\" align=\"right\">{formatNumber(totalize(invoices,'total_bs'))}</TableCell>\r\n              </TableRow>\r\n            </TableBody>\r\n            <EnhancedTableHead headCells={summaryTableHead.payments} title={'Totales por forma de pago'}/>\r\n            <TableBody>\r\n              {(payments || []).map((row) => \r\n                    <TableRow key={row.payment_type} >\r\n                      <TableCell colSpan={3}>{row.payment_type}</TableCell>\r\n                      <TableCell size=\"small\" align=\"right\">{formatNumber(row.total)}</TableCell>\r\n                      <TableCell size=\"small\" align=\"right\">{formatNumber(row.total_bs)}</TableCell>\r\n                    </TableRow>\r\n                )}\r\n              <TableRow>\r\n                <TableCell align=\"right\" colSpan={3}>Totales</TableCell>\r\n                <TableCell size=\"small\" align=\"right\">{formatNumber(totalize(payments,'total'))}</TableCell>\r\n                <TableCell size=\"small\" align=\"right\">{formatNumber(totalize(payments,'total_bs'))}</TableCell>\r\n              </TableRow>\r\n            </TableBody>\r\n            <EnhancedTableHead headCells={summaryTableHead.products} title={'Ventas por producto'}/>\r\n            <TableBody>\r\n              {(products || []).map((row) => \r\n                    <TableRow key={row.description} >\r\n                      <TableCell size=\"medium\" colSpan={4} >{row.description}</TableCell>\r\n                      <TableCell size=\"small\" align=\"right\">{formatNumber(row.quantity)}</TableCell>\r\n                    </TableRow>\r\n                )}\r\n            </TableBody>\r\n          </Table> :\r\n          <Table>\r\n             <TableHead >\r\n                <TableRow>\r\n                  <TableCell component=\"th\" colSpan={5}>\r\n                    <Typography variant=\"h5\" style={{textAlign: 'center'}}>\r\n                      No se consiguen datos, para el dia {formatedDate}\r\n                    </Typography>\r\n                  </TableCell>\r\n              </TableRow>\r\n              <TableRow>\r\n                  <TableCell component=\"th\" colSpan={5}>\r\n                  <Typography variant=\"h5\" style={{textAlign: 'center'}}>\r\n                    Favor elegir otra fecha aqui <FilterList onClick={() => setOpen(!open)} style={{cursor: 'pointer'}}/>\r\n                  </Typography>\r\n                  </TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n          </Table>\r\n          }\r\n        </TableContainer>\r\n        <SelectDate    \r\n          open={open}\r\n          date={date}\r\n          toogleOpen={() => setOpen(!open)}\r\n          title=\"Por favor seleccione la fecha\"\r\n          onConfirm={selectDate}\r\n        />\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport {\r\n  TableCell,TableRow, TableHead, TableSortLabel\r\n} from '@material-ui/core'\r\n\r\nconst EnhancedTableHead = (props) => {\r\n    const { \r\n      order,\r\n      classes,\r\n      orderBy,\r\n      headCells,\r\n      onRequestSort,\r\n    } = props;\r\n    const createSortHandler = (property) => (event) => {\r\n      onRequestSort(event, property);\r\n    };\r\n    return (\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell padding=\"checkbox\">\r\n          </TableCell>\r\n          {headCells.filter(s=> s.id).map((headCell) => (\r\n            <TableCell\r\n              key={headCell.id}\r\n              align={headCell.numeric ? 'right' : 'left'}\r\n              padding={headCell.disablePadding ? 'none' : 'default'}\r\n              sortDirection={orderBy === headCell.id ? order : false}\r\n            >\r\n              <TableSortLabel\r\n                active={orderBy === headCell.id}\r\n                direction={orderBy === headCell.id ? order : 'asc'}\r\n                onClick={createSortHandler(headCell.id)}\r\n              >\r\n                {headCell.label}\r\n                {orderBy === headCell.id ? (\r\n                  <span className={classes.visuallyHidden}>\r\n                    {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                  </span>\r\n                ) : null}\r\n              </TableSortLabel>\r\n            </TableCell>\r\n          ))}\r\n          <TableCell />\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n  \r\n  EnhancedTableHead.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    numSelected: PropTypes.number.isRequired,\r\n    onRequestSort: PropTypes.func.isRequired,\r\n    order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n    orderBy: PropTypes.string.isRequired,\r\n    rowCount: PropTypes.number.isRequired,\r\n  };\r\n\r\nexport default EnhancedTableHead","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n  },\r\n  textField: {\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    width: 200,\r\n  },\r\n}));\r\n\r\nexport default useStyles","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nimport useStyles from './style'\r\n\r\nexport default function SelectRange(props) {\r\n  const { open, toogleOpen, onConfirm, title } = props\r\n  const [range, setRange] = React.useState({from: props.range.from, to: props.range.to});\r\n\r\n  const handleChange = (field, value) => {\r\n    const newRange = {...range}\r\n    newRange[field] = value\r\n    setRange(newRange)\r\n  }\r\n\r\n  const accept = () => {\r\n    toogleOpen()\r\n    onConfirm(range)\r\n  }\r\n  const classes = useStyles();\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        keepMounted\r\n        onClose={toogleOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-slide-description\">\r\n            <TextField\r\n              id=\"date_from\"\r\n              label=\"Desde\"\r\n              type=\"date\"\r\n              value={range.from}\r\n              className={classes.textField}\r\n              onChange={(e) => handleChange('from', e.target.value)}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n            />\r\n            <TextField\r\n              id=\"date_to\"\r\n              label=\"Hasta\"\r\n              type=\"date\"\r\n              value={range.to}\r\n              className={classes.textField}\r\n              onChange={(e) => handleChange('to', e.target.value)}\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n            />\r\n            </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={toogleOpen} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          <Button onClick={accept} color=\"primary\">\r\n            Confimar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import { makeStyles, lighten } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n    },\r\n    paper: {\r\n      width: '100%',\r\n      marginBottom: theme.spacing(2),\r\n    },\r\n    table: {\r\n      minWidth: 750,\r\n    },\r\n    visuallyHidden: {\r\n      border: 0,\r\n      clip: 'rect(0 0 0 0)',\r\n      height: 1,\r\n      margin: -1,\r\n      overflow: 'hidden',\r\n      padding: 0,\r\n      position: 'absolute',\r\n      top: 20,\r\n      width: 1,\r\n    },\r\n    actions: {\r\n      margin: 0,\r\n      border: 'none',\r\n      display: 'flex'\r\n    },\r\n    container: {\r\n      maxHeight: 440,\r\n    }\r\n}))\r\n\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n    root: {\r\n      paddingLeft: theme.spacing(2),\r\n      paddingRight: theme.spacing(1), \r\n    },\r\n    highlight:\r\n      theme.palette.type === 'light'\r\n        ? {\r\n            color: theme.palette.secondary.main,\r\n            backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n          }\r\n        : {\r\n            color: theme.palette.text.primary,\r\n            backgroundColor: theme.palette.secondary.dark,\r\n          },\r\n    title: {\r\n      flex: '1 1 100%',\r\n    }\r\n}))\r\n\r\nexport {\r\n  useStyles,\r\n  useToolbarStyles\r\n}\r\n","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport PropTypes from 'prop-types'\r\nimport { Print, FilterList } from '@material-ui/icons'\r\nimport { Toolbar, Typography, Tooltip, IconButton } from '@material-ui/core'\r\nimport SelectRange from 'components/SelectRange/SelectRange'\r\n\r\nimport { formatDate } from 'utils/utils'\r\nimport { useToolbarStyles } from './style'\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const classes = useToolbarStyles()\r\n  const [open, setOpen] = React.useState(false)\r\n  const dateformatoptions = { dateStyle: 'full' }\r\n  const { selected, printItem, selectRange, range } = props\r\n  const numSelected = selected.length\r\n\r\n  const toogleRangeOpen = () => setOpen(!open)\r\n  return (\r\n      <>\r\n      <Toolbar\r\n        className={classnames(classes.root, {\r\n          [classes.highlight]: numSelected > 0,\r\n        })}\r\n      >\r\n        {numSelected > 0 ? (\r\n          <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\">\r\n            Factura numero: {selected[0]} seleccionada\r\n          </Typography>\r\n        ) : (\r\n          <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\r\n            Facturas\r\n            <span> desde: {formatDate(new Date(range.from),dateformatoptions)}</span>\r\n            <span> hasta: {formatDate(new Date(range.to),dateformatoptions)}</span>\r\n          </Typography>\r\n        )}\r\n  \r\n        {numSelected === 1 && \r\n          <Tooltip title=\"Imprimir\">\r\n            <IconButton aria-label=\"imprimir\" onClick={printItem}>\r\n              <Print  />\r\n            </IconButton>\r\n          </Tooltip>      \r\n        }\r\n        {numSelected === 0 && \r\n          <Tooltip title=\"Filtrar Items\">\r\n            <IconButton aria-label=\"filter list\" onClick={toogleRangeOpen}>\r\n              <FilterList />\r\n            </IconButton>\r\n          </Tooltip>\r\n        }\r\n      </Toolbar>\r\n      <SelectRange    \r\n        open={open}\r\n        range={range}\r\n        toogleOpen={toogleRangeOpen}\r\n        title=\"Por favor seleccione el rango de fechas\"\r\n        onConfirm={selectRange}\r\n      />\r\n      </>\r\n    );\r\n  };\r\n  \r\n  EnhancedTableToolbar.propTypes = {\r\n    selected: PropTypes.arrayOf(PropTypes.any).isRequired,\r\n  };\r\n  \r\n  \r\nexport default EnhancedTableToolbar\r\n","import React, { useEffect, useRef } from 'react';\r\nimport {  useDispatch, useSelector } from 'react-redux'\r\nimport { Paper, Checkbox, FormControlLabel, Switch } from '@material-ui/core'\r\nimport { Table, TableBody, TableCell, TableContainer, TablePagination, TableRow } from '@material-ui/core'\r\nimport { useReactToPrint } from 'react-to-print';\r\n\r\nimport EnhancedTableHead from './EnhancedTableHead'\r\nimport EnhancedTableToolbar from './EnhancedTableToolbar'\r\nimport Invoice from 'components/Invoice/Invoice'\r\n\r\nimport { getInvoicesDates, getInvoice } from 'store/slices/documentSlice'\r\nimport { getComparator, stableSort, formatNumber, formatDate, today } from 'utils/utils'\r\nimport { invoiceTableHead } from 'store/mockups/settings.json'\r\nimport { useStyles } from './style'\r\n\r\nexport default function EnhancedTable() {\r\n  const classes = useStyles();\r\n  const componentRef = useRef();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('group');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const rows = useSelector(state => state.document.invoices)\r\n  const { readyToPrint } = useSelector(state => state.document.invoice)\r\n  const [range, setRange] = React.useState({from: today(), to: today()});\r\n  const dispatch = useDispatch()\r\n\r\n  useEffect(() => {\r\n    dispatch(getInvoicesDates({ from: range.from, to: range.to }))\r\n    // eslint-disable-next-line \r\n  },[range])\r\n\r\n  useEffect(() => {\r\n    if(readyToPrint) {\r\n      doPrint()\r\n      toggleOpen()\r\n      dispatch({ type: 'document/clearInvoice' })\r\n    }\r\n    // eslint-disable-next-line \r\n  }, [readyToPrint])\r\n  \r\n  const toggleOpen  = () => dispatch({ type: 'state/toogleShowInvoiceForm' })\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleClick = (event, id) => {\r\n    const selectedIndex = selected.indexOf(id);\r\n    if (selectedIndex === -1) {\r\n      setSelected([id])\r\n    }\r\n    else {\r\n      setSelected([])\r\n    }  \r\n  }\r\n\r\n  const doPrint = useReactToPrint({\r\n    content: () => componentRef.current,\r\n  });\r\n\r\n  const handleChangePage = (event, newPage) =>  setPage(newPage);\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const handleChangeDense = (event) => setDense(event.target.checked)\r\n\r\n  const printItem = () => {\r\n    if(!selected[0]) return\r\n    const item = selected[0]\r\n    const invoice = rows.find(s=> s.number===item)\r\n    dispatch(getInvoice(invoice.id))\r\n    setSelected([])\r\n  }\r\n\r\n  const isSelected = (name) => selected.indexOf(name) !== -1;\r\n\r\n  const selectRange = (e) => setRange (e)\r\n\r\n  if(!rows) return null\r\n\r\n  const totalInvoices = rows.reduce((acc, row)=> (acc+row.total), 0)\r\n  const totalInvoicesBs = rows.reduce((acc, row)=> (acc+(row.total*row.exchange)), 0)\r\n\r\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper className={classes.paper}>\r\n        <EnhancedTableToolbar \r\n          selected={selected} \r\n          printItem={printItem}\r\n          range={range}\r\n          selectRange={selectRange}\r\n        />\r\n        <TableContainer classes={classes.container}>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size={dense ? 'small' : 'medium'}\r\n            aria-label=\"enhanced table\"\r\n            stickyHeader={true}\r\n          >\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              headCells={invoiceTableHead}\r\n              numSelected={selected.length}\r\n              onRequestSort={handleRequestSort}\r\n              rowCount={rows.length}\r\n              actions\r\n            />\r\n            <TableBody>\r\n              {stableSort(rows, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, index) => {\r\n                  const isItemSelected = isSelected(row.id);\r\n                  const labelId = `enhanced-table-checkbox-${index}`;\r\n                  const totalbs = row.exchange * row.total\r\n                  const taxId = !row.person ? '' : `${row.person['tax_id']}`\r\n                  const fullname = !row.person ? '' : `${row.person.firstname} ${row.person.lastname}`\r\n                  const date = Date.parse(row.date)\r\n                  return (\r\n                    <TableRow\r\n                      hover\r\n                      onClick={(event) => handleClick(event, row.id)}\r\n                      role=\"checkbox\"\r\n                      aria-checked={isItemSelected}\r\n                      tabIndex={-1}\r\n                      key={row.id}\r\n                      selected={isItemSelected}\r\n                    >\r\n                      <TableCell padding=\"checkbox\">\r\n                        <Checkbox\r\n                          checked={isItemSelected}\r\n                          inputProps={{ 'aria-labelledby': labelId }}\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"checkbox\" align=\"center\" >\r\n                        {row.number}\r\n                      </TableCell>\r\n                      <TableCell padding=\"none\">{formatDate(date)}</TableCell>\r\n                      <TableCell size=\"medium\">{taxId}</TableCell>\r\n                      <TableCell size=\"medium\">{fullname}</TableCell>\r\n                      <TableCell size=\"small\" align=\"right\">{formatNumber(row.total)}</TableCell>\r\n                      <TableCell size=\"small\" align=\"right\">{formatNumber(totalbs)}</TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              <TableRow>\r\n                <TableCell colSpan={5} align=\"right\">Totales</TableCell>\r\n                <TableCell align=\"right\">{formatNumber(totalInvoices)}</TableCell>\r\n                <TableCell align=\"right\">{formatNumber(totalInvoicesBs)}</TableCell>\r\n              </TableRow>\r\n              {emptyRows > 0 && (\r\n                <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          page={page}\r\n          component=\"div\"\r\n          count={rows.length}\r\n          rowsPerPage={rowsPerPage}\r\n          onChangePage={handleChangePage}\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          onChangeRowsPerPage={handleChangeRowsPerPage}\r\n        />\r\n\r\n      </Paper>\r\n      <FormControlLabel\r\n        control={<Switch checked={dense} onChange={handleChangeDense} />}\r\n        label=\"Tabla condensada\"\r\n      />\r\n      <div style={{ display: \"none\" }}><Invoice  ref={componentRef} /></div>\r\n    </div>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport {\r\n  TableCell,TableRow, TableHead, TableSortLabel, Checkbox\r\n} from '@material-ui/core'\r\n\r\nconst EnhancedTableHead = (props) => {\r\n    const { \r\n      order,\r\n      classes,\r\n      orderBy,\r\n      rowCount,\r\n      headCells,\r\n      numSelected,\r\n      onRequestSort,\r\n      onSelectAllClick\r\n    } = props;\r\n    const createSortHandler = (property) => (event) => {\r\n      onRequestSort(event, property);\r\n    };\r\n    return (\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={rowCount > 0 && numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n              inputProps={{ 'aria-label': 'select all' }}\r\n            />\r\n          </TableCell>\r\n          {headCells.filter(s=> s.id).map((headCell) => (\r\n            <TableCell\r\n              key={headCell.id}\r\n              align={headCell.numeric ? 'right' : 'left'}\r\n              padding={headCell.disablePadding ? 'none' : 'default'}\r\n              sortDirection={orderBy === headCell.id ? order : false}\r\n            >\r\n              <TableSortLabel\r\n                active={orderBy === headCell.id}\r\n                direction={orderBy === headCell.id ? order : 'asc'}\r\n                onClick={createSortHandler(headCell.id)}\r\n              >\r\n                {headCell.label}\r\n                {orderBy === headCell.id ? (\r\n                  <span className={classes.visuallyHidden}>\r\n                    {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                  </span>\r\n                ) : null}\r\n              </TableSortLabel>\r\n            </TableCell>\r\n          ))}\r\n          <TableCell />\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n  \r\n  EnhancedTableHead.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    numSelected: PropTypes.number.isRequired,\r\n    onRequestSort: PropTypes.func.isRequired,\r\n    onSelectAllClick: PropTypes.func.isRequired,\r\n    order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n    orderBy: PropTypes.string.isRequired,\r\n    rowCount: PropTypes.number.isRequired,\r\n  };\r\n\r\nexport default EnhancedTableHead","import { makeStyles, lighten } from '@material-ui/core/styles'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      width: '100%',\r\n    },\r\n    paper: {\r\n      width: '100%',\r\n      marginBottom: theme.spacing(2),\r\n    },\r\n    table: {\r\n      minWidth: 750,\r\n    },\r\n    visuallyHidden: {\r\n      border: 0,\r\n      clip: 'rect(0 0 0 0)',\r\n      height: 1,\r\n      margin: -1,\r\n      overflow: 'hidden',\r\n      padding: 0,\r\n      position: 'absolute',\r\n      top: 20,\r\n      width: 1,\r\n    },\r\n    actions: {\r\n      margin: 0,\r\n      border: 'none',\r\n      display: 'flex'\r\n    }\r\n}))\r\n\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n    root: {\r\n      paddingLeft: theme.spacing(2),\r\n      paddingRight: theme.spacing(1), \r\n    },\r\n    highlight:\r\n      theme.palette.type === 'light'\r\n        ? {\r\n            color: theme.palette.secondary.main,\r\n            backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n          }\r\n        : {\r\n            color: theme.palette.text.primary,\r\n            backgroundColor: theme.palette.secondary.dark,\r\n          },\r\n    title: {\r\n      flex: '1 1 100%',\r\n    }\r\n}))\r\n\r\nexport {\r\n  useStyles,\r\n  useToolbarStyles\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function ConfirmActionDialog(props) {\r\n  const { open, toogleOpen, onConfirm, title, content } = props\r\n  const accept = () => {\r\n    toogleOpen()\r\n    onConfirm()\r\n  }\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={toogleOpen}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-slide-description\">{content}</DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={toogleOpen} color=\"primary\">\r\n            Cancelar\r\n          </Button>\r\n          <Button onClick={accept} color=\"primary\">\r\n            Confimar\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport classnames from 'classnames'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { Delete, FilterList, AddCircle, Edit } from '@material-ui/icons'\r\nimport { Toolbar, Typography, Tooltip, IconButton } from '@material-ui/core'\r\n\r\nimport { useToolbarStyles } from './style'\r\nimport ConfirmActionDialog from 'components/ConfirmActionDialog/ConfirmActionDialog'\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const classes = useToolbarStyles()\r\n  const [open, setOpen] = React.useState(false)\r\n  const { selected, deleteItem, addItem, editItem } = props\r\n  const numSelected = selected.length\r\n\r\n  const toogleConfirmOpen = () => setOpen(!open)\r\n\r\n  return (\r\n      <>\r\n      <Toolbar\r\n        className={classnames(classes.root, {\r\n          [classes.highlight]: numSelected > 0,\r\n        })}\r\n      >\r\n        {numSelected > 0 ? (\r\n          <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\">\r\n            {numSelected} seleccionados\r\n          </Typography>\r\n        ) : (\r\n          <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\r\n            Productos\r\n          </Typography>\r\n        )}\r\n  \r\n        {numSelected === 1 && \r\n          <Tooltip title=\"Modificar\">\r\n            <IconButton aria-label=\"modificar\" onClick={editItem}>\r\n              <Edit  />\r\n            </IconButton>\r\n          </Tooltip>      \r\n        }\r\n        {numSelected > 0 ? (<>\r\n          <Tooltip title=\"Eliminar\">\r\n            <IconButton aria-label=\"delete\" onClick={toogleConfirmOpen}>\r\n              <Delete  />\r\n            </IconButton>\r\n          </Tooltip>\r\n          </>) : (<>\r\n          <Tooltip title=\"Filtrar Items\">\r\n            <IconButton aria-label=\"filter list\">\r\n              <FilterList />\r\n            </IconButton>\r\n          </Tooltip>\r\n          <Tooltip title=\"Agregar Item\">\r\n            <IconButton aria-label=\"add item\">\r\n              <AddCircle onClick={addItem}/>\r\n            </IconButton>\r\n          </Tooltip>\r\n        </>)}\r\n      </Toolbar>\r\n      <ConfirmActionDialog\r\n        open={open}\r\n        toogleOpen={toogleConfirmOpen}\r\n        title=\"Por favor verifique\"\r\n        content={`Esta eliminando ${numSelected} producto(s), desea continuar ?`}\r\n        onConfirm={deleteItem}\r\n      />\r\n      </>\r\n    );\r\n  };\r\n  \r\n  EnhancedTableToolbar.propTypes = {\r\n    selected: PropTypes.arrayOf(PropTypes.any).isRequired,\r\n  };\r\n  \r\n  \r\nexport default EnhancedTableToolbar\r\n","import { makeStyles } from '@material-ui/core/styles'\r\n\r\nexport const useStyles = makeStyles((theme) => ({\r\n    button: {\r\n      margin: theme.spacing(1),\r\n    },\r\n  }));\r\n","import { useSelector, useDispatch } from 'react-redux'\r\nimport { validate } from 'utils/utils'\r\nimport { TextField } from '@material-ui/core';\r\nimport { productFormFields } from 'store/mockups/settings.json'\r\n\r\nimport { useStyles } from './style'\r\n\r\nconst InvoiceForm = () => {\r\n    const classes = useStyles();\r\n    const dispatch = useDispatch()\r\n    const { \r\n        product,\r\n        errors \r\n    } = useSelector(state => state.product)\r\n\r\n    const handleChange = (event) => {\r\n        const target = event.target\r\n        const newData = { ...product, [target.name]: target.value }\r\n        const newErrors = validate(productFormFields, {...newData})\r\n        dispatch({ type: 'product/setProduct', payload:  newData })\r\n        dispatch({ type: 'product/setErrors', payload:  newErrors })\r\n    };\r\n\r\n    if(!product) return null\r\n    return (\r\n        <div>\r\n            <form className={classes.root} noValidate autoComplete=\"off\">                \r\n                {Object.keys(productFormFields).map(key => {\r\n                    const error = errors[key]\r\n                    const helperText = error ? \r\n                        error :\r\n                        productFormFields[key].helperText\r\n                    return (\r\n                        <TextField\r\n                            key={key}\r\n                            name={key}\r\n                            size='medium'\r\n                            margin=\"normal\"\r\n                            value={product[key] || ''}\r\n                            style={{ margin: 8 }}\r\n                            onChange={handleChange}\r\n                            InputLabelProps={{ shrink: true }}\r\n                            label={productFormFields[key].label}\r\n                            helperText={helperText || ''}\r\n                            fullWidth={productFormFields[key].fullWidth || false}\r\n                            placeholder={productFormFields[key].placeholder || ''}\r\n                            error={error}\r\n                        /> \r\n                    )\r\n                }\r\n                )}\r\n            </form>            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InvoiceForm","export const initialState = {\n    loading: 'idle', \n    errors: {},\n    product: {},\n    response: {}, \n    showErrors: false,\n  }\n  \nexport const reducers = {\n  setProduct: ( state, action ) => {\n    return {...state, product: action.payload}\n  },\n  setErrors: ( state, action ) => {\n    return {...state, errors: action.payload}\n  }\n}","import { getDefaultMiddleware, createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { uniq } from 'lodash'\nimport { api } from 'api'\n\nimport { reducers, initialState } from 'store/reducers/productReducers'\n\nexport const getProducts = createAsyncThunk(\n    'product/getProducts',\n    async (thunkAPI) => {\n      const products = await api.get('/products')\n      const departaments = uniq(products.data.data.map(s=> s.departament)).sort()\n      return {\n        products:products.data.data,\n        departaments:departaments,\n      }\n    }\n)\n\nexport const saveProduct = createAsyncThunk(\n  'product/saveProduct',\n  async (data, thunkAPI) => {\n    let response = null\n    if(!data.id) {\n      response = await api.post(`/products`, data)\n    } else {\n      response = await api.put(`/products/${data.id}`, data)\n    }\n    const dispatch = thunkAPI.dispatch\n    dispatch(getProducts())\n    return {...response.data.data}\n  }\n)\n\nexport const deleteProducts = createAsyncThunk(\n  'product/deleteProducts',\n  async (data, thunkAPI) => {    \n    data.forEach(async (element) => {\n       const result = await api.delete(`products/${element}`)\n       if(!result.status===200) {\n         console.log(result)\n       }\n    });\n    const dispatch = thunkAPI.dispatch\n    dispatch(getProducts())\n  }\n)\n\nexport default createSlice({\n    name: 'product',\n    initialState: { ...initialState },\n    reducers,\n    extraReducers: {\n        [getProducts.fulfilled]: (state, action) => {\n          return {...state, ...action.payload}\n        },\n        [getProducts.rejected]: (state, action) => {\n          return state\n        },\n        [deleteProducts.fulfilled]: (state, action) => {\n          return state\n        },\n        [deleteProducts.rejected]: (state, action) => {\n          return state\n        },\n        [saveProduct.fulfilled]: (state, action) => {\n          console.log(action.payload)\n          return state\n        },\n        [saveProduct.rejected]: (state, action) => {\n          console.log(action.payload)\n          return state\n        }\n\n    },\n    middleware: [...getDefaultMiddleware()],\n  })","import { useSelector, useDispatch } from 'react-redux'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport MuiAlert from '@material-ui/lab/Alert'\r\nimport Button from '@material-ui/core/Button'\r\nimport ProductForm from 'components/Products/ProductForm/ProductForm'\r\nimport { saveProduct } from 'store/slices/productSlice'\r\nimport { useState } from 'react'\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />\r\n}\r\n\r\nconst ProductModal = () => {\r\n    const dispatch = useDispatch()    \r\n    const [open, setOpen] = useState(false)\r\n    const toggleOpen  = () => dispatch({ type: 'state/toogleOpenProductForm' })\r\n    const { showProductForm } = useSelector(state => state.state)\r\n    const { product, errors } = useSelector(state => state.product)\r\n    const hasErrors = Object.keys(errors).length > 0\r\n\r\n    const save = () => {\r\n        if(hasErrors) {\r\n            setOpen(true)\r\n            return\r\n        }\r\n        setOpen(false)\r\n        dispatch(saveProduct(product))\r\n        dispatch({ type: 'state/toogleOpenProductForm' })\r\n    }\r\n\r\n    return (\r\n    <Dialog open={showProductForm} onClose={toggleOpen} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">Datos del Producto</DialogTitle>\r\n        <DialogContent>\r\n            <ProductForm />\r\n        </DialogContent>\r\n        <DialogActions>\r\n            <Button onClick={toggleOpen} color=\"secondary\">Cancelar</Button>\r\n            <Button onClick={save} color=\"primary\">Aceptar</Button>\r\n        </DialogActions>\r\n        <Snackbar open={open} autoHideDuration={6000} onClose={() => setOpen(false)}>\r\n                <Alert severity=\"error\">El formulario presenta errores o no esta completo</Alert>\r\n        </Snackbar>\r\n    </Dialog>\r\n    )\r\n}\r\n\r\n\r\nexport default ProductModal","import React from 'react';\r\nimport {  useDispatch, useSelector } from 'react-redux'\r\n\r\nimport { Edit, Delete } from '@material-ui/icons'\r\nimport { Paper, Checkbox, FormControlLabel, Switch, Tooltip, IconButton } from '@material-ui/core'\r\nimport { Table, TableBody, TableCell, TableContainer, TablePagination, TableRow } from '@material-ui/core'\r\n\r\nimport EnhancedTableHead from './EnhancedTableHead'\r\nimport EnhancedTableToolbar from './EnhancedTableToolbar'\r\nimport ProductModal from 'components/Products/ProductModal/ProductModal'\r\n\r\nimport { getComparator, stableSort } from 'utils/utils'\r\nimport { productTableHead } from 'store/mockups/settings.json'\r\nimport { deleteProducts } from 'store/slices/productSlice'\r\nimport { useStyles } from './style'\r\n\r\nexport default function EnhancedTable() {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('group');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n  const rows = useSelector(state => state.product.products)\r\n  const dispatch = useDispatch()\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = rows.map((n) => n.sku);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleClick = (event, name) => {\r\n    const selectedIndex = selected.indexOf(name);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, name);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1),\r\n      );\r\n    }\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const handleChangeDense = (event) => {\r\n    setDense(event.target.checked);\r\n  };\r\n\r\n  const deleteProduct = () => {\r\n    const ids = selected.map(item=> rows.find(s=> s.sku===item).id)\r\n    console.log(ids)\r\n    setPage(0)\r\n    setSelected([])\r\n    dispatch(deleteProducts(ids))\r\n  }\r\n\r\n  const editProduct = () => {\r\n    if(!selected[0]) return\r\n    const item = selected[0]\r\n    const product = rows.find(s=> s.sku===item)\r\n    dispatch({ type: 'product/setProduct', payload: product })\r\n    dispatch({ type: 'state/toogleOpenProductForm' })\r\n    setSelected([])\r\n  }\r\n\r\n  const addProduct = () => {\r\n    dispatch({ type: 'product/setProduct', payload: {} })\r\n    dispatch({ type: 'state/toogleOpenProductForm' })\r\n    setSelected([])\r\n  }\r\n\r\n  const actions = () => \r\n    <>\r\n      <Tooltip title=\"Eliminar\">\r\n        <IconButton aria-label=\"delete\" onClick={deleteProduct}>\r\n          <Delete  />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Tooltip title=\"Editar\">\r\n        <IconButton aria-label=\"delete\" onClick={editProduct}>\r\n          <Edit />\r\n        </IconButton>\r\n      </Tooltip>\r\n    </>\r\n\r\n\r\n  const isSelected = (name) => selected.indexOf(name) !== -1;\r\n\r\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper className={classes.paper}>\r\n        <EnhancedTableToolbar \r\n          selected={selected} \r\n          addItem={addProduct}\r\n          deleteItem={deleteProduct}\r\n          editItem={editProduct}\r\n        />\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size={dense ? 'small' : 'medium'}\r\n            aria-label=\"enhanced table\"\r\n            stickyHeader={true}\r\n          >\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              headCells={productTableHead}\r\n              numSelected={selected.length}\r\n              onSelectAllClick={handleSelectAllClick}\r\n              onRequestSort={handleRequestSort}\r\n              rowCount={rows.length}\r\n              actions\r\n            />\r\n            <TableBody>\r\n              {stableSort(rows, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, index) => {\r\n                  const isItemSelected = isSelected(row.sku);\r\n                  const labelId = `enhanced-table-checkbox-${index}`;\r\n                  return (\r\n                    <TableRow\r\n                      hover\r\n                      onClick={(event) => handleClick(event, row.sku)}\r\n                      role=\"checkbox\"\r\n                      aria-checked={isItemSelected}\r\n                      tabIndex={-1}\r\n                      key={row.sku}\r\n                      selected={isItemSelected}\r\n                    >\r\n                      <TableCell padding=\"checkbox\">\r\n                        <Checkbox\r\n                          checked={isItemSelected}\r\n                          inputProps={{ 'aria-labelledby': labelId }}\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"checkbox\">\r\n                        {row.description}\r\n                      </TableCell>\r\n                      <TableCell padding=\"none\">{row.departament}</TableCell>\r\n                      <TableCell size=\"small\" align=\"right\">{row.stock}</TableCell>\r\n                      <TableCell size=\"small\" align=\"right\">{row.tax * 100}%</TableCell>\r\n                      <TableCell size=\"small\" align=\"right\">{row.price}</TableCell>\r\n                      <TableCell size=\"small\" align=\"right\">{row.price_2}</TableCell>\r\n                      <TableCell size=\"small\" align=\"right\">{row.price_3}</TableCell>\r\n                      <TableCell className={classes.actions}>{isItemSelected ? actions() : <div />}</TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              {emptyRows > 0 && (\r\n                <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={rows.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onChangePage={handleChangePage}\r\n          onChangeRowsPerPage={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n      <FormControlLabel\r\n        control={<Switch checked={dense} onChange={handleChangeDense} />}\r\n        label=\"Tabla condensada\"\r\n      />\r\n      <ProductModal />\r\n    </div>\r\n  );\r\n}\r\n","import { makeStyles } from '@material-ui/core/styles';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      display: 'flex',\n    },\n    toolbar: {\n      paddingleft: 0, // keep right padding when drawer closed\n      paddingRight: 4, // keep right padding when drawer closed\n    },\n    toolbarIcon: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      padding: '0 8px',\n      ...theme.mixins.toolbar,\n    },\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n    },\n    appBarShift: {\n      marginLeft: drawerWidth,\n      width: `calc(100% - ${drawerWidth}px)`,\n      transition: theme.transitions.create(['width', 'margin'], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    menuButton: {\n      marginRight: 5,\n    },\n    menuButtonHidden: {\n      display: 'none',\n    },\n    title: {\n      flexGrow: 1,\n    },\n    drawerPaper: {\n      position: 'relative',\n      whiteSpace: 'nowrap',\n      width: drawerWidth,\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.enteringScreen,\n      }),\n    },\n    drawerPaperClose: {\n      overflowX: 'hidden',\n      transition: theme.transitions.create('width', {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n      width: theme.spacing(7),\n      [theme.breakpoints.up('sm')]: {\n        width: theme.spacing(9),\n      },\n    },\n    appBarSpacer: theme.mixins.toolbar,\n    content: {\n      flexGrow: 1,\n      height: '100vh',\n      overflow: 'auto',\n    },\n    container: {\n      paddingTop: theme.spacing(4),\n      paddingBottom: theme.spacing(4),\n    },\n    paper: {\n      padding: theme.spacing(2),\n      display: 'flex',\n      overflow: 'auto',\n      flexDirection: 'column',\n    },\n    fixedHeight: {\n      height: 240,\n    },\n  }));\n\n  export default useStyles;","import { useSelector, useDispatch } from 'react-redux'\r\n\r\nimport MuiAlert from '@material-ui/lab/Alert'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\n\r\n// TODO testing\r\nconst Messages = () => {\r\n    const dispatch = useDispatch()   \r\n    const messages = useSelector(state => state.state.messages)\r\n    const messagesOpen = messages.length > 0    \r\n    const close = (e) => dispatch({type: 'state/removeMessage', payload: { id: e.messageId } })\r\n    if(!messagesOpen) return null\r\n    return (\r\n        <Snackbar open={messagesOpen} autoHideDuration={6000} >\r\n            <MuiAlert\r\n                elevation={6}\r\n                onClose={close} \r\n                variant=\"filled\"\r\n                key={messages[0].id}\r\n                messageId={messages[0].id}\r\n                severity={messages[0].severity}\r\n            >{messages[0].message}</MuiAlert>\r\n        </Snackbar>\r\n    )\r\n\r\n}\r\n\r\nexport default Messages","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Switch, BrowserRouter, Route } from \"react-router-dom\"\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\n\n\nimport Bar from './Bar/Bar'\nimport Home from 'components/Home'\nimport Login from 'components/Login/Login'\nimport LeftDrawer from './LeftDrawer/LeftDrawer'\n\nimport Settings from 'components/Settings/Settings'\nimport PrivateRoute from 'components/PrivateRoute/PrivateRoute'\nimport ReportSummary from 'components/ReportSummary/ReportSummary'\nimport InvoicesTable from 'components/Invoice/Invoices/InvoicesTable'\nimport ProductsEditTable from 'components/Products/ProductsEditTable/ProductsEditTable'\n\nimport useStyles from './styles'\nimport Messages from 'components/Messages';\n\nexport default function Dashboard() {\n  const classes = useStyles();\n  const { loading } = useSelector(state => state.state)\n  const { user } = useSelector(state => state.auth)\n  if (loading!=='idle') return ( null )\n  return (\n    <BrowserRouter>\n    <div className={classes.root}>\n      <CssBaseline />\n      <Messages />\n      <Bar />\n      <LeftDrawer />\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n        <Container maxWidth=\"lg\" className={classes.container}>\n              <Switch>\n                <Route \n                  exact path={\"/\"}\n                  render={() => <Home /> }\n                />\n                <Route \n                  exact path={\"/login/\"}                    \n                  render={() => ((user && user.active) ? <Home />: <Login />) }\n                />\n                <PrivateRoute\n                  exact path={\"/products/\"}\n                ><ProductsEditTable /></PrivateRoute>\n                <PrivateRoute\n                  exact path={\"/invoices/\"}\n                ><InvoicesTable /></PrivateRoute>\n                <PrivateRoute\n                  exact path={\"/summary/\"}\n                ><ReportSummary /></PrivateRoute>\n                <PrivateRoute\n                  exact path={\"/parameters/\"}\n                ><Settings /></PrivateRoute>\n              </Switch>\n        </Container>\n      </main>\n    </div>\n    </BrowserRouter>\n  );\n}\n","import uuid from 'uuid-random'\r\n\r\nexport const initialState = {\r\n        products: [],\r\n        show: false,\r\n}\r\n\r\nexport const reducers = {\r\n    \r\n    addProduct: ( state, action ) => {\r\n        const newProducts=[...state.products, {\r\n            ...action.payload, \r\n            cart_id: uuid()\r\n        }]\r\n        return {...state, products: newProducts}\r\n    },\r\n\r\n    addProductOffer: ( state, action ) => {\r\n        const newProducts=[...state.products, {\r\n            ...action.payload, \r\n            isOffer: true,\r\n            id: action.payload.product_id,\r\n            cart_id: uuid()\r\n        }]\r\n        return {...state, products: newProducts}\r\n    },\r\n    \r\n    removeProduct: ( state, action ) => {\r\n        const newProducts = state.products.map(item => {\r\n            let removeQuantity = 1\r\n            if(item.isOffer) {\r\n                removeQuantity = action.payload.quantity\r\n            }\r\n            if(item.cart_id === action.payload.cart_id) {\r\n                return {\r\n                    ...item,\r\n                    quantity: item.quantity - removeQuantity\r\n                }\r\n            }\r\n            return item;\r\n        })\r\n\r\n        return {...state, products: newProducts.filter(s=> s.quantity>0)}\r\n    },\r\n\r\n    removeProductItem: ( state, action ) => {\r\n        const newProducts = state.products.filter(item => (\r\n            item['cart_id'] !== action.payload.cart_id\r\n        ))\r\n        return {...state, products: newProducts}\r\n    },\r\n\r\n    clear: (state, action) => (initialState)\r\n\r\n}\r\n\r\n","import { getDefaultMiddleware, createSlice } from \"@reduxjs/toolkit\";\n\nimport { reducers, initialState } from 'store/reducers/cartReducers'\n  \nexport default createSlice({\n    name: 'cart',\n    initialState,\n    reducers ,\n    middleware: [...getDefaultMiddleware()],\n  })","export const initialState = {\n        payments: [],\n        open: false,\n}\n\nexport const reducers = {\n    \n    addPayment: ( state, action ) => {\n        const payments = [...state.payments, action.payload]\n        return {...state, payments}\n    },\n\n  \n    removePayment: ( state, action ) => {\n        const key = action.payload\n        const payments = state.payments\n        const newPayments = \n            payments.slice(0, key).concat(payments.slice(key + 1, payments.length))\n\n        return {...state, payments: newPayments}\n    },\n\n    toogleOpen: (state) => {\n        const newState = {...state, open: !state.open}\n        return {...newState}\n      },\n    \n\n    clear: (state, action) => (initialState)\n\n}\n\n","import { getDefaultMiddleware, createSlice } from \"@reduxjs/toolkit\";\n\nimport { reducers, initialState } from 'store/reducers/paymentReducers'\n  \nexport default createSlice({\n    name: 'payment',\n    initialState,\n    reducers ,\n    middleware: [...getDefaultMiddleware()],\n  })","import { configureStore } from \"@reduxjs/toolkit\";\nimport authSlice from 'store/slices/authSlice'\nimport stateSlice from 'store/slices/stateSlice'\nimport cartSlice from 'store/slices/cartSlice'\nimport paymentSlice from 'store/slices/paymentSlice'\nimport documentSlice from 'store/slices/documentSlice'\nimport productSlice from 'store/slices/productSlice'\nimport reportSlice from 'store/slices/reportSlice'\n\nconst store = configureStore({\n  reducer: {\n    auth: authSlice.reducer,\n    state: stateSlice.reducer,\n    cart: cartSlice.reducer,\n    document: documentSlice.reducer,\n    payment: paymentSlice.reducer,\n    product: productSlice.reducer,\n    report: reportSlice.reducer,\n  }\n})\n  \nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/main.css'\nimport App from 'containers/App/App';\n// import registerServiceWorker from './registerServiceWorker'\nimport store from 'store/store'\nimport { Provider } from 'react-redux';\nimport { getData } from 'store/slices/stateSlice'\nimport { getProducts } from 'store/slices/productSlice'\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport { esES } from '@material-ui/core/locale';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: { main: '#1976d2' },\n  },\n}, esES);\n\nif(document.getElementById('root')) {\n  store.dispatch(getData())\n  store.dispatch(getProducts())\n  ReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n          <ThemeProvider theme={theme}>\n            <App />\n          </ThemeProvider>\n      </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n// registerServiceWorker()\n"],"sourceRoot":""}